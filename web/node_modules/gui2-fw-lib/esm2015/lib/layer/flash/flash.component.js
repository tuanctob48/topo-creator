/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingReturn,uselessCode} checked by tsc
 */
/*
 * Copyright 2018-present Open Networking Foundation
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
import { Component, Input, Output, EventEmitter } from '@angular/core';
import { trigger, state, style, animate, transition } from '@angular/animations';
/**
 * ONOS GUI -- Layer -- Flash Component
 *
 * Replaces Flash Service in old GUI.
 * Provides a mechanism to flash short informational messages to the screen
 * to alert the user of something, e.g. "Hosts visible" or "Hosts hidden".
 *
 * It can be used in a warning mode, where text will appear in red
 * The dwell time (milliseconds) can be controlled or the default is 1200ms
 *
 * To use add an element to the template like
 *   <onos-flash message="Hosts visible" dwell="2000" warning="true"></onos-flash>
 * This whole element can be disabled until needed with an ngIf, but if this is done
 * the animated fade-in and fade-out will not happen
 * There is also a (closed) event that tells you when the message is closed, or
 * fades-out
 */
export class FlashComponent {
    constructor() {
        this.dwell = 1200; // milliseconds
        // milliseconds
        this.warning = false;
        this.closed = new EventEmitter();
        this.visible = false;
    }
    /**
     * Flash a message up for 1200ms then disappear again.
     * See animation parameter for the ease in and ease out params
     * @param {?} changes
     * @return {?}
     */
    ngOnChanges(changes) {
        if (changes['message'] && this.message && this.message !== '') {
            this.visible = true;
            setTimeout(() => {
                this.visible = false;
                this.closed.emit(false);
            }, this.dwell);
        }
    }
    /**
     * The message will flash up for 'dwell' milliseconds
     * If dwell is > 2000ms, then there will be a button that allows it to be dismissed now
     * @return {?}
     */
    closeNow() {
        this.visible = false;
        this.closed.emit(false);
    }
}
FlashComponent.decorators = [
    { type: Component, args: [{
                selector: 'onos-flash',
                template: `<!--
~ Copyright 2018-present Open Networking Foundation
~
~ Licensed under the Apache License, Version 2.0 (the "License");
~ you may not use this file except in compliance with the License.
~ You may obtain a copy of the License at
~
~     http://www.apache.org/licenses/LICENSE-2.0
~
~ Unless required by applicable law or agreed to in writing, software
~ distributed under the License is distributed on an "AS IS" BASIS,
~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
~ See the License for the specific language governing permissions and
~ limitations under the License.
-->
<div id="flash" class="dialog" [ngClass]="warning?'warning':''" [@flashState]="visible">
    <div id="flashBox" *ngIf="visible">
        <p id="flashText">{{ message }}</p>
        <div class="dialog-button" *ngIf="dwell>1200" (click)="closeNow()">Dismiss</div>
    </div>
</div>`,
                styles: [`#flash{position:fixed;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);z-index:1400}#flash.warning div#flashBox{border:2px solid #222;border-radius:10px;background:#fff;padding:10px}#flash div#flashBox{background:#ccc;border-radius:10px;padding:1px}#flash div#flashBox div.dialog-button{-webkit-transform:translateY(-32px);transform:translateY(-32px)}#flash.warning p#flashText{stroke:red;color:red;text-anchor:middle;alignment-baseline:middle;text-align:center;font-size:16pt;border-radius:10px;background:#fff;padding:10px}#flash p#flashText{stroke:none;color:#222;text-anchor:middle;alignment-baseline:middle;text-align:center;font-size:16pt;border-radius:10px;background:#ccc;padding:5px}`, `.dialog h2{margin:0;word-wrap:break-word;display:inline-block;width:210px;vertical-align:middle}.dialog .dialog-button{display:inline-block;cursor:pointer;height:20px;padding:6px 8px 2px;margin:4px;float:right}`, `.dialog .dialog-button{background-color:#518ecc;color:#fff}.dark .dialog .dialog-button{background-color:#345e85;color:#cccccd}`],
                animations: [
                    trigger('flashState', [
                        state('false', style({
                            //                transform: 'translateY(-400%)',
                            opacity: '0.0',
                        })),
                        state('true', style({
                            //                transform: 'translateY(0%)',
                            opacity: '1.0',
                        })),
                        transition('0 => 1', animate('200ms ease-in')),
                        transition('1 => 0', animate('200ms ease-out'))
                    ])
                ]
            },] },
];
FlashComponent.propDecorators = {
    message: [{ type: Input }],
    dwell: [{ type: Input }],
    warning: [{ type: Input }],
    closed: [{ type: Output }]
};
if (false) {
    /** @type {?} */
    FlashComponent.prototype.message;
    /** @type {?} */
    FlashComponent.prototype.dwell;
    /** @type {?} */
    FlashComponent.prototype.warning;
    /** @type {?} */
    FlashComponent.prototype.closed;
    /** @type {?} */
    FlashComponent.prototype.visible;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmxhc2guY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6Im5nOi8vZ3VpMi1mdy1saWIvIiwic291cmNlcyI6WyJsaWIvbGF5ZXIvZmxhc2gvZmxhc2guY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFlQSxPQUFPLEVBQUUsU0FBUyxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQTJCLFlBQVksRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUVoRyxPQUFPLEVBQUUsT0FBTyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLHFCQUFxQixDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUEwRGpGLE1BQU0sT0FBTyxjQUFjO0lBdkMzQjtRQXlDYSxVQUFLLEdBQVcsSUFBSSxDQUFDLENBQUMsZUFBZTs7UUFDckMsWUFBTyxHQUFZLEtBQUssQ0FBQztRQUN4QixXQUFNLEdBQTBCLElBQUksWUFBWSxFQUFFLENBQUM7UUFFdEQsWUFBTyxHQUFZLEtBQUssQ0FBQztJQXlCcEMsQ0FBQzs7Ozs7OztJQW5CRyxXQUFXLENBQUMsT0FBK0M7UUFDdkQsSUFBSSxPQUFPLENBQUMsU0FBUyxDQUFDLElBQUksSUFBSSxDQUFDLE9BQU8sSUFBSSxJQUFJLENBQUMsT0FBTyxLQUFLLEVBQUUsRUFBRTtZQUMzRCxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQztZQUVwQixVQUFVLENBQUMsR0FBRyxFQUFFO2dCQUNaLElBQUksQ0FBQyxPQUFPLEdBQUcsS0FBSyxDQUFDO2dCQUNyQixJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUM1QixDQUFDLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1NBQ2xCO0lBQ0wsQ0FBQzs7Ozs7O0lBTUQsUUFBUTtRQUNKLElBQUksQ0FBQyxPQUFPLEdBQUcsS0FBSyxDQUFDO1FBQ3JCLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQzVCLENBQUM7OztZQXJFSixTQUFTLFNBQUM7Z0JBQ1AsUUFBUSxFQUFFLFlBQVk7Z0JBQ3RCLFFBQVEsRUFBRTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7T0FvQlA7Z0JBQ0gsTUFBTSxFQUFFLENBQUMsNHRCQUE0dEIsRUFBRSxvTkFBb04sRUFBRSxpSUFBaUksQ0FBQztnQkFDL2pDLFVBQVUsRUFBRTtvQkFDUixPQUFPLENBQUMsWUFBWSxFQUFFO3dCQUNsQixLQUFLLENBQUMsT0FBTyxFQUFFLEtBQUssQ0FBQzs7NEJBRWpCLE9BQU8sRUFBRSxLQUFLO3lCQUNqQixDQUFDLENBQUM7d0JBQ0gsS0FBSyxDQUFDLE1BQU0sRUFBRSxLQUFLLENBQUM7OzRCQUVoQixPQUFPLEVBQUUsS0FBSzt5QkFDakIsQ0FBQyxDQUFDO3dCQUNILFVBQVUsQ0FBQyxRQUFRLEVBQUUsT0FBTyxDQUFDLGVBQWUsQ0FBQyxDQUFDO3dCQUM5QyxVQUFVLENBQUMsUUFBUSxFQUFFLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO3FCQUNsRCxDQUFDO2lCQUNMO2FBQ0o7OztzQkFFSSxLQUFLO29CQUNMLEtBQUs7c0JBQ0wsS0FBSztxQkFDTCxNQUFNOzs7O0lBSFAsaUNBQXlCOztJQUN6QiwrQkFBOEI7O0lBQzlCLGlDQUFrQzs7SUFDbEMsZ0NBQTZEOztJQUU3RCxpQ0FBZ0MiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogQ29weXJpZ2h0IDIwMTgtcHJlc2VudCBPcGVuIE5ldHdvcmtpbmcgRm91bmRhdGlvblxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IHsgQ29tcG9uZW50LCBJbnB1dCwgT3V0cHV0LCBPbkNoYW5nZXMsIFNpbXBsZUNoYW5nZSwgRXZlbnRFbWl0dGVyIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBMb2dTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vbG9nLnNlcnZpY2UnO1xuaW1wb3J0IHsgdHJpZ2dlciwgc3RhdGUsIHN0eWxlLCBhbmltYXRlLCB0cmFuc2l0aW9uIH0gZnJvbSAnQGFuZ3VsYXIvYW5pbWF0aW9ucyc7XG5cbi8qKlxuICogT05PUyBHVUkgLS0gTGF5ZXIgLS0gRmxhc2ggQ29tcG9uZW50XG4gKlxuICogUmVwbGFjZXMgRmxhc2ggU2VydmljZSBpbiBvbGQgR1VJLlxuICogUHJvdmlkZXMgYSBtZWNoYW5pc20gdG8gZmxhc2ggc2hvcnQgaW5mb3JtYXRpb25hbCBtZXNzYWdlcyB0byB0aGUgc2NyZWVuXG4gKiB0byBhbGVydCB0aGUgdXNlciBvZiBzb21ldGhpbmcsIGUuZy4gXCJIb3N0cyB2aXNpYmxlXCIgb3IgXCJIb3N0cyBoaWRkZW5cIi5cbiAqXG4gKiBJdCBjYW4gYmUgdXNlZCBpbiBhIHdhcm5pbmcgbW9kZSwgd2hlcmUgdGV4dCB3aWxsIGFwcGVhciBpbiByZWRcbiAqIFRoZSBkd2VsbCB0aW1lIChtaWxsaXNlY29uZHMpIGNhbiBiZSBjb250cm9sbGVkIG9yIHRoZSBkZWZhdWx0IGlzIDEyMDBtc1xuICpcbiAqIFRvIHVzZSBhZGQgYW4gZWxlbWVudCB0byB0aGUgdGVtcGxhdGUgbGlrZVxuICogICA8b25vcy1mbGFzaCBtZXNzYWdlPVwiSG9zdHMgdmlzaWJsZVwiIGR3ZWxsPVwiMjAwMFwiIHdhcm5pbmc9XCJ0cnVlXCI+PC9vbm9zLWZsYXNoPlxuICogVGhpcyB3aG9sZSBlbGVtZW50IGNhbiBiZSBkaXNhYmxlZCB1bnRpbCBuZWVkZWQgd2l0aCBhbiBuZ0lmLCBidXQgaWYgdGhpcyBpcyBkb25lXG4gKiB0aGUgYW5pbWF0ZWQgZmFkZS1pbiBhbmQgZmFkZS1vdXQgd2lsbCBub3QgaGFwcGVuXG4gKiBUaGVyZSBpcyBhbHNvIGEgKGNsb3NlZCkgZXZlbnQgdGhhdCB0ZWxscyB5b3Ugd2hlbiB0aGUgbWVzc2FnZSBpcyBjbG9zZWQsIG9yXG4gKiBmYWRlcy1vdXRcbiAqL1xuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdvbm9zLWZsYXNoJyxcbiAgICB0ZW1wbGF0ZTogYDwhLS1cbn4gQ29weXJpZ2h0IDIwMTgtcHJlc2VudCBPcGVuIE5ldHdvcmtpbmcgRm91bmRhdGlvblxuflxufiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xufiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG5+IFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuflxufiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG5+XG5+IFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbn4gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxufiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbn4gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxufiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbi0tPlxuPGRpdiBpZD1cImZsYXNoXCIgY2xhc3M9XCJkaWFsb2dcIiBbbmdDbGFzc109XCJ3YXJuaW5nPyd3YXJuaW5nJzonJ1wiIFtAZmxhc2hTdGF0ZV09XCJ2aXNpYmxlXCI+XG4gICAgPGRpdiBpZD1cImZsYXNoQm94XCIgKm5nSWY9XCJ2aXNpYmxlXCI+XG4gICAgICAgIDxwIGlkPVwiZmxhc2hUZXh0XCI+e3sgbWVzc2FnZSB9fTwvcD5cbiAgICAgICAgPGRpdiBjbGFzcz1cImRpYWxvZy1idXR0b25cIiAqbmdJZj1cImR3ZWxsPjEyMDBcIiAoY2xpY2spPVwiY2xvc2VOb3coKVwiPkRpc21pc3M8L2Rpdj5cbiAgICA8L2Rpdj5cbjwvZGl2PmAsXG4gICAgc3R5bGVzOiBbYCNmbGFzaHtwb3NpdGlvbjpmaXhlZDt0b3A6NTAlO2xlZnQ6NTAlOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTAlLC01MCUpO3RyYW5zZm9ybTp0cmFuc2xhdGUoLTUwJSwtNTAlKTt6LWluZGV4OjE0MDB9I2ZsYXNoLndhcm5pbmcgZGl2I2ZsYXNoQm94e2JvcmRlcjoycHggc29saWQgIzIyMjtib3JkZXItcmFkaXVzOjEwcHg7YmFja2dyb3VuZDojZmZmO3BhZGRpbmc6MTBweH0jZmxhc2ggZGl2I2ZsYXNoQm94e2JhY2tncm91bmQ6I2NjYztib3JkZXItcmFkaXVzOjEwcHg7cGFkZGluZzoxcHh9I2ZsYXNoIGRpdiNmbGFzaEJveCBkaXYuZGlhbG9nLWJ1dHRvbnstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKC0zMnB4KTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgtMzJweCl9I2ZsYXNoLndhcm5pbmcgcCNmbGFzaFRleHR7c3Ryb2tlOnJlZDtjb2xvcjpyZWQ7dGV4dC1hbmNob3I6bWlkZGxlO2FsaWdubWVudC1iYXNlbGluZTptaWRkbGU7dGV4dC1hbGlnbjpjZW50ZXI7Zm9udC1zaXplOjE2cHQ7Ym9yZGVyLXJhZGl1czoxMHB4O2JhY2tncm91bmQ6I2ZmZjtwYWRkaW5nOjEwcHh9I2ZsYXNoIHAjZmxhc2hUZXh0e3N0cm9rZTpub25lO2NvbG9yOiMyMjI7dGV4dC1hbmNob3I6bWlkZGxlO2FsaWdubWVudC1iYXNlbGluZTptaWRkbGU7dGV4dC1hbGlnbjpjZW50ZXI7Zm9udC1zaXplOjE2cHQ7Ym9yZGVyLXJhZGl1czoxMHB4O2JhY2tncm91bmQ6I2NjYztwYWRkaW5nOjVweH1gLCBgLmRpYWxvZyBoMnttYXJnaW46MDt3b3JkLXdyYXA6YnJlYWstd29yZDtkaXNwbGF5OmlubGluZS1ibG9jazt3aWR0aDoyMTBweDt2ZXJ0aWNhbC1hbGlnbjptaWRkbGV9LmRpYWxvZyAuZGlhbG9nLWJ1dHRvbntkaXNwbGF5OmlubGluZS1ibG9jaztjdXJzb3I6cG9pbnRlcjtoZWlnaHQ6MjBweDtwYWRkaW5nOjZweCA4cHggMnB4O21hcmdpbjo0cHg7ZmxvYXQ6cmlnaHR9YCwgYC5kaWFsb2cgLmRpYWxvZy1idXR0b257YmFja2dyb3VuZC1jb2xvcjojNTE4ZWNjO2NvbG9yOiNmZmZ9LmRhcmsgLmRpYWxvZyAuZGlhbG9nLWJ1dHRvbntiYWNrZ3JvdW5kLWNvbG9yOiMzNDVlODU7Y29sb3I6I2NjY2NjZH1gXSxcbiAgICBhbmltYXRpb25zOiBbXG4gICAgICAgIHRyaWdnZXIoJ2ZsYXNoU3RhdGUnLCBbXG4gICAgICAgICAgICBzdGF0ZSgnZmFsc2UnLCBzdHlsZSh7XG4vLyAgICAgICAgICAgICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGVZKC00MDAlKScsXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogJzAuMCcsXG4gICAgICAgICAgICB9KSksXG4gICAgICAgICAgICBzdGF0ZSgndHJ1ZScsIHN0eWxlKHtcbi8vICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZVkoMCUpJyxcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiAnMS4wJyxcbiAgICAgICAgICAgIH0pKSxcbiAgICAgICAgICAgIHRyYW5zaXRpb24oJzAgPT4gMScsIGFuaW1hdGUoJzIwMG1zIGVhc2UtaW4nKSksXG4gICAgICAgICAgICB0cmFuc2l0aW9uKCcxID0+IDAnLCBhbmltYXRlKCcyMDBtcyBlYXNlLW91dCcpKVxuICAgICAgICBdKVxuICAgIF1cbn0pXG5leHBvcnQgY2xhc3MgRmxhc2hDb21wb25lbnQgaW1wbGVtZW50cyBPbkNoYW5nZXMge1xuICAgIEBJbnB1dCgpIG1lc3NhZ2U6IHN0cmluZztcbiAgICBASW5wdXQoKSBkd2VsbDogbnVtYmVyID0gMTIwMDsgLy8gbWlsbGlzZWNvbmRzXG4gICAgQElucHV0KCkgd2FybmluZzogYm9vbGVhbiA9IGZhbHNlO1xuICAgIEBPdXRwdXQoKSBjbG9zZWQ6IEV2ZW50RW1pdHRlcjxib29sZWFuPiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICAgIHB1YmxpYyB2aXNpYmxlOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBGbGFzaCBhIG1lc3NhZ2UgdXAgZm9yIDEyMDBtcyB0aGVuIGRpc2FwcGVhciBhZ2Fpbi5cbiAgICAgKiBTZWUgYW5pbWF0aW9uIHBhcmFtZXRlciBmb3IgdGhlIGVhc2UgaW4gYW5kIGVhc2Ugb3V0IHBhcmFtc1xuICAgICAqL1xuICAgIG5nT25DaGFuZ2VzKGNoYW5nZXM6IHtbcHJvcGVydHlOYW1lOiBzdHJpbmddOiBTaW1wbGVDaGFuZ2V9KSB7XG4gICAgICAgIGlmIChjaGFuZ2VzWydtZXNzYWdlJ10gJiYgdGhpcy5tZXNzYWdlICYmIHRoaXMubWVzc2FnZSAhPT0gJycpIHtcbiAgICAgICAgICAgIHRoaXMudmlzaWJsZSA9IHRydWU7XG5cbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VkLmVtaXQoZmFsc2UpO1xuICAgICAgICAgICAgfSwgdGhpcy5kd2VsbCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbWVzc2FnZSB3aWxsIGZsYXNoIHVwIGZvciAnZHdlbGwnIG1pbGxpc2Vjb25kc1xuICAgICAqIElmIGR3ZWxsIGlzID4gMjAwMG1zLCB0aGVuIHRoZXJlIHdpbGwgYmUgYSBidXR0b24gdGhhdCBhbGxvd3MgaXQgdG8gYmUgZGlzbWlzc2VkIG5vd1xuICAgICAqL1xuICAgIGNsb3NlTm93KCkge1xuICAgICAgICB0aGlzLnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jbG9zZWQuZW1pdChmYWxzZSk7XG4gICAgfVxufVxuIl19