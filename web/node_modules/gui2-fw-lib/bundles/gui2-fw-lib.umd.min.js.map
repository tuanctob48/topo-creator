{"version":3,"sources":["null","ng://gui2-fw-lib/lib/log.service.ts","ng://gui2-fw-lib/lib/layer/panel.service.ts","ng://gui2-fw-lib/lib/util/trie.ts","ng://gui2-fw-lib/lib/util/fn.service.ts","ng://gui2-fw-lib/lib/onos.service.ts","ng://gui2-fw-lib/lib/detectbrowser.directive.ts","ng://gui2-fw-lib/lib/svg/glyphdata.service.ts","ng://gui2-fw-lib/lib/svg/svgutil.service.ts","ng://gui2-fw-lib/lib/svg/glyph.service.ts","ng://gui2-fw-lib/lib/svg/icon.service.ts","ng://gui2-fw-lib/lib/svg/icon/icon.component.ts","ng://gui2-fw-lib/lib/remote/urlfn.service.ts","ng://gui2-fw-lib/lib/remote/wsock.service.ts","ng://gui2-fw-lib/lib/remote/websocket.service.ts","ng://gui2-fw-lib/lib/layer/veil/veil.component.ts","ng://gui2-fw-lib/lib/layer/flash/flash.component.ts","ng://gui2-fw-lib/lib/util/lion.service.ts","ng://gui2-fw-lib/lib/layer/confirm/confirm.component.ts","ng://gui2-fw-lib/lib/nav/nav.service.ts","ng://gui2-fw-lib/lib/mast/mast/mast.component.ts","ng://gui2-fw-lib/lib/widget/tablefilter.pipe.ts","ng://gui2-fw-lib/lib/mast/mast.service.ts","ng://gui2-fw-lib/lib/widget/tableresize.directive.ts","ng://gui2-fw-lib/lib/util/keys.service.ts","ng://gui2-fw-lib/lib/layer/quickhelp/quickhelp.component.ts","ng://gui2-fw-lib/lib/gui2-fw-lib.module.ts","ng://gui2-fw-lib/environments/environment.ts","ng://gui2-fw-lib/lib/consolelogger.service.ts","ng://gui2-fw-lib/lib/util/theme.service.ts","ng://gui2-fw-lib/lib/layer/loading.service.ts","ng://gui2-fw-lib/lib/svg/zoomutils.ts","ng://gui2-fw-lib/lib/util/prefs.service.ts","ng://gui2-fw-lib/lib/widget/panel.base.ts","ng://gui2-fw-lib/lib/widget/detailspanel.base.ts","ng://gui2-fw-lib/lib/widget/table.base.ts"],"names":["extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__extends","__","this","constructor","prototype","create","__values","o","m","Symbol","iterator","i","call","next","length","value","done","__read","n","r","e","ar","push","error","fs","panels","panelLayer","Logger","LogService","_super","tslib_1.__extends","invokeConsoleMethod","type","args","Injectable","providedIn","REMOVED","ABSENT","ADDED","UPDATED","PLUS","MINUS","Trie","op","trie","word","data","w","toUpperCase","s","split","c","t","x","f1","TrieOp","add","probe","f2","insert","remove","cAdded","q","shift","np","cProbed","k","keys","_data","TrieInsert","reverse","TrieRemoved","matcher","whitelist","evillist","FnService","route","log","_this","debugFlags","Map","queryParams","subscribe","params","debugparam","parseDebugFlags","isF","f","isA","a","isArray","isS","isO","contains","indexOf","windowSize","offH","offW","height","innerHeight","width","innerWidth","areFunctions","api","fnNames","fnLookup","extraFound","name","set","getOwnPropertyNames","forEach","key","get","pObj","getPrototypeOf","getOwnPropertyDescriptors","getOwnPropertyDescriptor","areFunctionsNonStrict","isMobile","ua","navigator","userAgent","test","isChrome","isChromium","chrome","vendorName","vendor","isOpera","undefined","isChromeHeadless","headlessChrome","isSafari","isFirefox","InstallTrigger","find","array","tag","idx","inArray","item","removeFromArray","splice","isEmptyObject","obj","sameObjProps","obj1","obj2","containsObj","arr","len","cap","slice","toLowerCase","noPx","num","Number","replace","noPxStyle","elem","prop","style","endsWith","str","suffix","debug","_i","arguments","dbgstr","debugOn","inEvilList","full","analyze","html","match","matches","exec","sanitize","re","RegExp","warn","addToTrie","removeFromTrie","trieLookup","ActivatedRoute","Inject","OnosService","DetectBrowserDirective","onos","body","document","getElementsByTagName","browser","classList","mobile","Directive","selector","logos","tableFrame","rSquare","octagon","arrowsLR","laser","glyphDataSet","circle","badgeDataSet","spriteData","m_octagon","m_switch_arrows","m_otn_base","mojoDataSet","m_diamond","extraGlyphs","GlyphDataService","colors","light","norm","d3.scaleOrdinal","range","mute","dark","SvgUtilService","translate","y","scale","skewX","rotate","deg","cat7","tcid","getColor","id","muted","theme","ln","lm","dn","dm","testCard","svg","what","g","select","dom","d3.range","empty","append","attr","text","rg","rgs","GlyphService","sus","glyphs","d3.map","clear","init","registerGlyphs","registerGlyphSet","ids","glyph","glyphDefined","loadDefs","addGlyph","msg","addToMap","vbox","overwrite","dups","vb","reportDups","which","ok","reportMissVb","missing","vbk","info","gds.logos","gds.glyphDataSet","gds.badgeDataSet","gds.spriteData","gds.mojoDataSet","gds.extraGlyphs","missvb","_b","tslib_1.__values","entries","_c","_d","has","defs","glyphIds","noClear","list","size","glyphId","overlay","trans","sz","ovr","xns","glyphUse","classed","glyphMapping","IconService","gs","ensureIconLibDefs","d3.select","loadIcon","div","installGlyph","svgClass","dim","svgCls","gid","vboxSize","loadIconByClass","iconCls","loadEmbeddedIcon","loadIconDef","glyphName","addDeviceIcon","iconDim","xlink:href","addHostIcon","radius","xlate","transform","registerIconMapping","iconId","IconComponent","is","iconSize","toolTip","classes","toolTipDisp","ngOnInit","ngOnChanges","iconTag","iconIdStr","Component","template","styles","Input","UICONTEXT","UrlFnService","matchSecure","protocol","location","urlBase","port","host","href","appPrefix","hostname","httpPrefix","wsPrefix","wsport","rsUrl","path","wsUrl","WSock","newWebSocket","url","ws","WebSocket","WebSocketService","ufs","wsock","window","wsUp","handlers","pendingEvents","clusterNodes","clusterIndex","connectRetries","openListeners","nextListenerId","loggedInUser","bindHandlers","bootstrap","user","m_uiAttached","ip","glyphsMap","viewbox","message","vcd","show","handleOpen","hide","ev","send","informListeners","handleMessage","msgEvent","h","JSON","parse","event","payload","handleClose","gsucc","lcd","stop","findGuiSuccessor","createWebSocket","webSockOpts","node","ncn","cb","stringify","noHandlersWarn","caller","resetState","opts","toString","onopen","onmessage","onclose","authToken","sendEvent","token","closeWebSocket","close","handlerMap","handlerMap_1","handlerMap_1_1","eventId","fn","unbindHandlers","handlerIds","handlerIds_1","handlerIds_1_1","delete","isHandling","handlerId","addOpenListener","callback","removeOpenListener","lsnr","evType","setVeilDelegate","vd","setLoadingDelegate","ld","isConnected","VeilComponent","wss","enabled","messages","wSize","ww","wh","shrink","birdDim","birdCenter","msgs","veilStyle","FlashComponent","dwell","warning","closed","EventEmitter","visible","changes","setTimeout","emit","closeNow","animations","trigger","state","opacity","transition","animate","Output","LionService","ubercache","loadCbs","uberlion","lion","locale","cbname","bundle","bundleId","bundleObj","ConfirmComponent","chosen","doLion","choice","lionFn","NavService","_fn_","httpClient","showNav","uiPlatformViews","uiNetworkViews","uiOtherViews","uiHiddenViews","hideNav","toggleNav","getUiViews","v","uiView","cat","icon","label","HttpClient","MastComponent","ns","router","zone","viewMap","confirmMessage","strongWarning","dummyLion","triggerRefresh","ngOnDestroy","username","directTo","curId","pathname","helpUrl","open","added","dOk","navigate","runOutsideAngular","reload","Router","NgZone","TableFilterPipe","items","tableDataFilter","queryStr","filter","it","queryBy","includes","values","Pipe","pure","MastService","mastHeight","TableResizeDirective","mast","pdg","ngAfterContentChecked","tables","thead","tbody","wsz","adjustTable","onResize","_width","setHeight","HostListener","KEYEV","KeysService","ls","globalEnabled","keyHandler","globalKeys","maskedKeys","dialogKeys","viewKeys","viewFn","viewGestures","seq","matching","matched","textFieldDoesNotBlock","enter","esc","quickHelpShown","installOn","on","keyIn","setupGlobalKeys","keyBindings","getKeyBindings","setKeyBindings","unbindKeys","unbindDialogKeys","bindDialogKeys","addSeq","remSeq","gestureNotes","enableKeys","enableGlobalKeys","checkNotGlobal","oops","val","join","matchSeq","lookup","whatKey","code","String","fromCharCode","textFieldInput","d3.event","target","tagName","keyCode","parseInt","textBlockable","modifiers","metaKey","altKey","shiftKey","kh","gk","gcb","dk","dcb","vk","kl","_keyListener","vcb","KeysToken","stopPropagation","qhlion","qhlionShowHide","qhlionHintEsc","qhlionHintT","assign","backSlash","view","quickHelp","slash","escapeKey","T","toggleTheme","globalFormat","filterMaskedKeys","map","masked","unexParam","fname","keyArg","kFunc","kMap","viewFunction","QuickhelpComponent","ks","Gui2FwLibModule","NgModule","imports","CommonModule","declarations","exports","environment","production","isDebugMode","noop","ConsoleLoggerService","defineProperty","console","bind","apply","ThemeService","themes","thidx","getTheme","themeStr","LoadingService","ts","images","preloadImages","dbg","addImg","img","Image","src","nextFrame","startAnim","task","setInterval","stopAnim","clearInterval","start","wait","clearTimeout","waiting","defaultSettings","edge","margin","hideMargin","xtnTime","fade","el","widthVal","pxHide","settings","makePanel","showPanel","hidePanel","toggle","togglePanel","emptyPanel","appendPanel","panelWidth","panelHeight","bbox","panelBBox","getBoundingClientRect","isVisible","panelIsVisible","cls","bool","panelEl","duration","pxShow","endOpacity","heightVal","PanelService","funcs","createPanel","destroyPanel","removePanel","ZoomUtils","convertGeoToCanvas","lng","lat","equivLoc","convertXYtoGeo","calcLat","convertBoundsToZoomLevel","mapBounds","min","lngMin","latMin","max","lngMax","latMax","diagonal","Math","sqrt","pow","zoomscale","tx","ty","sc","zoomToWindowSize","bannerHeight","newHeight","UPDATE_PREFS","PrefsService","listeners","updatePrefs","cache","setPrefs","asNumbers","not","skip","from","getPrefs","defaults","qparams","mergePrefs","merged","addListener","listener","removeListener","PanelBaseImpl","DetailsPanelBaseImpl","closeEvent","detailsData","root","req","resp","detailsPanelResponseCb","destroy","requestDetailsPanelData","query","asc","desc","TableBaseImpl","idKey","selCb","changedData","parentSelCb","selId","tableData","autoRefresh","autoRefreshTip","refreshPromise","selectCallback","rowSelectionCb","toggleRefresh","startRefresh","stopRefresh","tableDataResponseCb","annots","noRowsMsg","requestTableData","newTableData","no_rows_msg","responseCallback","oldTableData","__spread","concat","sortParams","payloadParams","selRow","isChanged","onSort","colName","firstCol","firstDir","SortDir","secondCol","secondDir","sortIcon","column","deselectRow"],"mappings":"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","sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","/*\n * Copyright 2018-present Open Networking Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Injectable } from '@angular/core';\n\nexport abstract class Logger {\n  debug: any;\n  info: any;\n  warn: any;\n  error: any;\n}\n\n/**\n * ONOS GUI -- LogService\n * Inspired by https://robferguson.org/blog/2017/09/09/a-simple-logging-service-for-angular-4/\n */\n@Injectable({\n  providedIn: 'root',\n})\nexport class LogService extends Logger {\n  debug: any;\n  info: any;\n  warn: any;\n  error: any;\n\n  invokeConsoleMethod(type: string, args?: any): void {}\n}\n","/*\n *  Copyright 2018-present Open Networking Foundation\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\nimport {Injectable} from '@angular/core';\nimport {FnService} from '../util/fn.service';\nimport {LogService} from '../log.service';\nimport {ThemeService} from '../util/theme.service';\nimport {WebSocketService} from '../remote/websocket.service';\nimport * as d3 from 'd3';\n\nlet fs;\n\nconst defaultSettings = {\n    edge: 'right',\n    width: 200,\n    margin: 20,\n    hideMargin: 20,\n    xtnTime: 750,\n    fade: true,\n};\n\nlet panels,\n    panelLayer;\n\nfunction init() {\n    panelLayer = d3.select('div#floatpanels');\n    panelLayer.text('');\n    panels = {};\n}\n\n// helpers for panel\nfunction noop() {\n}\n\nfunction margin(p: any) {\n    return p.settings.margin;\n}\n\nfunction hideMargin(p: any) {\n    return p.settings.hideMargin;\n}\n\nfunction noPx(p: any, what: any) {\n    return Number(p.el.style(what).replace(/px$/, ''));\n}\n\nfunction widthVal(p: any) {\n    return noPx(p, 'width');\n}\n\nfunction heightVal(p: any) {\n    return noPx(p, 'height');\n}\n\nfunction pxShow(p: any) {\n    return margin(p) + 'px';\n}\n\nfunction pxHide(p: any) {\n    return (-hideMargin(p) - widthVal(p) - (noPx(p, 'padding') * 2)) + 'px';\n}\n\nfunction makePanel(id: any, settings: any) {\n    const p = {\n            id: id,\n            settings: settings,\n            on: false,\n            el: null,\n        },\n        api = {\n            show: showPanel,\n            hide: hidePanel,\n            toggle: togglePanel,\n            empty: emptyPanel,\n            append: appendPanel,\n            width: panelWidth,\n            height: panelHeight,\n            bbox: panelBBox,\n            isVisible: panelIsVisible,\n            classed: classed,\n            el: panelEl,\n        };\n\n    p.el = panelLayer.append('div')\n        .attr('id', id)\n        .attr('class', 'floatpanel')\n        .style('opacity', 0);\n\n    // has to be called after el is set\n    p.el.style(p.settings.edge, pxHide(p));\n    panelWidth(p.settings.width);\n    if (p.settings.height) {\n        panelHeight(p.settings.height);\n    }\n\n    panels[id] = p;\n\n    function showPanel(cb: any) {\n        const endCb = fs.isF(cb) || noop;\n        p.on = true;\n        p.el.transition().duration(p.settings.xtnTime)\n            .style(p.settings.edge, pxShow(p))\n            .style('opacity', 1);\n    }\n\n    function hidePanel(cb: any) {\n        const endCb = fs.isF(cb) || noop,\n            endOpacity = p.settings.fade ? 0 : 1;\n        p.on = false;\n        p.el.transition().duration(p.settings.xtnTime)\n            .style(p.settings.edge, pxHide(p))\n            .style('opacity', endOpacity);\n    }\n\n    function togglePanel(cb: any) {\n        if (p.on) {\n            hidePanel(cb);\n        } else {\n            showPanel(cb);\n        }\n        return p.on;\n    }\n\n    function emptyPanel() {\n        return p.el.text('');\n    }\n\n    function appendPanel(what: any) {\n        return p.el.append(what);\n    }\n\n    function panelWidth(w: any) {\n        if (w === undefined) {\n            return widthVal(p);\n        }\n        p.el.style('width', w + 'px');\n    }\n\n    function panelHeight(h: any) {\n        if (h === undefined) {\n            return heightVal(p);\n        }\n        p.el.style('height', h + 'px');\n    }\n\n    function panelBBox() {\n        return p.el.node().getBoundingClientRect();\n    }\n\n    function panelIsVisible() {\n        return p.on;\n    }\n\n    function classed(cls: any, bool: any) {\n        return p.el.classed(cls, bool);\n    }\n\n    function panelEl() {\n        return p.el;\n    }\n\n    return api;\n}\n\nfunction removePanel(id: any) {\n    panelLayer.select('#' + id).remove();\n    delete panels[id];\n}\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class PanelService {\n    constructor(private funcs: FnService,\n                private log: LogService,\n                private ts: ThemeService,\n                private wss: WebSocketService) {\n        fs = this.funcs;\n        init();\n    }\n\n    createPanel(id: any, opts: any) {\n        const settings = Object.assign({}, defaultSettings, opts);\n        if (!id) {\n            this.log.warn('createPanel: no ID given');\n            return null;\n        }\n        if (panels[id]) {\n            this.log.warn('Panel with ID \"' + id + '\" already exists');\n            return null;\n        }\n        if (fs.debugOn('widget')) {\n            this.log.debug('creating panel:', id, settings);\n        }\n        return makePanel(id, settings);\n    }\n\n    destroyPanel(id: any) {\n        if (panels[id]) {\n            if (fs.debugOn('widget')) {\n                this.log.debug('destroying panel:', id);\n            }\n            removePanel(id);\n        } else {\n            if (fs.debugOn('widget')) {\n                this.log.debug('no panel to destroy:', id);\n            }\n        }\n    }\n}\n","/*\n * Copyright 2018-present Open Networking Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport interface TrieC {\n    p: any;\n    s: string[];\n}\n\nexport interface TrieT {\n    k: any;\n    p: any;\n    q: any;\n}\n\nexport enum TrieRemoved {\n    REMOVED = 'removed',\n    ABSENT = 'absent'\n}\n\nexport enum TrieInsert {\n    ADDED = 'added',\n    UPDATED = 'updated'\n}\n\n/**\n * Combine TrieRemoved and TrieInsert in to a union type\n */\nexport type TrieActions = TrieRemoved | TrieInsert;\n\nexport enum TrieOp {\n    PLUS = '+',\n    MINUS = '-'\n}\n\n\nexport class Trie {\n    p: any;\n    w: string;\n    s: string[];\n    c: TrieC;\n    t: TrieT[];\n    x: number;\n    f1: (TrieC) => TrieC;\n    f2: () => TrieActions;\n    data: any;\n\n\n    constructor(\n        op: TrieOp,\n        trie: any,\n        word: string,\n        data?: any\n    ) {\n        this.p = trie;\n        this.w = word.toUpperCase();\n        this.s = this.w.split('');\n        this.c = { p: this.p, s: this.s },\n        this.t = [];\n        this.x = 0;\n        this.f1 = op === TrieOp.PLUS ? this.add : this.probe;\n        this.f2 = op === TrieOp.PLUS ? this.insert : this.remove;\n        this.data = data;\n        while (this.c.s.length) {\n            this.c = this.f1(this.c);\n        }\n    }\n\n    add(cAdded: TrieC): TrieC {\n        const q = cAdded.s.shift();\n        let np = cAdded.p[q];\n\n        if (!np) {\n            cAdded.p[q] = {};\n            np = cAdded.p[q];\n            this.x = 1;\n        }\n        return { p: np, s: cAdded.s };\n    }\n\n    probe(cProbed: TrieC): TrieC {\n        const q = cProbed.s.shift();\n        const k: number = Object.keys(cProbed.p).length;\n        const np = cProbed.p[q];\n\n        this.t.push({ q: q, k: k, p: cProbed.p });\n        if (!np) {\n            this.t = [];\n            return { p: [], s: [] };\n        }\n        return { p: np, s: cProbed.s };\n    }\n\n    insert(): TrieInsert {\n        this.c.p._data = this.data;\n        return this.x ? TrieInsert.ADDED : TrieInsert.UPDATED;\n    }\n\n    remove(): TrieRemoved {\n        if (this.t.length) {\n            this.t = this.t.reverse();\n            while (this.t.length) {\n                const d = this.t.shift();\n                delete d.p[d.q];\n                if (d.k > 1) {\n                    this.t = [];\n                }\n            }\n            return TrieRemoved.REMOVED;\n        }\n        return TrieRemoved.ABSENT;\n    }\n}\n","/*\n * Copyright 2018-present Open Networking Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {Inject, Injectable} from '@angular/core';\nimport {ActivatedRoute} from '@angular/router';\nimport {LogService} from '../log.service';\nimport {Trie, TrieOp} from './trie';\n\n// Angular>=2 workaround for missing definition\ndeclare const InstallTrigger: any;\n\nconst matcher = /<\\/?([a-zA-Z0-9]+)*(.*?)\\/?>/igm;\nconst whitelist: string[] = ['b', 'i', 'p', 'em', 'strong', 'br'];\nconst evillist: string[] = ['script', 'style', 'iframe'];\n\n/**\n * Used with the Window size function;\n **/\nexport interface WindowSize {\n    width: number;\n    height: number;\n}\n\n/**\n * For the sanitize() and analyze() functions\n */\nexport interface Match {\n    full: string;\n    name: string;\n}\n\n/**\n * ONOS GUI -- Util -- General Purpose Functions\n */\n@Injectable({\n  providedIn: 'root',\n})\nexport class FnService {\n    // internal state\n    private debugFlags = new Map<string, boolean>([\n//        [ \"LoadingService\", true ]\n    ]);\n\n    constructor(\n        private route: ActivatedRoute,\n        private log: LogService,\n        // TODO: Change the any type to Window when https://github.com/angular/angular/issues/15640 is fixed.\n        @Inject('Window') private w: any\n    ) {\n        this.route.queryParams.subscribe(params => {\n            const debugparam: string = params['debug'];\n//            log.debug('Param:', debugparam);\n            this.parseDebugFlags(debugparam);\n        });\n//        this.log.debug('FnService constructed');\n    }\n\n    /**\n     * Test if an argument is a function\n     *\n     * Note: the need for this would go away if all functions\n     * were strongly typed\n     */\n    isF(f: any): any {\n        return typeof f === 'function' ? f : null;\n    }\n\n    /**\n     * Test if an argument is an array\n     *\n     * Note: the need for this would go away if all arrays\n     * were strongly typed\n     */\n    isA(a: any): any {\n    // NOTE: Array.isArray() is part of EMCAScript 5.1\n        return Array.isArray(a) ? a : null;\n    }\n\n    /**\n     * Test if an argument is a string\n     *\n     * Note: the need for this would go away if all strings\n     * were strongly typed\n     */\n    isS(s: any): string {\n        return typeof s === 'string' ? s : null;\n    }\n\n    /**\n     * Test if an argument is an object\n     *\n     * Note: the need for this would go away if all objects\n     * were strongly typed\n     */\n    isO(o: any): Object {\n        return (o && typeof o === 'object' && o.constructor === Object) ? o : null;\n    }\n\n    /**\n     * Test that an array contains an object\n     */\n    contains(a: any[], x: any): boolean {\n        return this.isA(a) && a.indexOf(x) > -1;\n    }\n\n    /**\n     * Returns width and height of window inner dimensions.\n     * offH, offW : offset width/height are subtracted, if present\n     */\n    windowSize(offH: number = 0, offW: number = 0): WindowSize {\n        return {\n            height: this.w.innerHeight - offH,\n            width: this.w.innerWidth - offW\n        };\n    }\n\n    /**\n     * Returns true if all names in the array are defined as functions\n     * on the given api object; false otherwise.\n     * Also returns false if there are properties on the api that are NOT\n     * listed in the array of names.\n     *\n     * This gets extra complicated when the api Object is an\n     * Angular service - while the functions can be retrieved\n     * by an indexed get, the ownProperties does not show the\n     * functions of the class. We have to dive in to the prototypes\n     * properties to get these - and even then we have to filter\n     * out the constructor and any member variables\n     */\n    areFunctions(api: Object, fnNames: string[]): boolean {\n        const fnLookup: Map<string, boolean> = new Map();\n        let extraFound: boolean = false;\n\n        if (!this.isA(fnNames)) {\n            return false;\n        }\n\n        const n: number = fnNames.length;\n        let i: number;\n        let name: string;\n\n        for (i = 0; i < n; i++) {\n            name = fnNames[i];\n            if (!this.isF(api[name])) {\n                return false;\n            }\n            fnLookup.set(name, true);\n        }\n\n        // check for properties on the API that are not listed in the array,\n        const keys = Object.getOwnPropertyNames(api);\n        if (keys.length === 0) {\n            return true;\n        }\n        // If the api is a class it will have a name,\n        //  else it will just be called 'Object'\n        const apiObjectName: string = api.constructor.name;\n        if (apiObjectName === 'Object') {\n            Object.keys(api).forEach((key) => {\n                if (!fnLookup.get(key)) {\n                    extraFound = true;\n                }\n            });\n        } else { // It is a class, so its functions will be in the child (prototype)\n            const pObj: Object = Object.getPrototypeOf(api);\n            for ( const key in Object.getOwnPropertyDescriptors(pObj) ) {\n                if (key === 'constructor') { // Filter out constructor\n                    continue;\n                }\n                const value = Object.getOwnPropertyDescriptor(pObj, key);\n                // Only compare functions. Look for any not given in the map\n                if (this.isF(value.value) && !fnLookup.get(key)) {\n                    extraFound = true;\n                }\n            }\n        }\n        return !extraFound;\n    }\n\n    /**\n     * Returns true if all names in the array are defined as functions\n     * on the given api object; false otherwise. This is a non-strict version\n     * that does not care about other properties on the api.\n     */\n    areFunctionsNonStrict(api, fnNames): boolean {\n        if (!this.isA(fnNames)) {\n            return false;\n        }\n        const n = fnNames.length;\n        let i;\n        let name;\n\n        for (i = 0; i < n; i++) {\n            name = fnNames[i];\n            if (!this.isF(api[name])) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    /**\n     * Returns true if current browser determined to be a mobile device\n     */\n    isMobile() {\n        const ua = this.w.navigator.userAgent;\n        const patt = /iPhone|iPod|iPad|Silk|Android|BlackBerry|Opera Mini|IEMobile/;\n        return patt.test(ua);\n    }\n\n    /**\n     * Returns true if the current browser determined to be Chrome\n     */\n    isChrome() {\n        const isChromium = (this.w as any).chrome;\n        const vendorName = this.w.navigator.vendor;\n\n        const isOpera = this.w.navigator.userAgent.indexOf('OPR') > -1;\n        return (isChromium !== null &&\n        isChromium !== undefined &&\n        vendorName === 'Google Inc.' &&\n        isOpera === false);\n    }\n\n    isChromeHeadless() {\n        const vendorName = this.w.navigator.vendor;\n        const headlessChrome = this.w.navigator.userAgent.indexOf('HeadlessChrome') > -1;\n\n        return (vendorName === 'Google Inc.' && headlessChrome === true);\n    }\n\n    /**\n     * Returns true if the current browser determined to be Safari\n     */\n    isSafari() {\n        return (this.w.navigator.userAgent.indexOf('Safari') !== -1 &&\n        this.w.navigator.userAgent.indexOf('Chrome') === -1);\n    }\n\n    /**\n     * Returns true if the current browser determined to be Firefox\n     */\n    isFirefox() {\n        return typeof InstallTrigger !== 'undefined';\n    }\n\n    /**\n     * search through an array of objects, looking for the one with the\n     * tagged property matching the given key. tag defaults to 'id'.\n     * returns the index of the matching object, or -1 for no match.\n     */\n    find(key: string, array: Object[], tag: string = 'id'): number {\n        let idx: number;\n        const n: number = array.length;\n\n        for (idx = 0 ; idx < n; idx++) {\n            const d: Object = array[idx];\n            if (d[tag] === key) {\n                return idx;\n            }\n        }\n        return -1;\n    }\n\n    /**\n     * search through array to find (the first occurrence of) item,\n     * returning its index if found; otherwise returning -1.\n     */\n    inArray(item: any, array: any[]): number {\n        if (this.isA(array)) {\n            for (let i = 0; i < array.length; i++) {\n                if (array[i] === item) {\n                    return i;\n                }\n            }\n        }\n        return -1;\n    }\n\n    /**\n     * remove (the first occurrence of) the specified item from the given\n     * array, if any. Return true if the removal was made; false otherwise.\n     */\n    removeFromArray(item: any, array: any[]): boolean {\n        const i: number = this.inArray(item, array);\n        if (i >= 0) {\n            array.splice(i, 1);\n            return true;\n        }\n        return false;\n    }\n\n    /**\n     * return true if the object is empty, return false otherwise\n     */\n    isEmptyObject(obj: Object): boolean {\n        for (const key in obj) {\n            if (true) { return false; }\n        }\n        return true;\n    }\n\n    /**\n     * returns true if the two objects have all the same properties\n     */\n    sameObjProps(obj1: Object, obj2: Object): boolean {\n        for (const key in obj1) {\n            if (obj1.hasOwnProperty(key)) {\n                if (!(obj1[key] === obj2[key])) {\n                    return false;\n                }\n            }\n        }\n        return true;\n    }\n\n    /**\n     * returns true if the array contains the object\n     * does NOT use strict object reference equality,\n     * instead checks each property individually for equality\n     */\n    containsObj(arr: any[], obj: Object): boolean {\n        const len = arr.length;\n        for (let i = 0; i < len; i++) {\n            if (this.sameObjProps(arr[i], obj)) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    /**\n     * Return the given string with the first character capitalized.\n     */\n    cap(s: string): string {\n        return s ? s[0].toUpperCase() + s.slice(1).toLowerCase() : s;\n    }\n\n    /**\n     * return the parameter without a px suffix\n     */\n    noPx(num: string): number {\n        return Number(num.replace(/px$/, ''));\n    }\n\n    /**\n     * return an element's given style property without px suffix\n     */\n    noPxStyle(elem: any, prop: string): number {\n        return Number(elem.style(prop).replace(/px$/, ''));\n    }\n\n    /**\n     * Return true if a str ends with suffix\n     */\n    endsWith(str: string, suffix: string) {\n        return str.indexOf(suffix, str.length - suffix.length) !== -1;\n    }\n\n    /**\n     * output debug message to console, if debug tag set...\n     * e.g. fs.debug('mytag', arg1, arg2, ...)\n     */\n    debug(tag, ...args) {\n        if (this.debugFlags.get(tag)) {\n//            this.log.debug(tag, args.join());\n        }\n    }\n\n    private parseDebugFlags(dbgstr: string): void {\n        const bits = dbgstr ? dbgstr.split(',') : [];\n        bits.forEach((key) => {\n            this.debugFlags.set(key, true);\n        });\n//        this.log.debug('Debug flags:', dbgstr);\n    }\n\n    /**\n      * Return true if the given debug flag was specified in the query params\n      */\n    debugOn(tag: string): boolean {\n        return this.debugFlags.get(tag);\n    }\n\n\n\n    // -----------------------------------------------------------------\n    // The next section deals with sanitizing external strings destined\n    // to be loaded via a .html() function call.\n    //\n    // See definition of matcher, evillist and whitelist at the top of this file\n\n    /*\n     * Returns true if the tag is in the evil list, (and is not an end-tag)\n     */\n    inEvilList(tag: any): boolean {\n        return (evillist.indexOf(tag.name) !== -1 && tag.full.indexOf('/') === -1);\n    }\n\n    /*\n     * Returns an array of Matches of matcher in html\n     */\n    analyze(html: string): Match[] {\n        const matches: Match[] = [];\n        let match;\n\n        // extract all tags\n        while ((match = matcher.exec(html)) !== null) {\n            matches.push({\n                full: match[0],\n                name: match[1],\n                // NOTE: ignoring attributes {match[2].split(' ')} for now\n            });\n        }\n\n        return matches;\n    }\n\n    /*\n     * Returns a cleaned version of html\n     */\n    sanitize(html: string): string {\n        const matches: Match[] = this.analyze(html);\n\n        // completely obliterate evil tags and their contents...\n        evillist.forEach((tag) => {\n            const re = new RegExp('<' + tag + '(.*?)>(.*?[\\r\\n])*?(.*?)(.*?[\\r\\n])*?<\\/' + tag + '>', 'gim');\n            html = html.replace(re, '');\n        });\n\n        // filter out all but white-listed tags and end-tags\n        matches.forEach((tag) => {\n            if (whitelist.indexOf(tag.name) === -1) {\n                html = html.replace(tag.full, '');\n                if (this.inEvilList(tag)) {\n                    this.log.warn('Unsanitary HTML input -- ' +\n                        tag.full + ' detected!');\n                }\n            }\n        });\n\n        // TODO: consider encoding HTML entities, e.g. '&' -> '&amp;'\n\n        return html;\n    }\n\n    /**\n     * add word to trie (word will be converted to uppercase)\n     * data associated with the word\n     * returns 'added' or 'updated'\n     */\n    addToTrie(trie, word, data) {\n        return new Trie(TrieOp.PLUS, trie, word, data);\n    }\n\n    /**\n     * remove word from trie (word will be converted to uppercase)\n     * returns 'removed' or 'absent'\n     */\n    removeFromTrie(trie, word) {\n        return new Trie(TrieOp.MINUS, trie, word);\n    }\n\n    /**\n     * lookup word (converted to uppercase) in trie\n     * returns:\n     *    undefined if the word is not in the trie\n     *    -1 for a partial match (word is a prefix to an existing word)\n     *    data for the word for an exact match\n     */\n    trieLookup(trie, word) {\n        const s = word.toUpperCase().split('');\n        let p = trie;\n        let n;\n\n        while (s.length) {\n            n = s.shift();\n            p = p[n];\n            if (!p) {\n                return undefined;\n            }\n        }\n        if (p._data) {\n            return p._data;\n        }\n        return -1;\n    }\n\n}\n","/*\n * Copyright 2018-present Open Networking Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Injectable } from '@angular/core';\nimport { LogService } from './log.service';\n\n/**\n * A structure of View elements for the OnosService\n */\nexport interface View {\n    id: string;\n    path: string;\n}\n\n/**\n * ONOS GUI -- OnosService - a placeholder for the global onos variable\n */\n@Injectable({\n  providedIn: 'root',\n})\nexport class OnosService {\n    // Global variable\n    public browser: string;\n    public mobile: boolean;\n    public viewMap: View[];\n\n    constructor (\n        private log: LogService\n    ) {\n//        this.log.debug('OnosService constructed');\n    }\n}\n","/*\n * Copyright 2018-present Open Networking Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Inject } from '@angular/core';\nimport { Directive } from '@angular/core';\nimport { FnService } from './util/fn.service';\nimport { LogService } from './log.service';\nimport { OnosService } from './onos.service';\n\n/**\n * ONOS GUI -- Detect Browser Directive\n */\n@Directive({\n  selector: '[onosDetectBrowser]'\n})\nexport class DetectBrowserDirective {\n  constructor(\n    private fs: FnService,\n    private log: LogService,\n    private onos: OnosService,\n\n    // TODO: Change the any type to Window when https://github.com/angular/angular/issues/15640 is fixed.\n    @Inject('Window') private w: any\n  ) {\n        const body: HTMLBodyElement = document.getElementsByTagName('body')[0];\n//        let body = d3.select('body');\n        let browser = '';\n        if (fs.isChrome()) {\n            browser = 'chrome';\n        } else if (fs.isChromeHeadless()) {\n            browser = 'chromeheadless';\n        } else if (fs.isSafari()) {\n            browser = 'safari';\n        } else if (fs.isFirefox()) {\n            browser = 'firefox';\n        } else {\n            this.log.warn('Unknown browser. ',\n            'Vendor:', this.w.navigator.vendor,\n            'Agent:', this.w.navigator.userAgent);\n            return;\n        }\n        body.classList.add(browser);\n//        body.classed(browser, true);\n        this.onos.browser = browser;\n\n        if (fs.isMobile()) {\n            body.classList.add('mobile');\n            this.onos.mobile = true;\n        }\n\n//        this.log.debug('Detected browser is', fs.cap(browser));\n    }\n}\n","/*\n *  Copyright 2018-present Open Networking Foundation\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\nimport { Injectable } from '@angular/core';\nimport { LogService } from '../log.service';\n\n\n/**\n * ONOS logo glyph\n *\n * TODO: Some major refactoring needs to go on here to make this more understandable\n */\nexport const logos = new Map<string, string>([\n    [ '_bird', '352 224 113 112'], // viewbox of bird - next is the bird path\n    [ 'bird', 'M427.7,300.4 c-6.9,0.6-13.1,5-19.2,7.1c-18.1,6.2-33.9,' +\n    '9.1-56.5,4.7c24.6,17.2,36.6,13,63.7,0.1c-0.5,0.6-0.7,1.3-1.3,' +\n    '1.9c1.4-0.4,2.4-1.7,3.4-2.2c-0.4,0.7-0.9,1.5-1.4,1.9c2.2-0.6,' +\n    '3.7-2.3,5.9-3.9c-2.4,2.1-4.2,5-6,8c-1.5,2.5-3.1,4.8-5.1,6.9c-1,' +\n    '1-1.9,1.9-2.9,2.9c-1.4,1.3-2.9,2.5-5.1,2.9c1.7,0.1,3.6-0.3,6.5' +\n    '-1.9c-1.6,2.4-7.1,6.2-9.9,7.2c10.5-2.6,19.2-15.9,25.7-18c18.3' +\n    '-5.9,13.8-3.4,27-14.2c1.6-1.3,3-1,5.1-0.8c1.1,0.1,2.1,0.3,3.2,' +\n    '0.5c0.8,0.2,1.4,0.4,2.2,0.8l1.8,0.9c-1.9-4.5-2.3-4.1-5.9-6c-2.3' +\n    '-1.3-3.3-3.8-6.2-4.9c-7.1-2.6-11.9,11.7-11.7-5c0.1-8,4.2-14.4,' +\n    '6.4-22c1.1-3.8,2.3-7.6,2.4-11.5c0.1-2.3,0-4.7-0.4-7c-2-11.2-8.4' +\n    '-21.5-19.7-24.8c-1-0.3-1.1-0.3-0.9,0c9.6,17.1,7.2,38.3,3.1,54.2' +\n    'C429.9,285.5,426.7,293.2,427.7,300.4z'],\n    [ '_cord', '0 0 110 110'],\n    [ 'cord', 'M92.5,62.3l-33,33,2.5,2.5c4.1,4.1,7.4,3.6,11.2-.1L95.9,75' +\n    'l-4.5-4.5,4.7-4.7-3.6-3.6Z' +\n    'm2.6,7L98.4,66l3.3,3.3-3.3,3.3-3.3-3.3Z' +\n    'M94.5,60l4.9-4.9,4.9,4.9-4.9,4.9Z' +\n    'M36.2,36.1L18.6,53.8c-7.8,7.8-5.8,17.4-2.4,22l-2.2-2.2' +\n    'c-10.6-10.6-11.2-20,0-31.2L28.2,28.1L31.3,25l8,8-3.1,3.1Z' +\n    'M55.5,55.4l3.6-3.6L66.9,44l-8-8l-2.5,2.5-5.2,5.2l-3.6,3.6' +\n    'L33.2,61.6C22,72.7,22.5,82.2,33.2,92.8L35.4,95' +\n    'c-3.4-4.5-5.4-14.1,2.4-22L55.5,55.4Z' +\n    'M50.7,21.7l-8-8L35,21.2l8,8,7.6-7.6Z' +\n    'M62.8,9.6L55.4,17l-8-8,7.4-7.4,8,8Z' +\n    'm0.7,18.3-7.6,7.6-8-8,7.6-7.6,8,8Z' +\n    'm26.1-6.6-8.1,8.1-8-8,8.1-8.1,8,8Z' +\n    'M79.3,31.5l-7.4,7.4-8-8,7.4-7.4,8,8Z' +\n    'M45.7,45.6L54.3,37l-8-8-8.6,8.6L23.4,51.8' +\n    'C12.2,63,12.8,72.4,23.4,83l2.2,2.2c-3.4-4.5-5.4-14.1,2.4-22Z' +\n    'M34.9,80.7l20.6,20.5c2,2,4.6,4.1,7.9,3.2-2.9,2.9-8.9,1.7-11.9-1.3' +\n    'L35.1,86.8,35,86.6H34.9l-0.8-.8' +\n    'a15,15,0,0,1,.1-1.9,14.7,14.7,0,0,1,.7-3.2Z' +\n    'm-0.6,7.4a21.3,21.3,0,0,0,5.9,11.7l5.7,5.7' +\n    'c3,3,9,4.1,11.9,1.3-3.3.9-5.9-1.2-7.9-3.2L34.3,88.1Z' +\n    'm3.5-12.4a16.6,16.6,0,0,0-2.3,3.6L57,100.8' +\n    'c3,3,9,4.1,11.9,1.3-3.3.9-5.9-1.2-7.9-3.2Z'],\n]);\n\n\n// --- Core glyphs ------------------------------------\n\n// NOTE: when adding glyphs, please also update GlyphConstants class.\nconst tableFrame = 'M6.3,5.3h8.5v14.2h-8.5z' +\n        'M95.3,5.3h8.5v14.2h-8.5z' +\n        'M18.5,5.3h15.6v14.2h-15.6z' +\n        'M37.9,5.3h15.6v14.2h-15.6z' +\n        'M57,5.3h15.6v14.2h-15.6z' +\n        'M76.1,5.3h15.6v14.2h-15.6z' +\n        'M6.3,23.9h97.5v80.75h-97.5z';\n\nconst rSquare = 'M10,20a10,10,0,0,1,10-10h70a10,10,0,0,1,10,10v70a10,10,' +\n        '0,0,1-10,10h-70a10,10,0,0,1-10-10z';\n\nconst octagon = 'M10,35l25-25h40l25,25v40l-25,25h-40l-25-25z';\n\nconst circle = 'M10,55A45,45,0,0,1,100,55A45,45,0,0,1,10,55';\n\nconst arrowsLR = 'M58,26l12,0,0-8,18,13-18,13,0-8-12,0z' +\n        'M58,60l12,0,0-8,18,13-18,13,0-8-12,0z' +\n        'M52,40l-12,0,0-8-18,13,18,13,0-8,12,0z' +\n        'M52,74l-12,0,0-8-18,13,18,13,0-8,12,0z';\n\nconst arrowsInHOutV = 'M20,50l12,0,0-8,18,13-18,13,0-8-12,0z' +\n        'M90,50l-12,0,0-8-18,13,18,13,0-8,12,0z' +\n        'M50,47l0-12-8,0,13-18,13,18-8,0,0,12z' +\n        'M50,63l0,12-8,0,13,18,13-18-8,0,0-12z';\n\nconst laser = 'M47.2,68.4L31.1,84.5,25.6,79,41.7,62.9Z' +\n        'M76.3,30.6A3.4,3.4,0,0,0,72.9,34a3.3,3.3,0,0,0,.3,1.3L44.7,63.7' +\n        'l1.7,1.7L74.8,37a3.2,3.2,0,0,0,1.5.4A3.4,3.4,0,1,0,76.3,30.6Z' +\n        'm0.9-2.9V23.8a0.8,0.8,0,0,0-.8-0.8H76.1a0.8,0.8,0,0,0-.8.8v3.9' +\n        'a0.8,0.8,0,0,0,.8.8h0.3A0.8,0.8,0,0,0,77.2,27.7Z' +\n        'm3.5,3.2,3.6-3.6a0.9,0.9,0,0,0,0-1.2H84.3a0.9,0.9,0,0,0-1.2,0' +\n        'l-3.6,3.6a0.9,0.9,0,0,0,0,1.2h0.1A0.9,0.9,0,0,0,80.7,30.9Z' +\n        'm1.8,4h3.9a0.8,0.8,0,0,0,.8-0.8V33.7a0.8,0.8,0,0,0-.8-0.8H82.6' +\n        'a0.8,0.8,0,0,0-.8.8V34A0.8,0.8,0,0,0,82.6,34.8Z' +\n        'm-16.3.1h3.9a0.8,0.8,0,0,0,.8-0.8V33.8a0.8,0.8,0,0,0-.8-0.8' +\n        'H66.2a0.8,0.8,0,0,0-.8.8v0.3A0.8,0.8,0,0,0,66.2,34.9Z' +\n        'm6.8-5.2-3.8-3.8a0.9,0.9,0,0,0-1.3,0a0.9,0.9,0,0,0,0,1.3' +\n        'L71.8,31A0.9,0.9,0,0,0,73,31A0.9,0.9,0,0,0,73.1,29.7Z' +\n        'M84.8,40.9L80.9,37a0.9,0.9,0,0,0-1.3,0a0.9,0.9,0,0,0,0,1.3' +\n        'l3.9,3.9a0.9,0.9,0,0,0,1.3,0A0.9,0.9,0,0,0,84.8,40.9Z' +\n        'm-7.6,3.2V40.2a0.8,0.8,0,0,0-.8-0.8H76.2a0.8,0.8,0,0,0-.8.8' +\n        'v3.9a0.8,0.8,0,0,0,.8.8h0.3A0.8,0.8,0,0,0,77.3,44.1Z';\n\nconst fiberStar = 'M89,60V57H70.6a15,15,0,0,1-3.2,7.6l13,12.9L82.8,75v7.5' +\n        'H75.2l2.2-2.2-12.8-13A14.9,14.9,0,0,1,57,70.6V89h3.1l-5.3,5.4' +\n        'L49.4,89H53V70.6a13.2,13.2,0,0,1-8-3.2l-13.1,13,2.3,2.3H26.5' +\n        'V75.1l2.3,2.3,13-12.8A15,15,0,0,1,38.7,57H21v3l-5.4-5.4L21,49.3' +\n        'V53H38.7a13.1,13.1,0,0,1,3.2-8l-13-13.1-2.2,2.1V26.4h7.5l-2.4,2.4' +\n        'L45,41.8a13.2,13.2,0,0,1,8-3.2V21H49.4l5.4-5.4L60.1,21H57V38.6' +\n        'a14.9,14.9,0,0,1,7.6,3.2l12.9-13-2.4-2.3h7.5v7.6l-2.3-2.3L67.4,45' +\n        'a13.1,13.1,0,0,1,3.2,8H89V49.3l5.4,5.3Z';\n\nexport const glyphDataSet = new Map<string, string>([\n    ['_viewbox', '0 0 110 110'],\n\n    ['uiAttached', 'M91.9,16.7H18.1A5.3,5.3,0,0,0,12.8,22V68' +\n    'a5.3,5.3,0,0,0,5.3,5.3H91.9A5.3,5.3,0,0,0,97.2,68V22' +\n    'A5.3,5.3,0,0,0,91.9,16.7ZM91.6,65.2H18.4V22.3H91.6V65.2Z' +\n    'M71.5,87.5h3.8v5.9h-40.6v-5.9h3.8v-1.7h5.4v-9.7h22.3v9.7h5.3v1.7z'],\n\n    // Small dot\n    ['unknown', 'M35,40a5,5,0,0,1,5-5h30a5,5,0,0,1,5,5v30a5,5,0,0,1-5,5' +\n    'h-30a5,5,0,0,1-5-5z'],\n\n    // Question mark for unknown device types\n    ['query', 'M51.4,69.9c0-0.9,0-1.6,0-2.1c0-2.7,0.4-5.1,1.2-7.1' +\n    'c0.6-1.5,1.5-3,2.8-4.5c0.9-1.1,2.6-2.7,5.1-4.8c2.4-2.1,4-3.8,' +\n    '4.8-5.1 c0.7-1.3,1.1-2.6,1.1-4.1c0-2.7-1.1-5.1-3.2-7.1c-2.1-2' +\n    '-4.8-3.1-7.9-3.1c-3,0-5.5,0.9-7.5,2.8c-2,1.9-3.3,4.8-4,8.7l-7.2' +\n    '-0.8 c0.7-5.3,2.6-9.3,5.8-12.1c3.2-2.8,7.5-4.2,12.8-4.2c5.6,0,' +\n    '10.1,1.5,13.4,4.5c3.3,3,5,6.7,5,10.9c0,2.5-0.6,4.8-1.8,6.8 ' +\n    's-3.5,4.6-6.9,7.6c-2.3,2-3.8,3.5-4.5,4.4c-0.7,1-1.2,2-1.6,3.3' +\n    'c-0.3,1.2-0.5,3.2-0.6,6H51.4z M51,83.8v-7.9h8v7.9H51z'],\n\n\n    // --- ONOS cluster node ---\n    ['node', 'M15,100a5,5,0,0,1-5-5v-65a5,5,0,0,1,5-5h80a5,5,0,0,1,5,5' +\n    'v65a5,5,0,0,1-5,5zM14,22.5l11-11a10,3,0,0,1,10-2h40a10,3,0,0,1,' +\n    '10,2l11,11zM16,35a5,5,0,0,1,10,0a5,5,0,0,1-10,0z'],\n\n\n    // --- DEVICES ---\n    // See Device.DeviceType enum for the following...\n\n    // NOTE: 'other' should map to 'unknown' (.) above\n\n    // deprecated glyphs -- using Mojo Designs below -- m_*\n    ['switch', rSquare + arrowsLR],\n\n    ['router', circle + arrowsInHOutV],\n\n    ['roadm', octagon + arrowsLR],\n\n    ['otn', rSquare + laser],\n\n    ['roadm_otn', octagon + laser],\n\n    ['fiber_switch', rSquare + fiberStar],\n\n    ['microwave', 'M85,71.2c-8.9,10.5-29.6,8.7-45.3-3.5C23.9,55.4,19.8,' +\n    '37,28.6,26.5C29.9,38.6,71.5,69.9,85,71.2z M92.7,76.2M16.2,15 ' +\n    'M69.5,100.7v-4c0-1.4-1.2-2.2-2.6-2.2H19.3c-1.4,0-2.8,0.7-2.8,2.2' +\n    'v3.9c0,0.7,0.8,1,1.5,1h50.3C69,101.5,69.5,101.3,69.5,100.7z ' +\n    'M77.3,7.5l0,3.7c9,0.1,16.3,7.1,16.2,15.7l3.9,0C97.5,16.3,88.5,' +\n    '7.6,77.3,7.5z M77.6,14.7l0,2.5c5.3,0,9.7,4.2,9.6,9.3l2.6,0C89.9' +\n    ',20,84.4,14.7,77.6,14.7z M82.3,22.2c-1.3-1.2-2.9-1.9-4.7-1.9' +\n    'l0,1.2c1.4,0,2.8,0.6,3.8,1.5c1,1,1.6,2.3,1.6,3.7l1.3,0C84.3,25.1,' +\n    '83.6,23.4,82.3,22.2z M38.9,69.5l-5.1,23h16.5l-2.5-17.2C44.1,73.3,' +\n    '38.9,69.5,38.9,69.5zM58.1,54.1c13.7,10.1,26.5,16.8,29.2,13.7' +\n    'c2.7-3.1-5.6-13-19.3-24.4 M62.9,34.2 M62,37.9C47.7,27.3,33.7,20,' +\n    '31,23.1c-2.7,3.2,7,14.2,20.6,26 M73.9,25.7c-2.9,0.1-5.2,2.3-5.1,' +\n    '4.8c0,0.7,0.2,1.4,0.6,2l0,0L53.8,49.7l3.3,2.5L72.7,35l-0.4-0.3' +\n    'c0.6,0.2,1.3,0.3,1.9,0.3c2.9-0.1,5.2-2.3,5.1-4.9C79.3,27.6,76.8,' +\n    '25.6,73.9,25.7z'],\n\n    // NOTE: 'unrecognized' should map to 'query' (?) above\n\n\n    // --- HOSTS ---\n\n    // default glyph for a host\n    ['endstation', 'M10,15a5,5,0,0,1,5-5h65a5,5,0,0,1,5,5v80a5,5,0,0,1' +\n    '-5,5h-65a5,5,0,0,1-5-5zM87.5,14l11,11a3,10,0,0,1,2,10v40a3,10,' +\n    '0,0,1,-2,10l-11,11zM17,19a2,2,0,0,1,2-2h56a2,2,0,0,1,2,2v26a2,' +\n    '2,0,0,1-2,2h-56a2,2,0,0,1-2-2zM20,20h54v10h-54zM20,33h54v10h' +\n    '-54zM42,70a5,5,0,0,1,10,0a5,5,0,0,1-10,0z'],\n\n    ['bgpSpeaker', 'M10,40a45,35,0,0,1,90,0Q100,77,55,100Q10,77,10,40z' +\n    'M50,29l12,0,0-8,18,13-18,13,0-8-12,0zM60,57l-12,0,0-8-18,13,' +\n    '18,13,0-8,12,0z'],\n\n\n    // --- Miscellaneous glyphs ---------------------------------\n\n    ['chain', 'M60.4,77.6c-4.9,5.2-9.6,11.3-15.3,16.3c-8.6,7.5-20.4,6.8' +\n    '-28-0.8c-7.7-7.7-8.4-19.6-0.8-28.4c6.5-7.4,13.5-14.4,20.9-20.9' +\n    'c7.5-6.7,19.2-6.7,26.5-0.8c3.5,2.8,4.4,6.1,2.2,8.7c-2.7,3.1' +\n    '-5.5,2.5-8.5,0.3c-4.7-3.4-9.7-3.2-14,0.9C37.1,58.7,31,64.8,' +\n    '25.2,71c-4.2,4.4-4.2,10.6-0.6,14.3c3.7,3.7,9.7,3.7,14.3-0.4' +\n    'c2.9-2.5,5.3-5.5,8.3-8c1-0.9,3-1.1,4.4-0.9C54.8,76.3,57.9,77.1,' +\n    '60.4,77.6zM49.2,32.2c5-5.2,9.7-10.9,15.2-15.7c12.8-11,31.2' +\n    '-4.9,34.3,11.2C100,34.2,98.3,40.2,94,45c-6.7,7.4-13.7,14.6' +\n    '-21.2,21.2C65.1,73,53.2,72.7,46,66.5c-3.2-2.8-3.9-5.8-1.6-8.4' +\n    'c2.6-2.9,5.3-2.4,8.2-0.3c5.2,3.7,10,3.3,14.7-1.1c5.8-5.6,11.6' +\n    '-11.3,17.2-17.2c4.6-4.8,4.9-11.1,0.9-15c-3.9-3.9-10.1-3.4-15,' +\n    '1.2c-3.1,2.9-5.7,7.4-9.3,8.5C57.6,35.3,53,33,49.2,32.2z'],\n\n    ['crown', 'M99.5,21.6c0,3-2.3,5.4-5.1,5.4c-0.3,0-0.7,0-1-0.1c-1.8,' +\n    '4-4.8,10-7.2,17.3c-3.4,10.6-0.9,26.2,2.7,27.3C90.4,72,91.3,' +\n    '75,88,75H22.7c-3.3,0-2.4-3-0.9-3.5c3.6-1.1,6.1-16.7,2.7-27.3' +\n    'c-2.4-7.4-5.4-13.5-7.2-17.5c-0.5,0.2-1,0.3-1.6,0.3c-2.8,0' +\n    '-5.1-2.4-5.1-5.4c0-3,2.3-5.4,5.1-5.4c2.8,0,5.1,2.4,5.1,5.4c0,' +\n    '1-0.2,1.9-0.7,2.7c0.7,0.8,1.4,1.6,2.4,2.6c8.8,8.9,11.9,12.7,' +\n    '18.1,11.7c6.5-1,11-8.2,13.3-14.1c-2-0.8-3.3-2.7-3.3-5.1c0-3,' +\n    '2.3-5.4,5.1-5.4c2.8,0,5.1,2.4,5.1,5.4c0,2.5-1.6,4.5-3.7,5.2' +\n    'c2.3,5.9,6.8,13,13.2,14c6.2,1,9.3-2.7,18.1-11.7c0.7-0.7,1.4' +\n    '-1.5,2-2.1c-0.6-0.9-1-2-1-3.1c0-3,2.3-5.4,5.1-5.4C97.2,16.2,' +\n    '99.5,18.6,99.5,21.6zM92,87.9c0,2.2-1.7,4.1-3.8,4.1H22.4c' +\n    '-2.1,0-4.4-1.9-4.4-4.1v-3.3c0-2.2,2.3-4.5,4.4-4.5h65.8c2.1,' +\n    '0,3.8,2.3,3.8,4.5V87.9z'],\n\n    ['lock', 'M79.4,48.6h-2.7c0.2-5.7-0.2-20.4-7.9-28.8c-3.6-3.9-8.3' +\n    '-5.9-13.7-5.9c-5.4,0-10.2,2-13.8,5.9c-7.8,8.4-8.3,23.2-8.1,28.8' +\n    'h-2.7c-4.4,0-8,2.6-8,5.9v35.7c0,3.3,3.6,5.9,8,5.9h48.9c4.4,0,' +\n    '8-2.6,8-5.9V54.5C87.5,51.3,83.9,48.6,79.4,48.6z M48.1,26.1c1.9' +\n    '-2,4.1-2.9,7-2.9c2.9,0,5.1,0.9,6.9,2.9c5,5.4,5.6,17.1,5.4,22.6' +\n    'h-25C42.3,43.1,43.1,31.5,48.1,26.1z'],\n\n    ['topo', 'M97.2,76.3H86.6l-7.7-21.9H82c1,0,1.9-0.8,1.9-1.9V35.7c' +\n    '0-1-0.8-1.9-1.9-1.9H65.2c-1,0-1.9,0.8-1.9,1.9v2.6L33.4,26.1v-11' +\n    'c0-1-0.8-1.9-1.9-1.9H14.7c-1,0-1.9,0.8-1.9,1.9v16.8c0,1,0.8,' +\n    '1.9,1.9,1.9h16.8c1,0,1.9-0.8,1.9-1.9v-2.6l29.9,12.2v9L30.5,76.9' +\n    'c-0.3-0.3-0.8-0.5-1.3-0.5H12.4c-1,0-1.9,0.8-1.9,1.9V95c0,1,0.8,' +\n    '1.9,1.9,1.9h16.8c1,0,1.9-0.8,1.9-1.9v-6.9h47.4V95c0,1,0.8,1.9,' +\n    '1.9,1.9h16.8c1,0,1.9-0.8,1.9-1.9V78.2C99.1,77.2,98.2,76.3,97.2,' +\n    '76.3z M31.1,85.1v-4.9l32.8-26.4c0.3,0.3,0.8,0.5,1.3,0.5h10.5l' +\n    '7.7,21.9h-3c-1,0-1.9,0.8-1.9,1.9v6.9H31.1z'],\n\n    ['refresh',\n   'M99.7,53.8l-10,13.3L85,73.5,78,64,70.4,53.7h9' +\n   'A28.5,28.5,0,1,0,68.3,77.6l10.6,6.9A40.7,40.7,0,1,1,91.6,53.8h8.2Z'],\n\n    ['garbage', 'M55.1,31.1c9.4,0,18.7.1,28.1-.1,3.2-.1,4.2,1,3.7,4.1' +\n    'q-4.1,28.6-8,57.3c-0.3,2.3-1.3,3.4-3.5,3.4h-41' +\n    'c-2.2,0-2.9-1.2-3.2-3.2Q27,63.5,22.7,34.4c-0.4-2.8.6-3.4,3.1-3.4' +\n    'H55.1Z' +\n    'M44.3,81.9c0.4-1.1-2.5-27.4-3.8-40.5a3.2,3.2,0,0,0-3.7-3.2' +\n    'c-2.5.1-2.5,1.9-2.4,3.7,0.5,4.9,1,9.8,1.5,14.7,0.8,8.1,1.6,16.2,' +\n    '2.4,24.2,0.2,2.2,1.1,4.1,3.6,3.4A3.6,3.6,0,0,0,44.3,81.9Z' +\n    'm21.2,0a2.8,2.8,0,0,0,2.2,2.3' +\n    'c2.3,0.8,3.7-.7,4-3.1,1.3-12.9,2.6-25.7,3.8-38.6,0.2-2,.3-4.1-2.6-4.4' +\n    's-3.3,1.7-3.5,3.7C68.1,54.8,65.5,81.1,65.5,81.9Z' +\n    'M57.9,61.3q0-9.8,0-19.6c0-2.2-.8-3.6-3.2-3.5s-2.6,1.7-2.6,3.6' +\n    'q0,19.4,0,38.8c0,1.9,0,3.8,2.8,3.9s3-1.8,3-3.9Q57.9,70.9,57.9,61.3Z' +\n    'M19,24.7c0.3-2,.5-5.7,1.5-8a5.1,5.1,0,0,1,3.6-2.3' +\n    'c5.5-.5,17.3-0.8,17.3-0.8l4.3-3.3H62.9l5.6,3.5S84.5,14.6,87,15' +\n    's2.5,0.7,3.2,1.9,0.9,7.4.9,7.4Z'],\n\n    ['cog', 'M100.2,46.4L87.1,44.8l-2.1-5L93.1,29a2.3,2.3,0,0,0-.2-3' +\n    'l-8.7-8.8a2.4,2.4,0,0,0-3.1-.2l-11,7.9L66,23.1,63.1,9.5' +\n    'A2.1,2.1,0,0,0,60.8,8H49.3A2.1,2.1,0,0,0,47,9.5L44.2,22.7l-5,2.2' +\n    'L28.8,16.8a2.3,2.3,0,0,0-3.1.2l-9.2,9.2a2.4,2.4,0,0,0-.2,3.2' +\n    'l8.1,10.4-1.7,4.1L9.8,46.4A2.3,2.3,0,0,0,8,48.7V61.9' +\n    'a2.3,2.3,0,0,0,2,2.4L22.6,66l1.7,5.2-7.7,10a2.4,2.4,0,0,0,.2,3.2' +\n    'l9.1,9a2.4,2.4,0,0,0,3.3.1l9-8.2,4.8,2.2,2.6,12.7' +\n    'a2.3,2.3,0,0,0,2.4,1.9l13.9-.2a2.5,2.5,0,0,0,2.3-2.4' +\n    'l0.7-11.4,5.5-2.3,9.8,8.1a2.4,2.4,0,0,0,3.2-.1L93,83.9' +\n    'a2.4,2.4,0,0,0,.1-3.3L84.7,71,87,66l13.2-2.5a2.3,2.3,0,0,0,1.9-2.3' +\n    'l0.2-12.5A2.4,2.4,0,0,0,100.2,46.4ZM54.4,73' +\n    'A18.2,18.2,0,1,1,72.6,54.8,18.2,18.2,0,0,1,54.4,73Z'],\n\n    ['delta', 'M55,19.2L13.7,90.8h82.7L55,19.2z ' +\n    'M55,31.2l30.9,53.5H24.1L55,31.2z'],\n\n    ['nonzero', 'M76.7,25.1l7.8-13.5l-7.6-0.3l-5.7,9.9' +\n    'c-4.8-2.9-10.4-4.5-16.2-4.5c-19.1,0-34.7,17.2-34.7,38.4' +\n    'c0,12.5,5.4,23.6,13.7,30.6l-7.6,13.2l7.6,0.1l5.5-9.6' +\n    'c4.7,2.6,9.9,4,15.5,4c19.1,0,34.7-17.2,34.7-38.4' +\n    'C89.7,42.9,84.6,32.1,76.7,25.1z M27.9,55C27.9,38.4,40,25,55,25' +\n    'c4.4,0,8.5,1.2,12.2,3.2l-29,50.3C31.9,73,27.9,64.5,27.9,55z' +\n    'M55,85c-4.1,0-7.9-1-11.4-2.8l29-50.1c5.8,5.5,9.5,13.7,9.5,22.8' +\n    'C82.1,71.6,70,85,55,85z'],\n\n    ['download', 'M90.3,94.5H19.7V79.2H90.3V94.5Z' +\n    'm-49.1-79V44H26.2L55,72.3,83.8,44H68.9V15.5H41.1Z'],\n\n    ['upload', 'M90.3,79.4H19.7V94.6H90.3V79.4Z' +\n    'M41.1,71.8V43.5H26.2L55,15.4,83.8,43.5H68.9V71.8H41.1Z'],\n\n    // --- Navigation glyphs ------------------------------------\n\n    ['flowTable', tableFrame +\n    'M86,63.2c0,3.3-2.7,6-6,6c-2.8,0-5.1-1.9-5.8-' +\n    '4.5H63.3v5.1c0,0.9-0.7,1.5-1.5,1.5h-5.2v10.6c2.6,0.7,4.5,3,4.5,' +\n    '5.8c0,3.3-2.7,6-6,6c-3.3,0-6-2.7-6-6c0-2.8,1.9-5.1,4.4-5.8V71.3' +\n    'H48c-0.9,0-1.5-0.7-1.5-1.5v-5.1H36c-0.7,2.6-3,4.4-5.8,4.4c-3.3,' +\n    '0-6-2.7-6-6s2.7-6,6-6c2.8,0,5.2,1.9,5.8,4.5h10.5V56c0-0.9,0.7-' +\n    '1.5,1.5-1.5h5.5V43.8c-2.6-0.7-4.5-3-4.5-5.8c0-3.3,2.7-6,6-6s6,' +\n    '2.7,6,6c0,2.8-1.9,5.1-4.5,5.8v10.6h5.2c0.9,0,1.5,0.7,1.5,1.5v' +\n    '5.6h10.8c0.7-2.6,3-4.5,5.8-4.5C83.3,57.1,86,59.8,86,63.2z ' +\n    'M55.1,42.3c2.3,0,4.3-1.9,4.3-4.3c0-2.3-1.9-4.3-4.3-4.3' +\n    's-4.3,1.9-4.3,4.3C50.8,40.4,52.7,42.3,55.1,42.3z ' +\n    'M34.4,63.1c0-2.3-1.9-4.3-4.3-4.3s-4.3,1.9-4.3,4.3' +\n    's1.9,4.3,4.3,4.3S34.4,65.5,34.4,63.1z ' +\n    'M55.1,83.5c-2.3,0-4.3,1.9-4.3,4.3s1.9,4.3,4.3,4.3' +\n    's4.3-1.9,4.3-4.3S57.5,83.5,55.1,83.5z' +\n    'M84.2,63.2c0-2.3-1.9-4.3-4.3-4.3s-4.3,' +\n    '1.9-4.3,4.3s1.9,4.3,4.3,4.3S84.2,65.5,84.2,63.2z'],\n\n    ['portTable', tableFrame +\n    'M85.5,37.7c0-0.7-0.4-1.3-0.9-1.3H26.2c-0.5,0-' +\n    '0.9,0.6-0.9,1.3v34.6c0,0.7,0.4,1.3,0.9,1.3h11v9.6c0,1.1,0.5,2,' +\n    '1.2,2h9.1c0,0.2,0,0.3,0,0.5v3c0,1.1,0.5,2,1.2,2h13.5c0.6,0,1.2-' +\n    '0.9,1.2-2v-3c0-0.2,0-0.3,0-0.5h9.1c0.6,0,1.2-0.9,1.2-2v-9.6h11' +\n    'c0.5,0,0.9-0.6,0.9-1.3V37.7z M30.2,40h-1v8h1V40zM75.2,40h-2.1v8' +\n    'h2.1V40z M67.7,40h-2.1v8h2.1V40z M60.2,40h-2.1v8h2.1V40z M52.7,' +\n    '40h-2.1v8h2.1V40z M45.2,40h-2.1v8h2.1V40zM37.7,40h-2.1v8h2.1V40' +\n    'z M81.6,40h-1v8h1V40z'],\n\n    ['groupTable', tableFrame +\n    'M45.7,52.7c0.2-5.6,2.6-10.7,6.2-14.4c-2.6-1.5-5.7-2.5-8.9-2.5' +\n    'c-9.8,0-17.7,7.9-17.7,17.7c0,6.3,3.3,11.9,8.3,15' +\n    'C34.8,61.5,39.4,55.6,45.7,52.7z ' +\n    'M51.9,68.8c-3.1-3.1-5.2-7.2-6-11.7c-4.7,2.8-7.9,7.6-8.6,13.2' +\n    'c1.8,0.6,3.6,0.9,5.6,0.9C46.2,71.2,49.3,70.3,51.9,68.8z ' +\n    'M55.2,71.5c-3.5,2.4-7.7,3.7-12.2,3.7c-1.9,0-3.8-0.3-5.6-0.7' +\n    'C38.5,83.2,45.9,90,54.9,90c9,0,16.4-6.7,17.5-15.4' +\n    'c-1.6,0.4-3.4,0.6-5.1,0.6C62.8,75.2,58.6,73.8,55.2,71.5z ' +\n    'M54.9,50.6c1.9,0,3.8,0.3,5.6,0.7c-0.5-4.1-2.5-7.9-5.4-10.6' +\n    'c-2.9,2.7-4.8,6.4-5.3,10.5C51.5,50.8,53.2,50.6,54.9,50.6z ' +\n    'M49.7,55.4c0.5,4.3,2.4,8.1,5.4,10.9c2.9-2.8,4.9-6.6,5.4-10.8' +\n    'c-1.8-0.6-3.6-0.9-5.6-0.9C53.1,54.6,51.4,54.9,49.7,55.4z ' +\n    'M89,53.5c0-12-9.7-21.7-21.7-21.7c-4.5,0-8.7,1.4-12.2,3.7' +\n    'c-3.5-2.4-7.7-3.7-12.2-3.7c-12,0-21.7,9.7-21.7,21.7' +\n    'c0,8.5,4.9,15.9,12,19.4C33.6,84.6,43.2,94,54.9,94' +\n    'c11.7,0,21.2-9.3,21.7-20.9C84,69.7,89,62.2,89,53.5z ' +\n    'M64.3,57.3c-0.8,4.4-2.9,8.4-5.9,11.5c2.6,1.5,5.7,2.5,8.9,2.5' +\n    'c1.8,0,3.6-0.3,5.2-0.8C72,64.9,68.8,60.1,64.3,57.3z ' +\n    'M67.3,35.8c-3.3,0-6.3,0.9-8.9,2.5c3.7,3.8,6.1,8.9,6.2,14.6' +\n    'c6.1,3.1,10.6,8.9,11.7,15.8C81.5,65.6,85,60,85,53.5' +\n    'C85,43.8,77.1,35.8,67.3,35.8z'],\n\n    ['meterTable', tableFrame +\n    'M96.3,79.2c0-19.1-22.1-34.6-41.3-34.6S13.7,60.1,13.7,79.2' +\n    'H39.4c0-7.2,8.4-13.1,15.7-13.1S70.6,72,70.6,79.2H96.3z' +\n    'M48,65.6L36.8,53c0-.5-1.5.5-1.4,0.7l5.3,16.6z'],\n\n    ['pipeconfTable', tableFrame +\n    'M10,66h13v3h-13z' +\n    'M23,62.5L28,67.5L23,72.5z' +\n    'M30,55h12.5v25h-12.5z' +\n    'M45,66h13v3h-13z' +\n    'M58,62.5L63,67.5L58,72.5z' +\n    'M65,55h12.5v25h-12.5z' +\n    'M79,66h15v3h-15z' +\n    'M94,62.5L99,67.5L94,72.5z'],\n\n    // --- Topology toolbar specific glyphs ----------------------\n\n    ['summary', 'M95.8,9.2H14.2c-2.8,0-5,2.2-5,5v81.5c0,2.8,2.2,5,5,' +\n    '5h81.5c2.8,0,5-2.2,5-5V14.2C100.8,11.5,98.5,9.2,95.8,9.2z ' +\n    'M16.7,22.2c0-1.1,0.9-2,2-2h20.1c1.1,0,2,0.9,2,2v20.1c0,1.1-0.9,' +\n    '2-2,2H18.7c-1.1,0-2-0.9-2-2V22.2z M93,87c0,1.1-0.9,2-2,2H18.9' +\n    'c-1.1,0-2-0.9-2-2v-7c0-1.1,0.9-2,2-2H91c1.1,0,2,0.9,2,2V87z ' +\n    'M93,65c0,1.1-0.9,2-2,2H18.9c-1.1,0-2-0.9-2-2v-7c0-1.1,0.9-2,' +\n    '2-2H91c1.1,0,2,0.9,2,2V65z'],\n\n    ['details', 'M95.8,9.2H14.2c-2.8,0-5,2.2-5,5v81.5c0,2.8,2.2,5,5,' +\n    '5h81.5c2.8,0,5-2.2,5-5V14.2C100.8,11.5,98.5,9.2,95.8,9.2z M16.9,' +\n    '22.2c0-1.1,0.9-2,2-2H91c1.1,0,2,0.9,2,2v7c0,1.1-0.9,2-2,2H18.9c' +\n    '-1.1,0-2-0.9-2-2V22.2z M93,87.8c0,1.1-0.9,2-2,2H18.9c-1.1,' +\n    '0-2-0.9-2-2v-7c0-1.1,0.9-2,2-2H91c1.1,0,2,0.9,2,2V87.8z M93,68.2' +\n    'c0,1.1-0.9,2-2,2H18.9c-1.1,0-2-0.9-2-2v-7c0-1.1,0.9-2,2-2H91' +\n    'c1.1,0,2,0.9,2,2V68.2z M93,48.8c0,1.1-0.9,2-2,2H19c-1.1,0-2-' +\n    '0.9-2-2v-7c0-1.1,0.9-2,2-2H91c1.1,0,2,0.9,2,2V48.8z'],\n\n    ['ports', 'M98,9.2H79.6c-1.1,0-2.1,0.9-2.1,2.1v17.6l-5.4,5.4c-1.7' +\n    '-1.1-3.8-1.8-6-1.8c-6,0-10.9,4.9-10.9,10.9c0,2.2,0.7,4.3,1.8,6' +\n    'l-7.5,7.5c-1.8-1.2-3.9-1.9-6.2-1.9c-6,0-10.9,4.9-10.9,10.9c0,' +\n    '2.3,0.7,4.4,1.9,6.2l-6.2,6.2H11.3c-1.1,0-2.1,0.9-2.1,2.1v18.4' +\n    'c0,1.1,0.9,2.1,2.1,2.1h18.4c1.1,0,2.1-0.9,2.1-2.1v-16l7-6.9' +\n    'c1.4,0.7,3,1.1,4.7,1.1c6,0,10.9-4.9,10.9-10.9c0-1.7-0.4-3.3-' +\n    '1.1-4.7l8-8c1.5,0.7,3.1,1.1,4.8,1.1c6,0,10.9-4.9,10.9-10.9c0' +\n    '-1.7-0.4-3.4-1.1-4.8l6.9-6.9H98c1.1,0,2.1-0.9,2.1-2.1V11.3' +\n    'C100.1,10.2,99.2,9.2,98,9.2z M43.4,72c-3.3,0-6-2.7-6-6s2.7-6,' +\n    '6-6s6,2.7,6,6S46.7,72,43.4,72z M66.1,49.5c-3.3,0-6-2.7-6-6' +\n    'c0-3.3,2.7-6,6-6s6,2.7,6,6C72.2,46.8,69.5,49.5,66.1,49.5z'],\n\n    ['map', 'M95.8,9.2H14.2c-2.8,0-5,2.2-5,5v66c0.3-1.4,0.7-2.8,' +\n    '1.1-4.1l1.6,0.5c-0.9,2.4-1.6,4.8-2.2,7.3l-0.5-0.1v12c0,2.8,2.2,' +\n    '5,5,5h81.5c2.8,0,5-2.2,5-5V14.2C100.8,11.5,98.5,9.2,95.8,9.2z ' +\n    'M16.5,67.5c-0.4,0.5-0.7,1-1,1.5c-0.3,0.5-0.6,1-0.9,1.6l-1.9-0.9' +\n    'c0.3-0.6,0.6-1.2,0.9-1.8c0.3-0.6,0.6-1.2,1-1.7c0.7-1.1,1.5-2.2,' +\n    '2.5-3.2l1.8,1.8C18,65.6,17.2,66.5,16.5,67.5z M29.7,64.1' +\n    'c-0.4-0.4-0.8-0.8-1.2-1.1c-0.1-0.1-0.2-0.1-0.2-0.1c0,0-0.1,' +\n    '0-0.1-0.1l-0.1,0l0,0l-0.1,0c-0.3-0.1-0.5-0.2-0.8-0.2c-0.5-0.1' +\n    '-1.1-0.2-1.6-0.3c-0.6,0-1.1,0-1.6,0l-0.4-2.8c0.7-0.1,1.5-0.2,2.2' +\n    '-0.1c0.7,0,1.4,0.1,2.2,0.3c0.4,0.1,0.7,0.2,1,0.3l0.1,0l0,0l0.1,' +\n    '0l0.1,0c0.1,0,0.1,0,0.3,0.1c0.3,0.1,0.5,0.2,0.7,0.4c0.7,0.5,' +\n    '1.2,0.9,1.7,1.4L29.7,64.1z M39.4,74.7c-1.8-1.8-3.6-3.8-5.3-5.7' +\n    'l2.6-2.4c0.9,0.9,1.8,1.8,2.7,2.7c0.9,0.9,1.8,1.7,2.7,2.6L39.4,' +\n    '74.7z M50.8,84.2c-1.1-0.7-2.2-1.5-3.3-2.3c-0.5-0.4-1.1-0.8-1.6' +\n    '-1.2c-0.5-0.4-1-0.8-1.5-1.2l2.7-3.4c0.5,0.4,1,0.8,1.5,1.1c0.5,' +\n    '0.3,1,0.7,1.5,1c1,0.7,2.1,1.3,3.1,1.9L50.8,84.2z M61.3,' +\n    '88.7c-0.7-0.1-1.4-0.3-2.1-0.5c-0.7-0.2-1.4-0.5-2-0.7l1.8' +\n    '-4.8c0.6,0.2,1.1,0.4,1.6,0.5c0.5,0.2,1.1,0.3,1.6,0.4c1,0.2,2.1,' +\n    '0.2,3,0.1l0.7,5.1C64.3,89.1,62.7,88.9,61.3,88.7z M75.1,80.4c' +\n    '-0.2,0.7-0.5,1.4-0.9,2c-0.2,0.3-0.3,0.7-0.5,1l-0.3,0.5l-0.3,' +\n    '0.4l-3.9-2.8l0.3-0.4l0.2-0.3c0.1-0.2,0.3-0.4,0.4-0.7c0.3-0.5,' +\n    '0.5-0.9,0.7-1.5c0.4-1,0.8-2.1,1.1-3.3l4.2,0.9C75.9,77.7,75.6,' +\n    '79,75.1,80.4z M73,69.2l0.2-1.9l0.1-1.9c0.1-1.2,0.1-2.5,0.1-' +\n    '3.8l2.5-0.2c0.2,1.3,0.4,2.6,0.5,3.9l0.1,2l0.1,2L73,69.2z ' +\n    'M73,51l0.5-0.1c0.4,1.3,0.8,2.6,1.1,3.9L73.2,55C73.1,53.7,73.1,' +\n    '52.3,73,51z M91.9,20.4c-0.7,1.4-3.6,3.6-4.2,3.9c-1.5,0.8-5,' +\n    '2.8-10.1,7.7c3,2.9,5.8,5.4,7.3,6.4c2.6,1.8,3.4,4.3,3.6,6.1c0.1,' +\n    '1.1-0.1,2.5-0.4,3c-0.5,0.9-1.6,2-3,1.4c-2-0.8-11.5-9.6-13-11c' +\n    '-3.5,3.9-7.4,8.9-11.7,15.1c0,0-3.1,3.4-5.2,0.9C52.9,51.5,61,' +\n    '39.3,61,39.3s2.2-3.1,5.6-7c-2.9-3-5.9-6.3-6.6-7.3c0,0-3.7-5-1.3' +\n    '-6.6c3.2-2.1,6.3,0.8,6.3,0.8s3.1,3.3,7,7.2c4.7-4.7,10.1-9.2,' +\n    '14.7-10c0,0,3.3-1,5.2,1.7C92.5,18.8,92.4,19.6,91.9,20.4z'],\n\n    ['cycleLabels', 'M72.5,33.9c0,0.6-0.2,1-0.5,1H40c-0.3,0-0.5-0.4' +\n    '-0.5-1V20.7c0-0.6,0.2-1,0.5-1h32c0.3,0,0.5,0.4,0.5,1V33.9z ' +\n    'M41.2,61.8c0-0.6-0.2-1-0.5-1h-32c-0.3,0-0.5,0.4-0.5,1V75c0,0.6,' +\n    '0.2,1,0.5,1h32c0.3,0,0.5-0.4,0.5-1V61.8z M101.8,61.8c0-0.6-0.2' +\n    '-1-0.5-1h-32c-0.3,0-0.5,0.4-0.5,1V75c0,0.6,0.2,1,0.5,1h32c0.3,' +\n    '0,0.5-0.4,0.5-1V61.8z M17.2,52.9c0-0.1-0.3-7.1,4.6-13.6l-2.4-1.8' +\n    'c-5.4,7.3-5.2,15.2-5.1,15.5L17.2,52.9z M12.7,36.8l7.4,2.5l1.5,' +\n    '7.6L29.5,31L12.7,36.8z M94.2,42.3c-2.1-8.9-8.3-13.7-8.6-13.9l' +\n    '-1.8,2.4c0.1,0,5.6,4.3,7.5,12.2L94.2,42.3z M99,37.8l-6.6,4.1l' +\n    '-6.8-3.7l7.1,16.2L99,37.8z M69,90.2l-1.2-2.8c-0.1,0-6.6,2.8' +\n    '-14.3,0.6l-0.8,2.9c2.5,0.7,4.9,1,7,1C65,91.8,68.7,90.2,69,90.2z ' +\n    'M54.3,97.3L54,89.5l6.6-4.1l-17.6-1.7L54.3,97.3z'],\n\n    ['oblique', 'M80.9,30.2h4.3l15-16.9H24.8l-15,16.9h19v48.5h-4l-15,' +\n    '16.9h75.3l15-16.9H80.9V30.2z M78.6,78.7H56.1V30.2h22.5V78.7z' +\n    'M79.7,17.4c2.4,0,4.3,1.9,4.3,4.3c0,2.4-1.9,4.3-4.3,4.3s-4.3' +\n    '-1.9-4.3-4.3C75.4,19.3,77.4,17.4,79.7,17.4z M55,17.4c2.4,0,' +\n    '4.3,1.9,4.3,4.3c0,2.4-1.9,4.3-4.3,4.3s-4.3-1.9-4.3-4.3C50.7,' +\n    '19.3,52.6,17.4,55,17.4z M26.1,21.7c0-2.4,1.9-4.3,4.3-4.3c2.4,' +\n    '0,4.3,1.9,4.3,4.3c0,2.4-1.9,4.3-4.3,4.3C28,26,26.1,24.1,26.1,' +\n    '21.7z M31.1,30.2h22.6v48.5H31.1V30.2z M30.3,91.4c-2.4,0-4.3' +\n    '-1.9-4.3-4.3c0-2.4,1.9-4.3,4.3-4.3c2.4,0,4.3,1.9,4.3,4.3C34.6,' +\n    '89.5,32.7,91.4,30.3,91.4z M54.9,91.4c-2.4,0-4.3-1.9-4.3-4.3c0' +\n    '-2.4,1.9-4.3,4.3-4.3c2.4,0,4.3,1.9,4.3,4.3C59.2,89.5,57.3,' +\n    '91.4,54.9,91.4z M84,87.1c0,2.4-1.9,4.3-4.3,4.3c-2.4,0-4.3-1.9' +\n    '-4.3-4.3c0-2.4,1.9-4.3,4.3-4.3C82.1,82.8,84,84.7,84,87.1z'],\n\n    ['filters', 'M24.8,13.3L9.8,40.5h75.3l15.0-27.2H24.8z M72.8,32.1l-' +\n    '9.7-8.9l-19.3,8.9l-6.0-7.4L24.1,30.9l-1.2-2.7l15.7-7.1l6.0,7.4' +\n    'l19.0-8.8l9.7,8.8l11.5-5.6l1.3,2.7L72.8,32.1zM24.3,68.3L9.3,' +\n    '95.5h75.3l15.0-27.2H24.3z M84.3,85.9L70.7,79.8l-6.0,7.4l-19.3' +\n    '-8.9l-9.7,8.9l-13.3-6.5l1.3-2.7l11.5,5.6l9.7-8.8l19.0,8.8l6.0' +\n    '-7.4l15.7,7.1L84.3,85.9z M15.3,57h-6v-4h6V57zM88.1,57H76.0v-4h' +\n    '12.1V57z M69.9,57H57.8v-4h12.1V57z M51.7,57H39.6v-4H51.7V57z ' +\n    'M33.5,57H21.4v-4h12.1V57zM100.2,57h-6v-4h6V57z'],\n\n    ['resetZoom', 'M86,79.8L61.7,54.3c1.8-2.9,2.8-6.3,2.9-10c0.3-11.2' +\n    '-8.6-20.5-19.8-20.8C33.7,23.2,24.3,32,24.1,43.2c-0.3,11.2,8.6,' +\n    '20.5,19.8,20.8c4,0.1,8.9-0.8,11.9-3.6l23.7,25c1.5,1.6,4,2.3,' +\n    '5.3,1l1.6-1.6C87.7,83.7,87.5,81.4,86,79.8z M31.4,43.4c0.2-7.1,' +\n    '6.1-12.8,13.2-12.6C51.8,31,57.5,37,57.3,44.1c-0.2,7.1-6.1,12.8' +\n    '-13.2,12.6C36.9,56.5,31.3,50.6,31.4,43.4zM22.6,104H6V86.4c0' +\n    '-1.7,1.4-3.1,3.1-3.1s3.1,1.4,3.1,3.1v11.4h10.4c1.7,0,3.1,1.4,' +\n    '3.1,3.1S24.3,104,22.6,104z M25.7,9.1c0,1.7-1.4,3.1-3.1,3.1' +\n    'H12.2v11.4c0,1.7-1.4,3.1-3.1,3.1S6,25.3,6,23.6V6h16.6C24.3,6,' +\n    '25.7,7.4,25.7,9.1z M84.3,100.9c0-1.7,1.4-3.1,3.1-3.1h10.4V86.4' +\n    'c0-1.7,1.4-3.1,3.1-3.1s3.1,1.4,3.1,3.1V104H87.4C85.7,104,84.3,' +\n    '102.6,84.3,100.9z M87.4,6H104v17.6c0,1.7-1.4,3.1-3.1,3.1s-3.1' +\n    '-1.4-3.1-3.1V12.2H87.4c-1.7,0-3.1-1.4-3.1-3.1S85.7,6,87.4,6z'],\n\n    ['relatedIntents', 'M99.9,43.7v22.6c0,1.9-1.5,3.4-3.4,3.4H73.9c' +\n    '-1.9,0-3.4-1.5-3.4-3.4V43.7c0-1.9,1.5-3.4,3.4-3.4h22.6C98.4,' +\n    '40.3,99.9,41.8,99.9,43.7z M48.4,46.3l6.2,6.7h-4.6L38.5,38v9.7' +\n    'l4.7,5.3H10.1V57h33.2l-4.8,5.3v9.5L49.8,57h5.1v0l-6.5,7v11.5' +\n    'L64.1,55L48.4,34.4V46.3z'],\n\n    ['nextIntent', 'M88.1,55.7L34.6,13.1c0,0-1.6-0.5-2.1-0.2c-1.9,1.2' +\n    '-6.5,13.8-3.1,17.2c7,6.9,30.6,24.5,32.4,25.9c-1.8,1.4-25.4,19' +\n    '-32.4,25.9c-3.4,3.4,1.2,16,3.1,17.2c0.6,0.4,2.1-0.2,2.1-0.2' +\n    's53.1-42.4,53.5-42.7C88.5,56,88.1,55.7,88.1,55.7z'],\n\n    ['prevIntent', 'M22.5,55.6L76,12.9c0,0,1.6-0.5,2.2-0.2c1.9,1.2,' +\n    '6.5,13.8,3.1,17.2c-7,6.9-30.6,24.5-32.4,25.9c1.8,1.4,25.4,19,' +\n    '32.4,25.9c3.4,3.4-1.2,16-3.1,17.2c-0.6,0.4-2.2-0.2-2.2-0.2' +\n    'S22.9,56.3,22.5,56C22.2,55.8,22.5,55.6,22.5,55.6z'],\n\n    ['intentTraffic', 'M14.7,71.5h-6v-33h6V71.5z M88.5,38.5H76.9v33' +\n    'h11.7V38.5z M70.1,38.5H58.4v33h11.7V38.5z M51.6,38.5H39.9v33' +\n    'h11.7V38.5z M33.1,38.5H21.5v33h11.7V38.5z M101.3,38.5h-6v33h6' +\n    'V38.5z'],\n\n    ['allTraffic', 'M15.7,64.5h-7v-19h7V64.5z M78.6,45.5H62.9v19h15.7' +\n    'V45.5z M47.1,45.5H31.4v19h15.7V45.5z M101.3,45.5h-7v19h7V45.5z' +\n    'M14.7,14.1h-6v19h6V14.1z M88.5,14.1H76.9v19h11.7V14.1z M70.1,' +\n    '14.1H58.4v19h11.7V14.1z M51.6,14.1H39.9v19h11.7V14.1z M33.1,14.1' +\n    'H21.5v19h11.7V14.1z M101.3,14.1h-6v19h6V14.1z M14.7,76.9h-6v19' +\n    'h6V76.9z M88.5,76.9H76.9v19h11.7V76.9z M70.1,76.9H58.4v19h11.7' +\n    'V76.9z M51.6,76.9H39.9v19h11.7V76.9z M33.1,76.9H21.5v19h11.7' +\n    'V76.9z M101.3,76.9h-6v19h6V76.9z'],\n\n    ['flows', 'M93.8,46.1c-4.3,0-8,3-9,7H67.9v-8.8c0-1.3-1.1-2.4-2.4' +\n    '-2.4h-8.1V25.3c4-1,7-4.7,7-9.1c0-5.2-4.2-9.4-9.4-9.4c-5.2,0' +\n    '-9.4,4.2-9.4,9.4c0,4.3,3,8,7,9v16.5H44c-1.3,0-2.4,1.1-2.4,2.4' +\n    'v8.8H25.3c-1-4.1-4.7-7.1-9.1-7.1c-5.2,0-9.4,4.2-9.4,9.4s4.2,' +\n    '9.4,9.4,9.4c4.3,0,8-2.9,9-6.9h16.4v7.9c0,1.3,1.1,2.4,2.4,2.4' +\n    'h8.6v16.6c-4,1.1-6.9,4.7-6.9,9c0,5.2,4.2,9.4,9.4,9.4c5.2,0,' +\n    '9.4-4.2,9.4-9.4c0-4.4-3-8-7.1-9.1V68.2h8.1c1.3,0,2.4-1.1,2.4' +\n    '-2.4v-7.9h16.8c1.1,4,4.7,7,9,7c5.2,0,9.4-4.2,9.4-9.4S99,46.1,' +\n    '93.8,46.1z M48.7,16.3c0-3.5,2.9-6.4,6.4-6.4c3.5,0,6.4,2.9,6.4,' +\n    '6.4s-2.9,6.4-6.4,6.4C51.5,22.6,48.7,19.8,48.7,16.3zM16.2,61.7c' +\n    '-3.5,0-6.4-2.9-6.4-6.4c0-3.5,2.9-6.4,6.4-6.4s6.4,2.9,6.4,6.4' +\n    'C22.6,58.9,19.7,61.7,16.2,61.7z M61.4,93.7c0,3.5-2.9,6.4-6.4,' +\n    '6.4c-3.5,0-6.4-2.9-6.4-6.4c0-3.5,2.9-6.4,6.4-6.4C58.6,87.4,' +\n    '61.4,90.2,61.4,93.7z M93.8,61.8c-3.5,0-6.4-2.9-6.4-6.4c0-3.5,' +\n    '2.9-6.4,6.4-6.4s6.4,2.9,6.4,6.4C100.1,58.9,97.3,61.8,93.8,61.8z'],\n\n    ['eqMaster', 'M100.1,46.9l-10.8-25h0.2c0.5,0,0.8-0.5,0.8-1.1v-3.2' +\n    'c0-0.6-0.4-1.1-0.8-1.1H59.2v-5.1c0-0.5-0.8-1-1.7-1h-5.1c-0.9,0' +\n    '-1.7,0.4-1.7,1v5.1l-30.2,0c-0.5,0-0.8,0.5-0.8,1.1v3.2c0,0.6,' +\n    '0.4,1.1,0.8,1.1h0.1l-10.8,25C9,47.3,8.4,48,8.4,48.8v1.6l0,0h0' +\n    'v6.4c0,1.3,1.4,2.3,3.2,2.3h21.7c1.8,0,3.2-1,3.2-2.3v-8c0-0.9' +\n    '-0.7-1.6-1.7-2L22.9,21.9h27.9v59.6l-29,15.9c0,1.2,1.8,2.2,4.1,' +\n    '2.2h58.3c2.3,0,4.1-1,4.1-2.2l-29-15.9V21.9h27.8L75.2,46.8c-1,' +\n    '0.4-1.7,1.1-1.7,2v8c0,1.3,1.4,2.3,3.2,2.3h21.7c1.8,0,3.2-1,3.2' +\n    '-2.3v-8C101.6,48,101,47.3,100.1,46.9z M22,23.7l10.8,22.8H12.1' +\n    'L22,23.7z M97.9,46.5H77.2L88,23.7L97.9,46.5z'],\n\n    ['xClose', 'M20,8l35,35,35-35,12,12-35,35,35,35-12,12-35-35-35,35' +\n    '-12-12,35-35-35-35,12-12Z'],\n]);\n\nexport const badgeDataSet = new Map<string, string>([\n    ['_viewbox', '0 0 10 10'],\n\n    ['checkMark', 'M8.6,3.4L4.4,7.7L1.4,4.7L2.5,3.6L4.4,5.5L7.5,2.3L8.6,3.4Z'],\n\n    ['xMark', 'M7.8,6.7L6.7,7.8,5,6.1,3.3,7.8,2.2,6.7,3.9,5,2.2,3.3,3.3,' +\n    '2.2,5,3.9,6.7,2.2,7.8,3.3,6.1,5Z'],\n\n    ['triangleUp', 'M0.5,6.2c0,0,3.8-3.8,4.2-4.2C5,1.7,5.3,2,5.3,2l4.3,' +\n    '4.3c0,0,0.4,0.4-0.1,0.4c-1.7,0-8.2,0-8.8,0C0,6.6,0.5,6.2,0.5,6.2z'],\n\n    ['triangleLeft', 'm 6.13,9.63 c 0,0 -3.8,-3.8 -4.2,-4.2 -0.3,-0.3 0,-0.6 0,' +\n        '-0.6 L 6.23,0.54 c 0,0 0.4,-0.4 0.4,0.1 0,1.7 0,8.2 0,8.8 -0.1,0.7 -0.5,0.2 -0.5,0.2 z'],\n\n    ['triangleRight', 'm 4.07,9.6 c 0,0 3.8,-3.8 4.2,-4.2 0.3,-0.3 0,-0.6 0,-0.6' +\n        'l -4.3,-4.3 c 0,0 -0.4,-0.4 -0.4,0.1 0,1.7 0,8.2 0,8.8 0.1,0.7 0.5,0.2 0.5,0.2 z'],\n\n    ['triangleDown', 'M9.5,4.2c0,0-3.8,3.8-4.2,4.2c-0.3,0.3-0.5,0-0.5,' +\n    '0L0.5,4.2c0,0-0.4-0.4,0.1-0.4c1.7,0,8.2,0,8.8,0C10,3.8,9.5,4.2,' +\n    '9.5,4.2z'],\n\n    ['plus', 'M4,2h2v2h2v2h-2v2h-2v-2h-2v-2h2z'],\n\n    ['minus', 'M2,4h6v2h-6z'],\n\n    ['play', 'M3,1.5l3.5,3.5l-3.5,3.5z'],\n\n    ['stop', 'M2.5,2.5h5v5h-5z'],\n]);\n\nexport const spriteData = new Map<string, string>([\n    ['_cloud', '0 0 110 110'],\n    ['cloud', 'M37.6,79.5c-6.9,8.7-20.4,8.6-22.2-2.7' +\n    'M16.3,41.2c-0.8-13.9,19.4-19.2,23.5-7.8' +\n    'M38.9,30.9c5.1-9.4,15.1-8.5,16.9-1.3' +\n    'M54.4,32.9c4-12.9,14.8-9.6,18.6-3.8' +\n    'M95.8,58.5c10-4.1,11.7-17.8-0.9-19.8' +\n    'M18.1,76.4C5.6,80.3,3.8,66,13.8,61.5' +\n    'M16.2,62.4C2.1,58.4,3.5,36,16.8,36.6' +\n    'M93.6,74.7c10.2-2,10.7-14,5.8-18.3' +\n    'M71.1,79.3c11.2,7.6,24.6,6.4,22.1-11.7' +\n    'M36.4,76.8c3.4,13.3,35.4,11.6,36.1-1.4' +\n    'M70.4,31c11.8-10.4,26.2-5.2,24.7,10.1'],\n]);\n\n\n    // --- Mojo Re-Design ---------------------------------------\nconst m_octagon = 'M33.5,91.9a1.8,1.8,0,0,1-1.3-.5L8.7,68a1.8,1.8,0,0,' +\n    '1-.5-1.3V33.5a1.8,1.8,0,0,1,.5-1.3L32,8.7a1.8,1.8,0,0,1,1.3-.5' +\n    'H66.5a1.8,1.8,0,0,1,1.3.5L91.3,32a1.8,1.8,0,0,1,.5,1.3V66.5' +\n    'a1.8,1.8,0,0,1-.5,1.3L68,91.3a1.8,1.8,0,0,1-1.3.5H33.5Z' +\n    'm-21.7-26L34.3,88.2H65.9L88.2,65.7V34.1L65.7,11.8H34.1' +\n    'L11.8,34.3V65.9Z';\n\nconst m_switch_arrows = 'M60,42.1l-0.9-.3a1.8,1.8,0,0,1-.9-1.6V33.8' +\n    'a1.8,1.8,0,0,1,3.7,0v3.3l13-7.1L61.9,23v3.3' +\n    'A1.8,1.8,0,0,1,60,28.2h-7v3.7h1.7a1.8,1.8,0,0,1,0,3.7H51.2' +\n    'a1.8,1.8,0,0,1-1.8-1.8V26.4a1.8,1.8,0,0,1,1.8-1.8h7V20' +\n    'a1.8,1.8,0,0,1,2.7-1.6l18.7,10a1.8,1.8,0,0,1,0,3.2L60.9,41.8Z' +\n    'M60,69.2l-0.9-.3a1.8,1.8,0,0,1-.9-1.6V60.9a1.8,1.8,0,0,1,3.7,0' +\n    'v3.3l13-7.1-13-6.9v3.3A1.8,1.8,0,0,1,60,55.3h-7V59h1.7' +\n    'a1.8,1.8,0,0,1,0,3.7H51.2a1.8,1.8,0,0,1-1.8-1.8V53.5' +\n    'a1.8,1.8,0,0,1,1.8-1.8h7V47.1a1.8,1.8,0,0,1,2.7-1.6l18.7,10' +\n    'a1.8,1.8,0,0,1,0,3.2L60.9,69ZM40,54.8l-0.9-.2L20.4,44.2' +\n    'a1.8,1.8,0,0,1,0-3.2L39.1,31a1.8,1.8,0,0,1,2.7,1.6v4.5h7' +\n    'A1.8,1.8,0,0,1,50.6,39v7.4a1.8,1.8,0,0,1-1.8,1.8H45.2' +\n    'a1.8,1.8,0,0,1,0-3.7h1.7V40.9H40A1.8,1.8,0,0,1,38.1,39' +\n    'V35.7l-13,6.9,13,7.1V46.4a1.8,1.8,0,0,1,3.7,0v6.5' +\n    'a1.8,1.8,0,0,1-.9,1.6ZM40,81.9l-0.9-.2L20.4,71.4' +\n    'a1.8,1.8,0,0,1,0-3.2l18.7-10a1.8,1.8,0,0,1,2.7,1.6v4.5h7' +\n    'a1.8,1.8,0,0,1,1.8,1.8v7.4a1.8,1.8,0,0,1-1.8,1.8H45.2' +\n    'a1.8,1.8,0,0,1,0-3.7h1.7V68H40a1.8,1.8,0,0,1-1.8-1.8V62.9' +\n    'l-13,6.9,13,7.1V73.6a1.8,1.8,0,0,1,3.7,0V80a1.8,1.8,0,0,1-.9,1.6Z';\n\nconst m_diamond = 'M50,87a16.1,16.1,0,0,1-11.5-4.7L17.7,61.5a16.3,16.3,0,0,' +\n    '1,0-22.9L38.5,17.7a16.3,16.3,0,0,1,22.9,0L82.3,38.5' +\n    'a16.3,16.3,0,0,1,0,22.9L61.5,82.3A16.1,16.1,0,0,1,50,87Z' +\n    'm0-70.3a12.4,12.4,0,0,0-8.9,3.7L20.3,41.1a12.6,12.6,0,0,0,0,' +\n    '17.7L41.1,79.7a12.6,12.6,0,0,0,17.7,0L79.7,58.9a12.6,12.6,0,0,' +\n    '0,0-17.7L58.9,20.3A12.4,12.4,0,0,0,50,16.7Z';\n\nconst m_trafficArrows = 'M41,66.7l-0.9-.2-16.8-9a1.8,1.8,0,0,1,0-3.2' +\n    'L40.1,45a1.8,1.8,0,0,1,2.7,1.6v5.8a1.8,1.8,0,0,1-3.7,0V49.7' +\n    'L28,55.8l11.1,5.9V59.1A1.8,1.8,0,0,1,41,57.2H47v-3H45.7' +\n    'a1.8,1.8,0,0,1,0-3.7h3.2a1.8,1.8,0,0,1,1.8,1.8v6.7' +\n    'a1.8,1.8,0,0,1-1.8,1.8H42.8v3.9a1.8,1.8,0,0,1-.9,1.6ZM59,55.3' +\n    'l-1-.3a1.8,1.8,0,0,1-.9-1.6V49.5H51.1a1.8,1.8,0,0,1-1.8-1.8' +\n    'V41a1.8,1.8,0,0,1,1.8-1.8h3.2a1.8,1.8,0,0,1,0,3.7H53v3H59' +\n    'a1.8,1.8,0,0,1,1.8,1.8v2.7L72,44.4,60.9,38.3V41' +\n    'a1.8,1.8,0,0,1-3.7,0V35.2a1.8,1.8,0,0,1,2.7-1.6l16.8,9.3' +\n    'a1.8,1.8,0,0,1,0,3.2L59.9,55Z';\n\nconst m_otn_base = 'M63.1,79.8a7.5,7.5,0,0,1-5.3-12.8,7.7,7.7,0,0,1,10.7,0' +\n    'A7.5,7.5,0,0,1,63.1,79.8Zm0-11.3A3.8,3.8,0,0,0,60.4,75h0' +\n    'a3.9,3.9,0,0,0,5.4,0A3.8,3.8,0,0,0,63.1,68.4Z' +\n    'M63.1,35.2A7.5,7.5,0,1,1,68.5,33h0A7.5,7.5,0,0,1,63.1,35.2Z' +\n    'm4-3.5h0Zm-4-7.8A3.8,3.8,0,1,0,65.8,25,3.8,3.8,0,0,0,63.1,23.9Z' +\n    'M73.3,57.3a7.5,7.5,0,1,1,7.5-7.5A7.5,7.5,0,0,1,73.3,57.3Z' +\n    'm0-11.3a3.8,3.8,0,1,0,3.8,3.8A3.8,3.8,0,0,0,73.3,46Z' +\n    'M61.9,48.7H51.5V41.9l5-5a1.9,1.9,0,0,0-2.6-2.6l-4.2,4.2L38,48.7' +\n    'H34.1A7.3,7.3,0,0,0,32,45a7.6,7.6,0,0,0-10.7,0,7.5,7.5,0,0,0,0,' +\n    '10.6,7.6,7.6,0,0,0,10.7,0,7.4,7.4,0,0,0,1.9-3.2h5.2' +\n    'l11.4,9.9,3.4,3.4a1.8,1.8,0,0,0,2.6,0,1.8,1.8,0,0,0,0-2.6l-5-5' +\n    'V52.4H61.9A1.9,1.9,0,0,0,61.9,48.7ZM29.4,53a3.8,3.8,0,0,1-6.5-2.7' +\n    'A3.9,3.9,0,0,1,24,47.6a3.9,3.9,0,0,1,5.4,0A3.8,3.8,0,0,1,29.4,53Z';\n\nexport const mojoDataSet = new Map<string, string>([\n    ['_viewbox', '0 0 100 100'],\n\n    ['m_cloud', 'M62,48.8H61.5a1.8,1.8,0,0,1-1.3-2.3,11,11,0,0,' +\n    '0-21.1-6.1,1.8,1.8,0,1,1-3.5-1,14.7,14.7,0,0,1,28.2,8.1' +\n    'A1.8,1.8,0,0,1,62,48.8ZM70.6,71.2H28.3' +\n    'A14.7,14.7,0,1,1,38.4,45.2,1.8,1.8,0,1,1,36,48' +\n    'a11,11,0,1,0-7.5,19.4H71.8A11,11,0,0,0,71,45.5' +\n    'a10.9,10.9,0,0,0-3.2.5,1.8,1.8,0,1,1-1.1-3.5,14.7,14.7,0,0,1,19,14' +\n    'A14.8,14.8,0,0,1,72.2,71.1H70.6Z'],\n\n    ['m_map', 'M50,17.6A32.4,32.4,0,1,0,82.4,50,32.4,32.4,0,0,0,50,17.6Z' +\n    'm0,61.1A28.7,28.7,0,1,1,78.7,50,28.7,28.7,0,0,1,50,78.7Z' +\n    'M75.9,48.8a1.8,1.8,0,0,1-1.8,1.8H65' +\n    'a38.3,38.3,0,0,1-8.4,22.9,1.8,1.8,0,0,1-1.4.7,1.8,1.8,0,0,' +\n    '1-1.2-.4,1.8,1.8,0,0,1-.3-2.6,34.6,34.6,0,0,0,7.5-20.5H39.2' +\n    'a34.5,34.5,0,0,0,7.6,20.7,1.8,1.8,0,0,1-1.4,3,1.8,1.8,0,0,' +\n    '1-1.4-.7,38.2,38.2,0,0,1-8.5-23H26.2a1.8,1.8,0,1,1,0-3.7' +\n    'h9.4a38.1,38.1,0,0,1,8.4-21.6,1.8,1.8,0,0,1,2.9,2.3,34.4,34.4,0,0,' +\n    '0-7.6,19.3h22a34.3,34.3,0,0,0-8-19.7,1.8,1.8,0,1,1,2.8-2.4,38,38,' +\n    '0,0,1,8.8,22.1h9.1A1.8,1.8,0,0,1,75.9,48.8Z'],\n\n    ['m_selectMap', 'M51.36,8.74A32.45,32.45,0,0,0,19,41.15' +\n    'a32.12,32.12,0,0,0,9.22,22.62L17,72.07a1.84,1.84,0,0,0,1,3.32' +\n    'L35.52,76h0l10,14.42a1.84,1.84,0,0,0,1.52.79,2.05,2.05,0,0,' +\n    '0,.49-0.06,1.84,1.84,0,0,0,1.35-1.66l2.68-39.19' +\n    'a1.73,1.73,0,0,0-.06-0.6,0.85,0.85,0,0,0-.09-0.24,1.7,1.7,0,0,' +\n    '0-.81-0.9l-0.18-.1a1.69,1.69,0,0,0-.94-0.16H49.33l-0.16,0' +\n    'a1,1,0,0,0-.31.12,1.52,1.52,0,0,0-.33.18L42.73,53' +\n    'a34.6,34.6,0,0,1-2.22-11.21H62.68a34.55,34.55,0,0,1-7.55,20.54' +\n    'A1.85,1.85,0,1,0,58,64.63a38.26,38.26,0,0,0,8.37-22.86h9.08' +\n    'a1.85,1.85,0,0,0,0-3.7H66.3a38.06,38.06,0,0,0-8.83-22.14,' +\n    '1.85,1.85,0,1,0-2.82,2.38,34.37,34.37,0,0,1,8,19.76h-22' +\n    'a34.38,34.38,0,0,1,7.58-19.3,1.85,1.85,0,1,0-2.87-2.33,' +\n    '38.11,38.11,0,0,0-8.41,21.63H27.53a1.85,1.85,0,0,0,0,3.7' +\n    'h9.28a38.43,38.43,0,0,0,2.85,13.48l-8.5,6.31a28.71,28.71,0,1,' +\n    '1,23.21,8.16,1.85,1.85,0,0,0,.19,3.68h0.19A32.41,32.41,0,0,' +\n    '0,51.36,8.74Zm-4,49.75L45.57,84l-6.85-9.87,2.64-4.92,0.56-1,2.8-5' +\n    'C45.61,61.58,46.49,60,47.31,58.49ZM44,56.63' +\n    'c-0.81,1.5-1.69,3.11-2.56,4.73l-3.3,6.11-0.19.35' +\n    'C37,69.4,36.19,70.93,35.4,72.34l-12-.44Z'],\n\n    ['thatsNoMoon', 'M50,83.4A33.2,33.2,0,1,1,83.2,50.2,33.2,33.2,0,0,' +\n    '1,50,83.4ZM79.3,50.1A29.3,29.3,0,1,0,50.1,79.4,29.3,29.3,0,0,0,' +\n    '79.3,50.1ZM65.4,46.9h9.1A1.9,1.9,0,0,1,76.4,48a1.9,1.9,0,0,' +\n    '1-.3,2.1,2.1,2.1,0,0,1-1.8.7H65.4c-0.1.6-.1,1.2-0.2,1.8' +\n    'A38.5,38.5,0,0,1,57,73.9a2.1,2.1,0,0,1-2.2.9,2,2,0,0,' +\n    '1-1.4-1.6,2.3,2.3,0,0,1,.6-1.7,33.6,33.6,0,0,0,4.9-8.5,34.6,34.6,' +\n    '0,0,0,2.5-11c0-.3,0-0.7,0-1.1H38.9c0.2,1.3.3,2.6,0.5,3.9' +\n    'a34.2,34.2,0,0,0,7.3,17,2,2,0,1,1-3,2.4A37.1,37.1,0,0,1,39.1,67' +\n    'a40.8,40.8,0,0,1-4-15.5V50.8H25.8a2,2,0,0,1-2.2-1.9,1.9,1.9,0,0,' +\n    '1,2.1-2H35l0.3-1.8-0.8-.2a7.5,7.5,0,0,1-5.5-8.5,12.4,12.4,0,0,' +\n    '1,10-10.3,15.5,15.5,0,0,1,3.4,0,0.6,0.6,0,0,0,.7-0.3l0.8-1.1' +\n    'a1.9,1.9,0,0,1,2.5-.4,1.8,1.8,0,0,1,.7,2.4,13.6,13.6,0,0,' +\n    '1-.8,1.4,7.7,7.7,0,0,1,2.1,6.3A11,11,0,0,1,46,40.2a12.6,12.6,0,0,' +\n    '1-6.3,4.5,0.5,0.5,0,0,0-.5.6c0,0.5-.1,1-0.1,1.6H61.5l-0.7-4' +\n    'A33.6,33.6,0,0,0,53.5,27c-0.8-1-.9-1.7-0.4-2.5a1.7,1.7,0,0,' +\n    '1,2.4-.7,3.6,3.6,0,0,1,1.1.9,37,37,0,0,1,8,17.1' +\n    'c0.3,1.5.4,3,.7,4.4v0.7Zm-28.8-4A10.1,10.1,0,0,0,46,34.1' +\n    'a5.3,5.3,0,0,0-6-5.8A10.2,10.2,0,0,0,31.3,36' +\n    'C30.4,39.9,32.8,42.9,36.6,42.9ZM34.9,35.1a4,4,0,0,' +\n    '1,2.7-3.2,2.7,2.7,0,0,1,3.8,2.6,4.4,4.4,0,0,1-2.5,4' +\n    'C36.8,39.5,34.7,38,34.9,35.1Zm2,0.7c0,0.7.3,1,.9,0.9' +\n    'a2.3,2.3,0,0,0,1.5-2.3,0.7,0.7,0,0,0-1.1-.6' +\n    'A2.2,2.2,0,0,0,36.9,35.8Z'],\n\n    ['m_ports', 'M83.2,20L80,16.8a4.8,4.8,0,0,0-6.8,0l-1.4,1.4' +\n    'a4.8,4.8,0,0,0-1.4,3.4l-4.5,5.9a3.8,3.8,0,0,0,.4,5l1.2,1.2' +\n    'a3.8,3.8,0,0,0,5,.4l5.4-3.9,0.5-.6h0a4.8,4.8,0,0,0,3.4-1.4' +\n    'l1.4-1.4A4.8,4.8,0,0,0,83.2,20ZM70.3,31.1H70.1l-1.2-1.2' +\n    'a0.2,0.2,0,0,1,0-.2l3.3-4.4,2.6,2.6Zm10.3-6.9-1.4,1.4' +\n    'a1.1,1.1,0,0,1-1.6,0l-3.2-3.2a1.1,1.1,0,0,1,0-1.6l1.4-1.4' +\n    'a1.1,1.1,0,0,1,1.6,0l3.2,3.2A1.1,1.1,0,0,1,80.6,24.2Z' +\n    'M33.7,67.5l-1.2-1.2a3.8,3.8,0,0,0-5-.4l-5.9,4.5' +\n    'a4.8,4.8,0,0,0-3.4,1.4l-1.4,1.4a4.8,4.8,0,0,0,0,6.8L20,83.2' +\n    'a4.8,4.8,0,0,0,6.8,0l1.4-1.4a4.8,4.8,0,0,0,1.4-3.5l4.5-5.9' +\n    'A3.8,3.8,0,0,0,33.7,67.5ZM25.6,79.3l-1.4,1.4' +\n    'a1.2,1.2,0,0,1-1.6,0l-3.2-3.2a1.1,1.1,0,0,1,0-1.6l1.4-1.4' +\n    'a1.1,1.1,0,0,1,.8-0.3,1.1,1.1,0,0,1,.8.3l3.2,3.2' +\n    'A1.1,1.1,0,0,1,25.6,79.3Zm5.6-9-3.3,4.4-2.5-2.5,4.3-3.3h0.2' +\n    'l1.2,1.2A0.2,0.2,0,0,1,31.1,70.3ZM65.4,61.9a6.2,6.2,0,0,1-8.8,0' +\n    'L37.2,42.5A2.5,2.5,0,1,0,33.7,46l7,7a6.2,6.2,0,0,1,.4,8.3h0' +\n    'l-0.2.2-0.2.2-3.6,3.6a1.8,1.8,0,0,1-2.6-2.6l3.6-3.6h0.1' +\n    'a2.5,2.5,0,0,0-.1-3.4l-7-7a6.2,6.2,0,0,1,8.8-8.8L59.3,59.3' +\n    'a2.5,2.5,0,0,0,3.5-3.5l-6.2-6.2a6.2,6.2,0,0,1,0-8.8l6.1-6.1' +\n    'a1.8,1.8,0,0,1,2.6,2.6l-6.1,6.1a2.5,2.5,0,0,0,0,3.5l6.2,6.2' +\n    'A6.2,6.2,0,0,1,65.4,61.9Z'],\n\n    ['m_switch', m_switch_arrows],\n\n    ['m_roadm', m_switch_arrows + m_octagon],\n\n    ['m_router', 'M29.3,60.9l-0.9-.3a1.8,1.8,0,0,1-.9-1.6V55.2H21.4' +\n    'a1.8,1.8,0,0,1-1.8-1.8V46.7a1.8,1.8,0,0,1,1.8-1.8h3.2' +\n    'a1.8,1.8,0,0,1,0,3.7H23.2v3h6.1a1.8,1.8,0,0,1,1.8,1.8V56' +\n    'l11.1-5.9L31.1,44v2.7a1.8,1.8,0,0,1-3.7,0V40.8' +\n    'a1.8,1.8,0,0,1,2.7-1.6L47,48.5a1.8,1.8,0,0,1,0,3.2l-16.8,9Z' +\n    'M70.6,60.9l-0.9-.2L52.9,51.4a1.8,1.8,0,0,1,0-3.2l16.8-9' +\n    'a1.8,1.8,0,0,1,2.7,1.6v3.9h6.1a1.8,1.8,0,0,1,1.8,1.8v6.7' +\n    'a1.8,1.8,0,0,1-1.8,1.8H75.4a1.8,1.8,0,0,1,0-3.7h1.3v-3H70.6' +\n    'a1.8,1.8,0,0,1-1.8-1.8V43.9L57.7,49.8l11.1,6.1V53.2' +\n    'a1.8,1.8,0,0,1,3.7,0v5.8a1.8,1.8,0,0,1-.9,1.6Z' +\n    'M49.8,82.5h0a1.8,1.8,0,0,1-1.6-1l-9-16.8A1.8,1.8,0,0,1,40.8,62' +\n    'h3.9V55.9a1.8,1.8,0,0,1,1.8-1.8h6.7a1.8,1.8,0,0,1,1.8,1.8v3.2' +\n    'a1.8,1.8,0,0,1-3.7,0V57.8h-3v6.1a1.8,1.8,0,0,1-1.8,1.8H43.9' +\n    'l5.9,11.1,6.1-11.1H53.2a1.8,1.8,0,0,1,0-3.7h5.8' +\n    'a1.8,1.8,0,0,1,1.6,2.7L51.4,81.5A1.8,1.8,0,0,1,49.8,82.5Z' +\n    'M53.3,45.8H46.7A1.8,1.8,0,0,1,44.8,44V40.8a1.8,1.8,0,0,1,3.7,0' +\n    'v1.3h3V36a1.8,1.8,0,0,1,1.8-1.8H56L50.1,23.1,44,34.2h2.7' +\n    'a1.8,1.8,0,0,1,0,3.7H40.8a1.8,1.8,0,0,1-1.6-2.7l9.2-16.8' +\n    'a1.8,1.8,0,0,1,1.6-1h0a1.8,1.8,0,0,1,1.6,1l9,16.8' +\n    'a1.8,1.8,0,0,1-1.6,2.7H55.2V44A1.8,1.8,0,0,1,53.3,45.8Z' +\n    'M50,91.2A41.3,41.3,0,1,1,91.2,50,41.3,41.3,0,0,1,50,91.2Z' +\n    'm0-78.9A37.6,37.6,0,1,0,87.6,50,37.6,37.6,0,0,0,50,12.4Z'],\n\n    ['m_uiAttached', 'M73.6,61.3H26.4a4.9,4.9,0,0,1-4.9-4.9V27.7' +\n    'a4.9,4.9,0,0,1,4.9-4.9H73.6a4.9,4.9,0,0,1,4.9,4.9V56.5' +\n    'A4.9,4.9,0,0,1,73.6,61.3ZM26.4,26.5a1.2,1.2,0,0,0-1.2,1.2' +\n    'V56.5a1.2,1.2,0,0,0,1.2,1.2H73.6a1.2,1.2,0,0,0,1.2-1.2V27.7' +\n    'a1.2,1.2,0,0,0-1.2-1.2H26.4ZM63.5,75.3a1.8,1.8,0,0,1-1.8,1.8' +\n    'H38.4a1.8,1.8,0,0,1,0-3.7h9.8V65.7a1.8,1.8,0,0,1,3.7,0v7.8' +\n    'h9.8A1.8,1.8,0,0,1,63.5,75.3Z'],\n\n    ['m_office', 'M31.7,28.6h-6a1.8,1.8,0,1,1,0-3.7h6A1.8,1.8,0,0,' +\n    '1,31.7,28.6ZM45,28.6h-6a1.8,1.8,0,0,1,0-3.7h6A1.8,1.8,0,1,' +\n    '1,45,28.6ZM31.7,38.3h-6a1.8,1.8,0,1,1,0-3.7h6A1.8,1.8,0,0,' +\n    '1,31.7,38.3ZM45,38.3h-6a1.8,1.8,0,0,1,0-3.7h6A1.8,1.8,0,1,' +\n    '1,45,38.3ZM31.7,48.1h-6a1.8,1.8,0,1,1,0-3.7h6A1.8,1.8,0,0,' +\n    '1,31.7,48.1ZM45,48.1h-6a1.8,1.8,0,0,1,0-3.7h6A1.8,1.8,0,1,' +\n    '1,45,48.1ZM63.7,51.1h-6a1.8,1.8,0,1,1,0-3.7h6A1.8,1.8,0,0,' +\n    '1,63.7,51.1ZM77,51.1H71a1.8,1.8,0,0,1,0-3.7h6A1.8,1.8,0,0,' +\n    '1,77,51.1ZM63.7,60.9h-6a1.8,1.8,0,1,1,0-3.7h6A1.8,1.8,0,0,' +\n    '1,63.7,60.9ZM77,60.9H71a1.8,1.8,0,0,1,0-3.7h6A1.8,1.8,0,0,' +\n    '1,77,60.9ZM45,57.9h-6a1.8,1.8,0,0,1,0-3.7h6A1.8,1.8,0,1,1,' +\n    '45,57.9ZM45,67.6h-6a1.8,1.8,0,0,1,0-3.7h6A1.8,1.8,0,1,1,45,67.6Z' +\n    'M82.3,37.9H52.6V18a1.8,1.8,0,0,0-1.8-1.8H19.2A1.8,1.8,0,0,' +\n    '0,17.3,18V50.1a1.8,1.8,0,0,0,3.7,0V19.8H48.9V80.2H27.2V75.4' +\n    'c4-1.2,6.5-3.3,7.3-6.3,2-7.2-6.8-16.2-7.8-17.2a1.9,1.9,0,0,' +\n    '0-2.6,0c-1,1-9.9,10-7.9,17.2,0.8,3,3.3,5.1,7.3,6.3v4.7H21V77.9' +\n    'a1.8,1.8,0,0,0-3.7,0V82a1.8,1.8,0,0,0,1.9,1.8H82.3A1.8,1.8,0,0,' +\n    '0,84.1,82V39.7A1.8,1.8,0,0,0,82.3,37.9ZM25.4,62.5a1.9,1.9,0,0,' +\n    '0-1.9,1.8v7.2c-2.1-.8-3.4-1.9-3.8-3.4-1-3.7,3-9.2,5.6-12.2,2.6,' +\n    '3,6.6,8.5,5.6,12.2-0.4,1.5-1.7,2.6-3.8,3.4V64.4A1.8,1.8,0,0,' +\n    '0,25.4,62.5ZM71.5,80.2H63.3V70h8.2V80.2Zm8.9,0H75.2V68.1' +\n    'a1.8,1.8,0,0,0-1.8-1.8H61.5a1.8,1.8,0,0,0-1.8,1.8V80.2H52.6' +\n    'V41.6H80.4V80.2Z'],\n\n    ['m_home', 'M79.2,52.2a1.7,1.7,0,0,1-2.3,0l-5.8-5.8V77a1.7,1.7,0,0,' +\n    '1-1.7,1.7H30.6A1.7,1.7,0,0,1,28.9,77V52.1a1.7,1.7,0,1,1,3.3,0' +\n    'V75.3H67.8V43.8a1.7,1.7,0,0,1,.1-0.7L50.1,25.4l-26.9,27' +\n    'a1.7,1.7,0,0,1-1.2.5A1.7,1.7,0,0,1,20.8,50L48.9,21.8' +\n    'a1.7,1.7,0,0,1,2.4,0l28,28A1.7,1.7,0,0,1,79.2,52.2ZM57.1,61.6' +\n    'H42.9a1.7,1.7,0,0,1-1.7-1.7V45.6A1.7,1.7,0,0,1,42.9,44H57.1' +\n    'a1.7,1.7,0,0,1,1.7,1.7V59.9A1.7,1.7,0,0,1,57.1,61.6ZM44.5,58.2' +\n    'H55.5V47.3H44.5V58.2Z'],\n\n    ['m_summary', 'M73.9,79.9H26.1A4.9,4.9,0,0,1,21.2,75V25' +\n    'a4.9,4.9,0,0,1,4.9-4.9H73.9A4.9,4.9,0,0,1,78.8,25V75' +\n    'A4.9,4.9,0,0,1,73.9,79.9Zm-47.8-56A1.2,1.2,0,0,0,24.9,25V75' +\n    'a1.2,1.2,0,0,0,1.2,1.2H73.9A1.2,1.2,0,0,0,75.1,75V25' +\n    'a1.2,1.2,0,0,0-1.2-1.2H26.1ZM42.4,46.7h-8a4.9,4.9,0,0,1-4.9-4.9' +\n    'v-8A4.9,4.9,0,0,1,34.4,29h8a4.9,4.9,0,0,1,4.9,4.9v8' +\n    'A4.9,4.9,0,0,1,42.4,46.7Zm-8-14.1a1.2,1.2,0,0,0-1.2,1.2v8' +\n    'A1.2,1.2,0,0,0,34.4,43h8a1.2,1.2,0,0,0,1.2-1.2v-8' +\n    'a1.2,1.2,0,0,0-1.2-1.2h-8ZM68.7,57.3H31.3a1.8,1.8,0,0,1,0-3.7' +\n    'H68.7A1.8,1.8,0,0,1,68.7,57.3ZM68.7,66.5H31.3a1.8,1.8,0,0,1,0-3.7' +\n    'H68.7A1.8,1.8,0,0,1,68.7,66.5Z'],\n\n    ['m_details', 'M68.7,33.2H31.3a1.8,1.8,0,0,1,0-3.7H68.7' +\n    'A1.8,1.8,0,1,1,68.7,33.2ZM73.9,17.5H26.1a4.9,4.9,0,0,0-4.9,4.9' +\n    'V72.4a4.9,4.9,0,0,0,4.9,4.9h8.2l-4.1,6.6a1.9,1.9,0,0,0,.6,2.5' +\n    'l1,0.3a1.8,1.8,0,0,0,1.6-.9L46.1,64.9a15.1,15.1,0,0,' +\n    '0,4,.5,15.6,15.6,0,0,0,3.7-.4A15.9,15.9,0,0,0,57,63.9H68.7' +\n    'a1.8,1.8,0,0,0,0-3.7H61.9a16.6,16.6,0,0,0,1.6-2.2,15.5,15.5,0,0,' +\n    '0,2.2-9.4h2.9a1.8,1.8,0,0,0,0-3.7H65a15.7,15.7,0,0,0-29.8,0' +\n    'H31.3a1.8,1.8,0,1,0,0,3.7h3.2a15.7,15.7,0,0,0,.4,4.9,15.5,15.5,' +\n    '0,0,0,3.5,6.7H31.3a1.8,1.8,0,1,0,0,3.7H42.4l-6,9.8H26.1' +\n    'a1.2,1.2,0,0,1-1.2-1.2V22.4a1.2,1.2,0,0,1,1.2-1.2H73.9' +\n    'a1.2,1.2,0,0,1,1.2,1.2V72.4a1.2,1.2,0,0,1-1.2,1.2H44.5' +\n    'a1.8,1.8,0,0,0,0,3.7H73.9a4.9,4.9,0,0,0,4.9-4.9V22.4' +\n    'A4.9,4.9,0,0,0,73.9,17.5ZM38.5,52.6A12,12,0,0,1,50.2,37.8,12,12,' +\n    '0,0,1,61.8,47a10.7,10.7,0,0,1,.3,1.6,12,12,0,0,1-5.9,11.6,12,12,' +\n    '0,0,1-12,0L43.9,60A12,12,0,0,1,38.5,52.6Z'],\n\n    ['m_oblique', 'M82.1,30.5a1.8,1.8,0,0,0-1.7-1.1H30.2' +\n    'a1.8,1.8,0,0,0-1.4.7L18.2,42.8a1.8,1.8,0,0,0,1.4,3H40.9V62.2' +\n    'a1.8,1.8,0,1,0,3.7,0V45.8H55.4V62.2a1.9,1.9,0,1,0,3.7,0V45.8' +\n    'H69.8a1.9,1.9,0,0,0,1.4-.7L81.8,32.5A1.8,1.8,0,0,0,82.1,30.5Z' +\n    'M69,42.2H23.5l7.5-9H76.5ZM69.8,70.5H19.6a1.8,1.8,0,0,1-1.4-3' +\n    'L28.7,54.8a1.8,1.8,0,0,1,1.4-.7h7a1.8,1.8,0,0,1,0,3.7H31l-7.5,9' +\n    'H69l7.5-9H62.4a1.8,1.8,0,0,1,0-3.7H80.4a1.8,1.8,0,0,1,1.4,3' +\n    'L71.3,69.9A1.8,1.8,0,0,1,69.8,70.5ZM52.3,57.8H47.6' +\n    'a1.8,1.8,0,0,1,0-3.7h4.8A1.8,1.8,0,0,1,52.3,57.8Z'],\n\n    ['m_filters', 'M69.9,45.8H19.5a1.9,1.9,0,0,1-1.4-3L28.7,30' +\n    'a1.8,1.8,0,0,1,1.4-.7H80.5a1.8,1.8,0,0,1,1.4,3L71.3,45.1' +\n    'A1.8,1.8,0,0,1,69.9,45.8ZM23.5,42.1H69l7.5-9H31ZM69.9,58.2' +\n    'H19.5a1.8,1.8,0,0,1-1.4-3l6.1-7.3a1.8,1.8,0,0,1,2.8,2.4l-3.6,4.3' +\n    'H69l7.6-9.1a1.8,1.8,0,0,1,.5-3.6h3.4a1.8,1.8,0,0,1,1.4,3' +\n    'L71.3,57.5A1.8,1.8,0,0,1,69.9,58.2ZM69.9,70.7H19.5' +\n    'a1.9,1.9,0,0,1-1.4-3l5.6-6.7a1.8,1.8,0,0,1,2.8,2.4L23.5,67H69' +\n    'l7.5-9H76.3a1.8,1.8,0,0,1,0-3.7h4.1a1.9,1.9,0,0,1,1.4,3L71.3,70' +\n    'A1.8,1.8,0,0,1,69.9,70.7Z'],\n\n    ['m_cycleLabels', 'M78.5,74.7a34.2,34.2,0,0,1-47.7,6.8l-0.3-.3' +\n    'L30.4,81V80.8a1.8,1.8,0,0,1,.8-2.5l0.7-.3-5.2-3.4v6.2l0.7-.3' +\n    'a1.8,1.8,0,1,1,1.7,3.3l-3.4,1.8-0.9.2-1-.3a1.9,1.9,0,0,1-.9-1.6' +\n    'V71.1a1.8,1.8,0,0,1,2.8-1.5l10.7,7a1.9,1.9,0,0,1,.8,1.6,1.9,1.9,' +\n    '0,0,1-1,1.5l-0.7.4a30.5,30.5,0,0,0,40.1-7.7A1.8,1.8,0,0,' +\n    '1,78.5,74.7ZM30.8,25.7L29.5,38.4a1.8,1.8,0,0,1-1.1,1.5l-0.8.2' +\n    'a1.9,1.9,0,0,1-1.1-.3l-1.7-1.2a30.1,30.1,0,0,0-2.7,6,1.9,1.9,0,0,' +\n    '1-1.8,1.3H19.9a1.8,1.8,0,0,1-1.2-2.3A33.9,33.9,0,0,1,22.8,35' +\n    'a1.8,1.8,0,0,1,1.6-.8,1.9,1.9,0,0,1,1.2.3L26.2,35l0.7-6.2-5.5,2.8' +\n    'L21.9,32a1.8,1.8,0,1,1-2.1,3l-3.1-2.2a1.8,1.8,0,0,1,.2-3.2' +\n    'l11.3-5.8A1.8,1.8,0,0,1,30.8,25.7ZM85.2,30.8L84.7,43.4' +\n    'a1.8,1.8,0,0,1-1,1.6l-0.8.2a1.8,1.8,0,0,1-1.1-.4L71.4,37.4' +\n    'a1.8,1.8,0,0,1,.3-3.2l1.9-.9a30.5,30.5,0,0,0-3.9-5.3,1.8,1.8,0,0,' +\n    '1,2.7-2.5,34.3,34.3,0,0,1,5.3,7.7,2,2,0,0,1-.9,2.6' +\n    'l-0.7.3,5.1,3.6,0.3-6.2-0.7.3a1.8,1.8,0,0,1-1.6-3.3L82.6,29' +\n    'a1.8,1.8,0,0,1,1.8.1A1.9,1.9,0,0,1,85.2,30.8ZM62.4,32.2H40.2' +\n    'a4.9,4.9,0,0,1-4.9-4.9V16.6a4.9,4.9,0,0,1,4.9-4.9H62.4' +\n    'a4.9,4.9,0,0,1,4.9,4.9V27.3A4.9,4.9,0,0,1,62.4,32.2ZM40.2,15.4' +\n    'A1.2,1.2,0,0,0,39,16.6V27.3a1.2,1.2,0,0,0,1.2,1.2H62.4' +\n    'a1.2,1.2,0,0,0,1.2-1.2V16.6a1.2,1.2,0,0,0-1.2-1.2H40.2Z' +\n    'M88.4,68.1H66.2a4.9,4.9,0,0,1-4.9-4.9V52.6a4.9,4.9,0,0,1,4.9-4.9' +\n    'H88.4a4.9,4.9,0,0,1,4.9,4.9V63.2A4.9,4.9,0,0,1,88.4,68.1Z' +\n    'M66.2,51.4A1.2,1.2,0,0,0,65,52.6V63.2a1.2,1.2,0,0,0,1.2,1.2H88.4' +\n    'a1.2,1.2,0,0,0,1.2-1.2V52.6a1.2,1.2,0,0,0-1.2-1.2H66.2Z' +\n    'M33.8,68.1H11.6a4.9,4.9,0,0,1-4.9-4.9V52.6a4.9,4.9,0,0,1,4.9-4.9' +\n    'H33.8a4.9,4.9,0,0,1,4.9,4.9V63.2A4.9,4.9,0,0,1,33.8,68.1Z' +\n    'M11.6,51.4a1.2,1.2,0,0,0-1.2,1.2V63.2a1.2,1.2,0,0,0,1.2,1.2' +\n    'H33.8A1.2,1.2,0,0,0,35,63.2V52.6a1.2,1.2,0,0,0-1.2-1.2H11.6Z'],\n\n    ['m_cycleGridDisplay', 'M 78.5,74.7 A 34.2,34.2 0 0 1 30.8,81.5 ' +\n    'L 30.5,81.2 30.4,81 v -0.2 a 1.8,1.8 0 0 1 0.8,-2.5 L 31.9,78 26.7,74.6 ' +\n    'v 6.2 l 0.7,-0.3 a 1.8560711,1.8560711 0 1 1 1.7,3.3 ' +\n    'l -3.4,1.8 -0.9,0.2 -1,-0.3 A 1.9,1.9 0 0 1 22.9,83.9 V 71.1 ' +\n    'a 1.8,1.8 0 0 1 2.8,-1.5 l 10.7,7 a 1.9,1.9 0 0 1 0.8,1.6 1.9,1.9 0 0 1 -1,1.5 ' +\n    'l -0.7,0.4 a 30.5,30.5 0 0 0 40.1,-7.7 1.8506756,1.8506756 0 0 1 2.9,2.3 z ' +\n    'M 18.500163,7.4998005 V 20.50004 H 2.5001058 v 2.999817 H 18.500163 V 50.499758 ' +\n    'H 2.5001058 v 3.000335 H 18.500163 v 13.999663 h 2.999816 V 53.500093 h 26.999902 ' +\n    'v 13.999663 h 3.000333 V 53.500093 h 26.999903 v 13.999663 h 2.999817 V 53.500093 ' +\n    'H 97.499992 V 50.499758 H 81.499934 V 23.499857 H 97.499992 V 20.50004 H 81.499934 ' +\n    'V 7.4998005 H 78.500117 V 20.50004 H 51.500214 V 7.4998005 H 48.499881 V 20.50004 ' +\n    'H 21.499979 V 7.4998005 Z M 21.499979,23.499857 H 48.499881 V 50.499758 H 21.499979 ' +\n    'Z m 30.000235,0 H 78.500117 V 50.499758 H 51.500214 Z'],\n\n    ['m_prev', 'M59.8,72l-0.9-.2L21.8,51.3a1.8,1.8,0,0,1,0-3.2L58.9,28.2' +\n    'a1.8,1.8,0,0,1,2.7,1.6V40.7H77.3a1.8,1.8,0,0,1,1.8,1.8V57.3' +\n    'a1.8,1.8,0,0,1-1.8,1.8h-7a1.8,1.8,0,1,1,0-3.7h5.2v-11H59.8' +\n    'A1.8,1.8,0,0,1,58,42.6V33L26.6,49.7,58,67V57.3' +\n    'a1.8,1.8,0,0,1,3.7,0V70.1a1.8,1.8,0,0,1-.9,1.6Z'],\n\n    ['m_next', 'M40.2,72l-0.9-.3a1.8,1.8,0,0,1-.9-1.6V57.3' +\n    'a1.8,1.8,0,0,1,3.7,0V67L73.5,49.7,42,32.9v9.6' +\n    'a1.8,1.8,0,0,1-1.8,1.8H24.5v11h5.2a1.8,1.8,0,1,1,0,3.7h-7' +\n    'a1.8,1.8,0,0,1-1.8-1.8V42.6a1.8,1.8,0,0,1,1.8-1.8H38.3V29.9' +\n    'a1.8,1.8,0,0,1,2.7-1.6L78.2,48.1a1.8,1.8,0,0,1,0,3.2L41.1,71.8Z'],\n\n    ['m_flows', 'M50.1,26.2a7.4,7.4,0,1,1,7.4-7.4A7.4,7.4,0,0,1,50.1,26.2Z' +\n    'm0-11.2a3.8,3.8,0,1,0,3.8,3.8A3.8,3.8,0,0,0,50.1,15Z' +\n    'M50.1,88.6a7.4,7.4,0,1,1,7.4-7.4A7.4,7.4,0,0,1,50.1,88.6Z' +\n    'm0-11.2a3.8,3.8,0,1,0,3.8,3.8A3.8,3.8,0,0,0,50.1,77.4Z' +\n    'M72,50.1a1.8,1.8,0,0,1-1.8,1.8H58.1V55a3,3,0,0,1-3,3H51.9V70.2' +\n    'a1.8,1.8,0,0,1-3.6,0V58.1h-3a3,3,0,0,1-3-3V51.9H29.8' +\n    'a1.8,1.8,0,1,1,0-3.6H42.3v-3a3,3,0,0,1,3-3h3a1.7,1.7,0,0,1,0-.3' +\n    'V29.8a1.8,1.8,0,0,1,3.6,0V41.9a1.7,1.7,0,0,1,0,.3h3.2' +\n    'a3,3,0,0,1,3,3v3H70.2A1.8,1.8,0,0,1,72,50.1ZM18.8,57.5' +\n    'a7.4,7.4,0,1,1,7.4-7.4A7.4,7.4,0,0,1,18.8,57.5Zm0-11.2' +\n    'a3.8,3.8,0,1,0,3.8,3.8A3.8,3.8,0,0,0,18.8,46.3ZM81.2,57.5' +\n    'a7.4,7.4,0,1,1,7.4-7.4A7.4,7.4,0,0,1,81.2,57.5Zm0-11.2' +\n    'A3.8,3.8,0,1,0,85,50.1,3.8,3.8,0,0,0,81.2,46.3Z'],\n\n    ['m_allTraffic', m_diamond + m_trafficArrows],\n\n    ['m_xMark', 'M76.8,73.7a2.2,2.2,0,0,1-3.1,3.1L50,53.1,26.3,76.7' +\n    'a2.2,2.2,0,1,1-3.1-3.1L46.9,50,23.2,26.3a2.2,2.2,0,0,1,3.1-3.1' +\n    'L50,46.9,73.7,23.2a2.2,2.2,0,1,1,3.1,3.1L53.1,50Z'],\n\n    ['m_resetZoom', 'M73.9,76.8H64.2a1.8,1.8,0,1,1,0-3.7h9.7' +\n    'a1.2,1.2,0,0,0,1.2-1.2V62.6a1.8,1.8,0,0,1,3.7,0v9.3' +\n    'A4.9,4.9,0,0,1,73.9,76.8ZM77,33.3a1.8,1.8,0,0,1-1.8-1.8V22' +\n    'a1.2,1.2,0,0,0-1.2-1.2H64.2a1.8,1.8,0,1,1,0-3.7h9.7' +\n    'A4.9,4.9,0,0,1,78.8,22v9.5A1.8,1.8,0,0,1,77,33.3ZM23,33.6' +\n    'a1.8,1.8,0,0,1-1.8-1.8V22a4.9,4.9,0,0,1,4.9-4.9h9.8' +\n    'a1.8,1.8,0,0,1,0,3.7H26.1A1.2,1.2,0,0,0,24.9,22v9.7' +\n    'A1.8,1.8,0,0,1,23,33.6ZM65.3,42.3A15.7,15.7,0,1,0,42.6,59.8' +\n    'L34.4,73.1H26.1a1.2,1.2,0,0,1-1.2-1.2V62.1a1.9,1.9,0,0,0-3.7,0' +\n    'v9.8a4.9,4.9,0,0,0,4.9,4.9h6.1l-2,3.3' +\n    'a1.8,1.8,0,0,0,.6,2.5,1.8,1.8,0,0,0,1,.3,1.8,1.8,0,0,0,1.6-.9' +\n    'L46,61.2a15.7,15.7,0,0,0,7.7.1A15.7,15.7,0,0,0,65.3,42.3Z' +\n    'm-5,9.9A12,12,0,1,1,50.1,34a12,12,0,0,1,11.7,9.2' +\n    'A11.9,11.9,0,0,1,60.3,52.3Z'],\n\n    ['m_eqMaster', 'M63,79.9H37.4a1.8,1.8,0,0,1-1.2-3.2L48.8,65.1' +\n    'a1.8,1.8,0,0,1,2.5,0L64.2,76.7A1.8,1.8,0,0,1,63,79.9Z' +\n    'M42.1,76.2H58.2l-8.1-7.3ZM19.7,65.8a1.8,1.8,0,0,1-.3-3.7' +\n    'l61-11.3a1.8,1.8,0,1,1,.7,3.6L20,65.8H19.7ZM34.2,53.5' +\n    'A16.7,16.7,0,1,1,50.9,36.8,16.7,16.7,0,0,1,34.2,53.5Zm0-29.7' +\n    'a13,13,0,1,0,13,13A13,13,0,0,0,34.2,23.8ZM70.7,45.7' +\n    'a8.6,8.6,0,1,1,8.6-8.6A8.6,8.6,0,0,1,70.7,45.7Zm0-13.6' +\n    'a4.9,4.9,0,1,0,4.9,4.9A4.9,4.9,0,0,0,70.7,32.2Z'],\n\n    ['m_unknown', 'M63.2,20.6H36.8A16.2,16.2,0,0,0,20.6,36.8V63.2' +\n    'A16.2,16.2,0,0,0,36.8,79.4H63.2A16.2,16.2,0,0,0,79.4,63.2V36.8' +\n    'A16.2,16.2,0,0,0,63.2,20.6ZM75.7,63.2A12.5,12.5,0,0,1,63.2,75.7' +\n    'H36.8A12.5,12.5,0,0,1,24.3,63.2V36.8A12.5,12.5,0,0,1,36.8,24.3' +\n    'H63.2A12.5,12.5,0,0,1,75.7,36.8V63.2ZM67.3,64.7' +\n    'a1.8,1.8,0,0,1-2.6,2.6L50,52.6,35.3,67.3a1.8,1.8,0,0,1-2.6-2.6' +\n    'L47.4,50,32.7,35.3a1.8,1.8,0,0,1,2.6-2.6L50,47.4,64.7,32.7' +\n    'a1.8,1.8,0,0,1,2.6,2.6L52.6,50Z'],\n\n    ['m_controller', 'M73.9,20.1H26.1A4.9,4.9,0,0,0,21.2,25V75' +\n    'a4.9,4.9,0,0,0,4.9,4.9H73.9A4.9,4.9,0,0,0,78.8,75V25' +\n    'A4.9,4.9,0,0,0,73.9,20.1ZM75.1,75a1.2,1.2,0,0,1-1.2,1.2H26.1' +\n    'A1.2,1.2,0,0,1,24.9,75V25a1.2,1.2,0,0,1,1.2-1.2H73.9' +\n    'A1.2,1.2,0,0,1,75.1,25V75ZM70.5,63a1.8,1.8,0,0,1-1.9,1.8H38.3' +\n    'v2.4a1.8,1.8,0,0,1-3.7,0V64.9H31.3a1.8,1.8,0,1,1,0-3.7h3.3V58.3' +\n    'a1.8,1.8,0,0,1,3.7,0v2.9H68.7A1.9,1.9,0,0,1,70.5,63ZM70.5,36.6' +\n    'a1.9,1.9,0,0,1-1.9,1.9H44.5v2.3a1.8,1.8,0,0,1-3.7,0V38.5H31.3' +\n    'a1.8,1.8,0,1,1,0-3.7h9.5v-3a1.8,1.8,0,0,1,3.7,0v3H68.7' +\n    'A1.8,1.8,0,0,1,70.5,36.6ZM70.5,49.8a1.9,1.9,0,0,1-1.9,1.8H60.9' +\n    'v2.1a1.8,1.8,0,1,1-3.7,0V51.7H31.3a1.8,1.8,0,1,1,0-3.7H57.2' +\n    'V44.8a1.8,1.8,0,1,1,3.7,0V48h7.8A1.9,1.9,0,0,1,70.5,49.8Z'],\n\n    ['m_virtual', 'M56.6,53.5l-0.9-.3a1.8,1.8,0,0,1-.9-1.6V45.8' +\n    'a1.8,1.8,0,1,1,3.7,0v2.7l11.1-6.1L58.4,36.5v2.7' +\n    'A1.8,1.8,0,0,1,56.6,41H50.5v3h1.3a1.8,1.8,0,0,1,0,3.7H48.6' +\n    'a1.8,1.8,0,0,1-1.8-1.8V39.2a1.8,1.8,0,0,1,1.8-1.8h6.1V33.4' +\n    'a1.8,1.8,0,0,1,2.7-1.6l16.8,9a1.8,1.8,0,0,1,0,3.2L57.5,53.3Z' +\n    'M56.6,77.9l-0.9-.3a1.8,1.8,0,0,1-.9-1.6V70.2a1.8,1.8,0,1,1,3.7,0' +\n    'v2.7l11.1-6.1L58.4,60.9v2.7a1.8,1.8,0,0,1-1.8,1.8H50.5v3h1.3' +\n    'a1.8,1.8,0,0,1,0,3.7H48.6a1.8,1.8,0,0,1-1.8-1.8V63.6' +\n    'a1.8,1.8,0,0,1,1.8-1.8h6.1V57.8a1.8,1.8,0,0,1,2.7-1.6l16.8,9' +\n    'a1.8,1.8,0,0,1,0,3.2L57.5,77.7ZM38.5,64.9l-0.9-.2L20.8,55.4' +\n    'a1.8,1.8,0,0,1,0-3.2l16.8-9a1.8,1.8,0,0,1,2.7,1.6v3.9h6.1' +\n    'a1.8,1.8,0,0,1,1.8,1.8v6.7a1.8,1.8,0,0,1-1.8,1.8H43.2' +\n    'a1.8,1.8,0,1,1,0-3.7h1.3v-3H38.5a1.8,1.8,0,0,1-1.8-1.8V47.9' +\n    'L25.6,53.8l11.1,6.1V57.2a1.8,1.8,0,0,1,3.7,0v5.8' +\n    'a1.8,1.8,0,0,1-.9,1.6ZM38.5,89.3l-0.9-.2L20.8,79.8' +\n    'a1.8,1.8,0,0,1,0-3.2l16.8-9a1.8,1.8,0,0,1,2.7,1.6v3.9h6.1' +\n    'A1.8,1.8,0,0,1,48.3,75v6.7a1.8,1.8,0,0,1-1.8,1.8H43.2' +\n    'a1.8,1.8,0,1,1,0-3.7h1.3v-3H38.5A1.8,1.8,0,0,1,36.6,75V72.3' +\n    'L25.6,78.2l11.1,6.1V81.6a1.8,1.8,0,1,1,3.7,0v5.8' +\n    'a1.8,1.8,0,0,1-.9,1.6ZM60.8,29.1H60.3A1.8,1.8,0,0,1,59,26.8' +\n    'a9.7,9.7,0,0,0-18.7-5.4,1.8,1.8,0,1,1-3.5-1,13.4,13.4,0,0,' +\n    '1,25.8,7.4A1.8,1.8,0,0,1,60.8,29.1ZM77.4,45.7a1.8,1.8,0,0,' +\n    '1-1.3-3.1,9.7,9.7,0,0,0-9.9-16A1.8,1.8,0,1,1,65,23.1,13.4,13.4,' +\n    '0,0,1,78.7,45.1,1.8,1.8,0,0,1,77.4,45.7ZM22.7,45.8a1.8,1.8,0,0,' +\n    '1-1.3-.6A13.4,13.4,0,0,1,39.6,25.6a1.8,1.8,0,1,1-2.4,2.8' +\n    'A9.7,9.7,0,0,0,24,42.6,1.8,1.8,0,0,1,22.7,45.8Z'],\n\n\n    ['m_other', 'M78.9,64.9H21.1A4.9,4.9,0,0,1,16.2,60V24.3a4.9,4.9,0,0,' +\n    '1,4.9-4.9H78.9a4.9,4.9,0,0,1,4.9,4.9V60A4.9,4.9,0,0,1,78.9,64.9Z' +\n    'M21.1,23.1a1.2,1.2,0,0,0-1.2,1.2V60a1.2,1.2,0,0,0,1.2,1.2H78.9' +\n    'A1.2,1.2,0,0,0,80.1,60V24.3a1.2,1.2,0,0,0-1.2-1.2H21.1Z' +\n    'M65.8,78.8a1.9,1.9,0,0,1-1.8,1.8H36.1a1.9,1.9,0,1,1,0-3.7H48.2' +\n    'V70.4a1.8,1.8,0,1,1,3.7,0v6.5H63.9A1.9,1.9,0,0,1,65.8,78.8Z' +\n    'M47.2,49.3V48.1c-0.3-2.3.5-4.9,2.7-7.5s3-4,3-5.9-1.4-3.7-4.1-3.7' +\n    'a7.7,7.7,0,0,0-4.4,1.3l-1-2.7A11.3,11.3,0,0,1,49.5,28' +\n    'c5,0,7.2,3.1,7.2,6.3s-1.6,5-3.7,7.5-2.6,4.1-2.5,6.3v1.1H47.2Z' +\n    'm-1,6a2.5,2.5,0,0,1,2.6-2.7A2.7,2.7,0,1,1,46.3,55.3Z'],\n\n    ['m_endstation', 'M75,49.5H25a1.8,1.8,0,0,1-1.8-1.8V27.1' +\n    'A1.8,1.8,0,0,1,25,25.3H75a1.8,1.8,0,0,1,1.8,1.8V47.7' +\n    'A1.8,1.8,0,0,1,75,49.5ZM26.9,45.8H73.1V28.9H26.9V45.8Z' +\n    'M35.5,43.2H30.7a1.8,1.8,0,1,1,0-3.7h4.8A1.8,1.8,0,1,1,35.5,43.2Z' +\n    'M72.1,72.9a1.8,1.8,0,0,1-1.8,1.8H29.7a1.8,1.8,0,1,1,0-3.7' +\n    'H48.2V53.5a1.8,1.8,0,1,1,3.7,0V71.1H70.3A1.9,1.9,0,0,1,72.1,72.9Z'],\n\n    ['m_bgpSpeaker', 'M59.2,49.6l-0.9-.3a1.8,1.8,0,0,1-.9-1.6V43.3' +\n    'a1.8,1.8,0,1,1,3.7,0v1.3l7-3.9L61,37v1.3a1.8,1.8,0,0,1-1.8,1.8' +\n    'H47.5a1.8,1.8,0,1,1,0-3.7h9.8V33.9A1.8,1.8,0,0,1,60,32.3' +\n    'l12.8,6.8a1.8,1.8,0,0,1,0,3.2l-12.8,7Z' +\n    'M40,58.8l-0.9-.2-12.8-7a1.8,1.8,0,0,1,0-3.2l12.8-6.8' +\n    'a1.8,1.8,0,0,1,2.7,1.6v2.5h9.8a1.8,1.8,0,0,1,0,3.7H40' +\n    'a1.8,1.8,0,0,1-1.8-1.8V46.2l-7,3.8,7,3.9V52.5' +\n    'a1.8,1.8,0,0,1,3.7,0v4.4a1.8,1.8,0,0,1-.9,1.6Z' +\n    'M83.6,45.8c0,13.8-15.1,25-33.6,25a43.8,43.8,0,0,1-6.1-.4' +\n    'c-2.5,2.7-7.2,6.1-15.6,8.7H27.8a1.8,1.8,0,0,1-1.2-3.2' +\n    's5.4-5,5.8-10.2a1.8,1.8,0,0,1,2-1.7A1.8,1.8,0,0,1,36,66' +\n    'a16.2,16.2,0,0,1-2.5,7.2,24.4,24.4,0,0,0,8.3-5.9L42,67l0.2-.2' +\n    'h0l0.6-.2h0.6a41.4,41.4,0,0,0,6.5.5c16.5,0,29.9-9.5,29.9-21.3' +\n    'S66.5,24.5,50,24.5,20.1,34.1,20.1,45.8c0,5.4,2.9,10.6,8.2,14.6' +\n    'a1.8,1.8,0,0,1-2.2,2.9' +\n    'c-6.2-4.7-9.7-10.9-9.7-17.5,0-13.8,15.1-25,33.6-25' +\n    'S83.6,32,83.6,45.8Z'],\n\n    ['m_otn', m_otn_base],\n\n    ['m_roadm_otn', m_otn_base + m_octagon],\n\n    ['m_fiberSwitch', 'M47.5,37.2a1.8,1.8,0,0,1-1.8-1.8V25.6H43.4' +\n    'a1.8,1.8,0,0,1-1.6-2.7l6.4-12a1.8,1.8,0,0,1,1.6-1h0' +\n    'a1.8,1.8,0,0,1,1.6,1l6.6,12a1.8,1.8,0,0,1-1.6,2.7H53.2' +\n    'a1.8,1.8,0,0,1,0-3.7h0.1l-3.5-6.3L46.5,22h1a1.8,1.8,0,0,1,1.8,1.8' +\n    'V35.3A1.8,1.8,0,0,1,47.5,37.2Z' +\n    'M75.9,46.9H75.8a1.8,1.8,0,0,1-1.5-1l-1.8-3.4' +\n    'a1.8,1.8,0,1,1,3.2-1.7l0.4,0.8,4.2-6-7.1-.3,0.5,0.9' +\n    'a1.8,1.8,0,0,1-.8,2.5l-10.4,5a1.8,1.8,0,0,1-1.6-3.3l8.7-4.2-1-2' +\n    'a1.8,1.8,0,0,1,.1-1.8,1.8,1.8,0,0,1,1.6-.8l13.6,0.5' +\n    'A1.8,1.8,0,0,1,85.3,35L77.4,46.1A1.8,1.8,0,0,1,75.9,46.9Z' +\n    'M81.2,72.5H81.1l-13.6-.8A1.8,1.8,0,0,1,66,69l1.7-3.1' +\n    'a1.8,1.8,0,1,1,3.2,1.8l-0.3.5,7.3,0.4-3.5-6.2-0.5.9' +\n    'a1.8,1.8,0,0,1-2.5.6l-9.8-6.1a1.8,1.8,0,0,1,1.9-3.1' +\n    'l8.2,5.1,1.2-1.9a1.9,1.9,0,0,1,1.6-.9,1.8,1.8,0,0,1,1.6.9' +\n    'l6.8,11.8A1.8,1.8,0,0,1,81.2,72.5Z' +\n    'M48.8,89.7a1.8,1.8,0,0,1-1.6-1l-6.6-12a1.8,1.8,0,0,1,1.6-2.7h3.3' +\n    'a1.8,1.8,0,0,1,0,3.7H45.3L48.7,84l3.4-6.3h-1' +\n    'a1.8,1.8,0,0,1-1.8-1.8V64.4a1.8,1.8,0,0,1,1.8-1.8h0' +\n    'a1.8,1.8,0,0,1,1.8,1.8v9.7h2.3a1.8,1.8,0,0,1,1.6,2.7l-6.4,12' +\n    'a1.8,1.8,0,0,1-1.6,1h0Z' +\n    'M16.9,71.3a1.8,1.8,0,0,1-1.6-2.7l6.7-12' +\n    'a1.8,1.8,0,0,1,1.6-.9,1.9,1.9,0,0,1,1.6.9l1.7,2.8' +\n    'a1.8,1.8,0,1,1-3.1,1.9H23.7l-3.5,6.3,7.1-.5L26.8,66' +\n    'a1.8,1.8,0,0,1,.6-2.5l9.8-6.1a1.8,1.8,0,0,1,1.9,3.1l-8.2,5.1' +\n    'L32,67.6a1.8,1.8,0,0,1-1.4,2.8l-13.5.9H16.9Z' +\n    'M35.8,46.9L35,46.7l-8.7-4.3-1,2a1.8,1.8,0,0,1-3.1.3l-8-11' +\n    'a1.8,1.8,0,0,1,1.4-2.9l13.6-.7' +\n    'a1.8,1.8,0,0,1,1.6.8,1.8,1.8,0,0,1,.1,1.8l-1.6,3' +\n    'a1.8,1.8,0,1,1-3.3-1.7h0.1l-7.1.4,4.2,5.8,0.5-.9' +\n    'a1.8,1.8,0,0,1,2.5-.8l10.4,5.1A1.8,1.8,0,0,1,35.8,46.9Z' +\n    'M60.5,49.9a11.3,11.3,0,1,1-3.3-8A11.2,11.2,0,0,1,60.5,49.9Z'],\n\n    ['m_microwave', 'M63.5,38.9a2.8,2.8,0,0,0-2.1,1H49.6V15.1' +\n    'a1.8,1.8,0,0,0-.5-1.3,1.8,1.8,0,0,0-1.3-.5h0' +\n    'a28.4,28.4,0,0,0-15.7,52V82.5H22.8a1.8,1.8,0,0,0,0,3.7H45' +\n    'a1.8,1.8,0,1,0,0-3.7H35.8V67.4a28.4,28.4,0,0,0,12,2.8h0' +\n    'a1.9,1.9,0,0,0,1.8-1.8V43.6H61.3a2.8,2.8,0,0,0,2.1,1' +\n    'A2.8,2.8,0,1,0,63.5,38.9ZM46,66.4a24.8,24.8,0,0,1,0-49.4V66.4Z' +\n    'M41.7,64H41.2a24.3,24.3,0,0,1-12.9-9.7L28,53.9' +\n    'a1.8,1.8,0,0,1,3.1-2l0.2,0.3a20.3,20.3,0,0,0,10.9,8.2' +\n    'A1.8,1.8,0,0,1,41.7,64Z' +\n    'M66.4,53.1a1.8,1.8,0,0,1-.5-3.6A8.1,8.1,0,0,0,66,34' +\n    'a1.8,1.8,0,0,1,1.1-3.5A11.8,11.8,0,0,1,67,53H66.4Z' +\n    'M66.5,58.2a1.8,1.8,0,0,1-.4-3.6,13.1,13.1,0,0,0,0-25.7,' +\n    '1.8,1.8,0,1,1,.7-3.6,16.8,16.8,0,0,1,0,32.9H66.5Z'],\n\n    ['m_relatedIntents', 'M34.5,73.1A7.5,7.5,0,1,1,42,65.6,7.5,7.5,' +\n    '0,0,1,34.5,73.1Zm0-11.3a3.8,3.8,0,1,0,3.8,3.8' +\n    'A3.8,3.8,0,0,0,34.5,61.8Z' +\n    'M56.7,34.3a1.8,1.8,0,0,1-1.8,1.9H42.6v3.1a3.1,3.1,0,0,1-3,3' +\n    'H36.4V54.5a1.9,1.9,0,0,1-3.7,0V42.3h-3a3.1,3.1,0,0,1-3-3' +\n    'V29.5a3,3,0,0,1,3-3h9.8a3,3,0,0,1,3,3v3H54.8' +\n    'A1.8,1.8,0,0,1,56.7,34.3Z' +\n    'M66,41.8a7.5,7.5,0,1,1,7.5-7.5A7.5,7.5,0,0,1,66,41.8Z' +\n    'm0-11.3a3.8,3.8,0,1,0,3.8,3.8A3.8,3.8,0,0,0,66,30.5Z'],\n\n    ['m_intentTraffic', 'M28.9,77.6H28.5a1.8,1.8,0,0,1-1.4-2.2L39,23.3' +\n    'a1.8,1.8,0,0,1,3.6.8l-12,52.1A1.8,1.8,0,0,1,28.9,77.6Z' +\n    'M71.1,77.6a1.8,1.8,0,0,1-1.8-1.4l-12-52.1a1.8,1.8,0,0,1,3.6-.8' +\n    'l12,52.1a1.8,1.8,0,0,1-1.4,2.2H71.1Z' +\n    'M49.9,26.2A1.8,1.8,0,0,1,48,24.4V23.7a1.8,1.8,0,0,1,3.7,0' +\n    'v0.7A1.8,1.8,0,0,1,49.9,26.2Z' +\n    'M49.9,43.6A1.8,1.8,0,0,1,48,41.8V40.2a1.8,1.8,0,0,1,3.7,0' +\n    'v1.6A1.8,1.8,0,0,1,49.9,43.6Zm0-8.7A1.8,1.8,0,0,1,48,33.1' +\n    'V31.5a1.8,1.8,0,0,1,3.7,0v1.6A1.8,1.8,0,0,1,49.9,34.9Z' +\n    'M49.9,69.8A1.8,1.8,0,0,1,48,67.9V66.3a1.8,1.8,0,0,1,3.7,0' +\n    'v1.6A1.8,1.8,0,0,1,49.9,69.8Zm0-8.7A1.8,1.8,0,0,1,48,59.2' +\n    'V57.6a1.8,1.8,0,0,1,3.7,0v1.6A1.8,1.8,0,0,1,49.9,61.1Zm0-8.7' +\n    'A1.8,1.8,0,0,1,48,50.5V48.9a1.8,1.8,0,0,1,3.7,0v1.6' +\n    'A1.8,1.8,0,0,1,49.9,52.3Z' +\n    'M49.9,77.6A1.8,1.8,0,0,1,48,75.7V75a1.8,1.8,0,0,1,3.7,0v0.7' +\n    'A1.8,1.8,0,0,1,49.9,77.6Z'],\n\n    ['m_firewall', 'M75.3,88.8H65.6a4.9,4.9,0,0,1-4.9-4.9V79.1' +\n    'a4.9,4.9,0,0,1,4.9-4.9h9.7a4.9,4.9,0,0,1,4.9,4.9v4.8' +\n    'A4.9,4.9,0,0,1,75.3,88.8ZM65.6,77.9a1.2,1.2,0,0,0-1.2,1.2v4.8' +\n    'a1.2,1.2,0,0,0,1.2,1.2h9.7a1.2,1.2,0,0,0,1.2-1.2V79.1' +\n    'a1.2,1.2,0,0,0-1.2-1.2H65.6Z' +\n    'M53.9,88.8H24.7a4.9,4.9,0,0,1-4.9-4.9V79.1a4.9,4.9,0,0,1,4.9-4.9' +\n    'H53.9a4.9,4.9,0,0,1,4.9,4.9v4.8A4.9,4.9,0,0,1,53.9,88.8Z' +\n    'M24.7,77.9a1.2,1.2,0,0,0-1.2,1.2v4.8a1.2,1.2,0,0,0,1.2,1.2' +\n    'H53.9a1.2,1.2,0,0,0,1.2-1.2V79.1a1.2,1.2,0,0,0-1.2-1.2H24.7Z' +\n    'M34.4,72.1H24.7a4.9,4.9,0,0,1-4.9-4.9V62.4a4.9,4.9,0,0,1,4.9-4.9' +\n    'h9.7a4.9,4.9,0,0,1,4.9,4.9v4.8A4.9,4.9,0,0,1,34.4,72.1Z' +\n    'M24.7,61.2a1.2,1.2,0,0,0-1.2,1.2v4.8a1.2,1.2,0,0,0,1.2,1.2h9.7' +\n    'a1.2,1.2,0,0,0,1.2-1.2V62.4a1.2,1.2,0,0,0-1.2-1.2H24.7Z' +\n    'M75.3,72.1H46.1a4.9,4.9,0,0,1-4.9-4.9V62.4a4.9,4.9,0,0,1,4.9-4.9' +\n    'H75.3a4.9,4.9,0,0,1,4.9,4.9v4.8A4.9,4.9,0,0,1,75.3,72.1Z' +\n    'M46.1,61.2a1.2,1.2,0,0,0-1.2,1.2v4.8a1.2,1.2,0,0,0,1.2,1.2H75.3' +\n    'a1.2,1.2,0,0,0,1.2-1.2V62.4a1.2,1.2,0,0,0-1.2-1.2H46.1Z' +\n    'M67.7,40.7c-0.2-4.8-3.6-8.8-6.3-12s-3-3.6-3.3-4.8' +\n    'a13.1,13.1,0,0,1,1-9.7,2.2,2.2,0,0,0,.3-1.1,1.9,1.9,0,0,' +\n    '0-.8-1.5,1.8,1.8,0,0,0-1.7-.2c-0.3.1-8.1,3-10.4,14.7-1.4-2.3' +\n    '-3.4-4.6-5.9-5.4a1.8,1.8,0,0,0-2,.6,1.9,1.9,0,0,0-.2,2.1,6.8,6.8,' +\n    '0,0,1-.6,7.1c-1.4,1.8-5.9,8.3-4.1,14.9,1.2,4.1,4.6,7.3,10.2,9.4' +\n    'h1.6l0.2-.2h0.1l0.2-.3,0.2-.3h0V53.2a1.6,1.6,0,0,0,0-.4,1.7,1.7,' +\n    '0,0,0,0-.3h0V52.2h0V51.8L46,51.6H45.9c-0.3-.4-2.4-3-2.1-5.9' +\n    'a5,5,0,0,1,.7-2.1c1,2,2.7,4.4,5.5,4.6a5.1,5.1,0,0,0,3.9-1.3' +\n    'A8.2,8.2,0,0,0,56,43.5a7.3,7.3,0,0,1,.3,2.6,7.6,7.6,0,0,' +\n    '1-3.1,5.3,1.8,1.8,0,0,0,1.2,3.3h0c0.3,0,6.3-.1,10.1-4.3' +\n    'C66.9,47.9,67.9,44.6,67.7,40.7Zm-5.8,7.1a9,9,0,0,1-2.7,2,9.9,9.9,' +\n    '0,0,0,.9-3.5c0.3-5.1-3.4-9.2-3.5-9.4a1.8,1.8,0,0,0-3.2,1.2' +\n    'c0,1.4-.5,4.8-1.8,5.9a1.4,1.4,0,0,1-1.2.4c-1.7-.1-2.9-3.3-3.3-4.8' +\n    'a1.8,1.8,0,0,0-1.2-1.4,1.8,1.8,0,0,0-1.8.3,9.7,9.7,0,0,' +\n    '0-4,6.8,9.4,9.4,0,0,0,.3,3.1,8.4,8.4,0,0,1-3.1-4.4' +\n    'c-1.4-5,2.6-10.5,3.5-11.7A10,10,0,0,0,42.8,27,27.2,27.2,0,0,' +\n    '1,46,33.7a1.8,1.8,0,0,0,3.6-.6,33.2,33.2,0,0,1,.4-5.4,19.3,19.3,' +\n    '0,0,1,4-9.7,19.1,19.1,0,0,0,.5,6.7c0.5,2.1,2.2,4,4.1,6.3' +\n    's5.3,6.2,5.5,9.8A9.1,9.1,0,0,1,61.9,47.8Z'],\n\n    ['m_balancer', 'M33.4,56.6H26.7a3.1,3.1,0,0,1-3-3V46.9a3.1,3.1,0,0,1,3-3' +\n    'h6.7a3.1,3.1,0,0,1,3,3v6.7A3.1,3.1,0,0,1,33.4,56.6Z' +\n    'M73.3,36.5H66.6a3.1,3.1,0,0,1-3-3V26.7a3.1,3.1,0,0,1,3-3' +\n    'h6.7a3.1,3.1,0,0,1,3,3v6.7A3.1,3.1,0,0,1,73.3,36.5Z' +\n    'M73.3,56.1H66.6a3.1,3.1,0,0,1-3-3V46.4a3.1,3.1,0,0,1,3-3' +\n    'h6.7a3.1,3.1,0,0,1,3,3v6.7A3.1,3.1,0,0,1,73.3,56.1Z' +\n    'M73.3,76.3H66.6a3.1,3.1,0,0,1-3-3V66.6a3.1,3.1,0,0,1,3-3' +\n    'h6.7a3.1,3.1,0,0,1,3,3v6.7A3.1,3.1,0,0,1,73.3,76.3Z' +\n    'M62.7,70.4a1.9,1.9,0,0,1-1.8,1.5H60.5a15.2,15.2,0,0,1-10.9-9.1' +\n    'c-3.9-8.6-4.7-9.8-10.8-10.4a1.8,1.8,0,0,1-1.6-1.7,0.3,0.3,0,0,1,0-.1' +\n    'h0V50.1h0a1.8,1.8,0,0,1,1.7-2c6.2-.5,7-1.7,10.9-10.4' +\n    'a15.2,15.2,0,0,1,10.7-9.1,1.8,1.8,0,1,1,.8,3.6,11.5,11.5,0,0,0-8.2,7' +\n    'c-2,4.4-3.4,7.3-5.3,9.2H60.8a1.8,1.8,0,1,1,0,3.7h-13' +\n    'c1.8,1.9,3.2,4.8,5.2,9.1a11.5,11.5,0,0,0,8.3,7' +\n    'A1.9,1.9,0,0,1,62.7,70.4Z'],\n\n    ['m_ips', 'M79.4,26.8a0.9,0.9,0,0,0-.1-0.3V26.1l-0.3-.4-0.2-.2' +\n    'H78.6c-1.3-1-11-8-28.3-8H49.7c-18.7,0-28.1,7.8-28.5,8.1' +\n    'a2,2,0,0,0-.7,1.3c-1.1,22.8,6.7,36.8,13.4,44.4S48.3,82.4,49.1,82.7' +\n    'h1.6c0.3-.1,7.9-3.1,15.3-11.4S80.5,49.7,79.4,26.8ZM50,79' +\n    'c-3.9-1.7-27.3-13.4-25.8-51.1,2.3-1.6,10.7-6.8,25.5-6.8h0.5' +\n    'c14.4,0,23.2,5.2,25.5,6.8C77.2,65.6,53.9,77.3,50,79Z' +\n    'M41.7,41.9a1.8,1.8,0,0,1-1.8-1.9V37.3a9.8,9.8,0,0,1,9.8-9.8h0.6' +\n    'a9.8,9.8,0,0,1,9.8,9.8v2.6a1.8,1.8,0,1,1-3.7,0V37.3' +\n    'a6.1,6.1,0,0,0-6.1-6.1H49.6a6.1,6.1,0,0,0-6.1,6.1v2.8' +\n    'A1.8,1.8,0,0,1,41.7,41.9Z' +\n    'M58.6,63.1H41.3a3.7,3.7,0,0,1-3.6-3.7V47.3a3.7,3.7,0,0,1,3.6-3.7' +\n    'H58.6a3.8,3.8,0,0,1,3.6,3.7V59.4A3.7,3.7,0,0,1,58.6,63.1Z'],\n\n    ['m_ids', 'M69.7,41.5c-2.9,3.6-9.1,5-18.6,4.2a18.4,18.4,0,0,0-8.9,1.4' +\n    'H41.5a1.8,1.8,0,0,1-.7-3.5A22.2,22.2,0,0,1,51.5,42' +\n    'c7.4,0.6,12.5-.2,14.8-2.3L63.2,22.6c-5,2.9-12.5,2.4-15.9,1.9' +\n    'a18.7,18.7,0,0,0-12.7,3.4H34.3l9.5,52.4a1.9,1.9,0,0,1-1.5,2.1' +\n    'H42a1.8,1.8,0,0,1-1.8-1.5L29.9,24.3a1.8,1.8,0,1,1,3.6-.6v0.4' +\n    'a22.3,22.3,0,0,1,14.1-3.2C55,21.8,60.9,20.7,63,18' +\n    'a1.8,1.8,0,0,1,1.9-.6,1.8,1.8,0,0,1,1.4,1.5L70.1,40' +\n    'A1.9,1.9,0,0,1,69.7,41.5Z'],\n\n    ['m_olt', 'M83,47.6H64.5a1.8,1.8,0,0,0-1.9,1.9V74.3' +\n    'a1.8,1.8,0,0,0,1.9,1.8H83a1.8,1.8,0,0,0,1.8-1.8V49.5' +\n    'A1.8,1.8,0,0,0,83,47.6ZM81.1,72.5H77.7v-5a1.4,1.4,0,0,0-1.4-1.4' +\n    'H72.1a1.4,1.4,0,0,0-1.4,1.4v5H66.3V51.3H81.1V72.5Z' +\n    'M70.9,56.9H69.5a1.8,1.8,0,0,1,0-3.7h1.3A1.8,1.8,0,1,1,70.9,56.9Z' +\n    'M77.5,56.9H76.1a1.8,1.8,0,0,1,0-3.7h1.3A1.8,1.8,0,1,1,77.5,56.9Z' +\n    'M70.9,62.5H69.5a1.8,1.8,0,0,1,0-3.7h1.3A1.8,1.8,0,1,1,70.9,62.5Z' +\n    'M77.5,62.5H76.1a1.8,1.8,0,0,1,0-3.7h1.3A1.8,1.8,0,1,1,77.5,62.5Z' +\n    'M40.9,56.2H36.1a1.8,1.8,0,1,1,0-3.7h4.8A1.8,1.8,0,0,1,40.9,56.2Z' +\n    'M82.2,25.7V43.9a1.8,1.8,0,0,1-3.7,0V27.5H32.3V59.8H58.4' +\n    'a1.8,1.8,0,0,1,0,3.7h-28a1.9,1.9,0,0,1-1.8-1.9V45.5H17' +\n    'a1.8,1.8,0,0,1,0-3.7H28.6V25.7a1.8,1.8,0,0,1,1.8-1.8h50' +\n    'A1.8,1.8,0,0,1,82.2,25.7Z'],\n\n    ['m_onu', 'M39.8,58.7H35a1.8,1.8,0,1,1,0-3.7h4.9' +\n    'A1.8,1.8,0,1,1,39.8,58.7Z' +\n    'M81.4,28.3V46.5a1.9,1.9,0,0,1-3.7,0V30.2H31.2V62.4H57.4' +\n    'a1.8,1.8,0,1,1,0,3.7H29.3a1.8,1.8,0,0,1-1.8-1.9V48.1H15.9' +\n    'a1.8,1.8,0,1,1,0-3.7H27.5V28.3a1.8,1.8,0,0,1,1.8-1.8H79.5' +\n    'A1.8,1.8,0,0,1,81.4,28.3Z' +\n    'M85.8,60.3L75.1,49.6a1.8,1.8,0,0,0-2.6,0L61.6,60.3' +\n    'a1.8,1.8,0,0,0,0,2.6,1.8,1.8,0,0,0,2.6,0l0.2-.2v8.8' +\n    'a1.8,1.8,0,0,0,1.8,1.8H81.2a1.8,1.8,0,0,0,1.8-1.8V62.7l0.2,0.2' +\n    'A1.8,1.8,0,0,0,85.8,60.3Zm-6.5,9.4H68.1V59.1l5.6-5.6L79.4,59V69.7Z'],\n\n    ['m_swap', 'M62.2,54.7l-0.9-.3a1.8,1.8,0,0,1-.9-1.6V47.1' +\n    'a1.8,1.8,0,1,1,3.7,0v2.6l10.8-6L64,38v2.6a1.8,1.8,0,0,1-1.8,1.8' +\n    'H47.1a1.8,1.8,0,0,1,0-3.7H60.3V34.9a1.8,1.8,0,0,1,2.7-1.6' +\n    'l16.5,8.8a1.8,1.8,0,0,1,0,3.2L63.1,54.5Z' +\n        'M37.4,66.6l-0.9-.2L20,57.2a1.8,1.8,0,0,1,0-3.2l16.5-8.8' +\n    'a1.8,1.8,0,0,1,2.7,1.6v3.8H52.5a1.8,1.8,0,0,1,0,3.7H37.4' +\n    'a1.8,1.8,0,0,1-1.8-1.8V49.9L24.8,55.7l10.8,6V59' +\n    'a1.8,1.8,0,1,1,3.7,0v5.7a1.8,1.8,0,0,1-.9,1.6Z'],\n\n    ['m_shortestGeoPath', 'M49.7,17.5A32.3,32.3,0,1,0,81.9,49.8,32.3,32.3,0,' +\n    '0,0,49.7,17.5Zm0,60.9A28.6,28.6,0,1,1,78.2,49.8,28.6,28.6,0,0,1,' +\n    '49.7,78.4Z M60.9,49a1.5,1.5,0,0,1-.1-0.4,0.8,0.8,0,0,1,0-.3' +\n    'C60.9,48.5,60.9,48.8,60.9,49Z' +\n    'M75.4,48.6a1.8,1.8,0,0,1-1.8,1.8h-9' +\n    'a38.2,38.2,0,0,1-8.3,22.8,1.8,1.8,0,0,1-1.4.7,1.8,1.8,0,0,' +\n    '1-1.1-.4,1.8,1.8,0,0,1-.3-2.6,34.6,34.6,0,0,0,7.5-21.6V49' +\n    'c0-.3,0-0.5,0-0.7a0.1,0.1,0,0,1,0-.1,33.2,33.2,0,0,0-.7-6.1H60' +\n    'a5.1,5.1,0,0,1-3.1-9.1A33,33,0,0,0,52.9,27' +\n    'a1.8,1.8,0,1,1,2.8-2.4,36.2,36.2,0,0,1,4.7,7.2,5.1,5.1,0,0,' +\n    '1,3.1,8.7,38.3,38.3,0,0,1,.9,6.2h9.1A1.8,1.8,0,0,1,75.4,48.6Z' +\n    'M46.5,71a1.8,1.8,0,0,1-1.4,3,1.8,1.8,0,0,1-1.4-.7,36.3,36.3,' +\n    '0,0,1-4.3-6.7H39a5.1,5.1,0,0,1-2.9-9.3,40.3,40.3,0,0,1-.8-6.9H26' +\n    'a1.8,1.8,0,0,1,0-3.7h9.3a38,38,0,0,1,8.3-21.5,1.8,1.8,0,1,1,2.8,' +\n    '2.3,34.5,34.5,0,0,0-7.6,21.8,36,36,0,0,0,.7,7.2,5.1,5.1,0,0,' +\n    '1,4.5,5.1,5,5,0,0,1-1.4,3.5A33.4,33.4,0,0,0,46.5,71Z' +\n    'M44.9,56.9a1.8,1.8,0,0,1-1.1-.4,1.8,1.8,0,0,1-.3-2.6l0.6-.8' +\n    'A1.8,1.8,0,1,1,47,55.3l-0.6.8A1.8,1.8,0,0,1,44.9,56.9Zm3.9-5' +\n    'a1.8,1.8,0,0,1-1.1-.4,1.8,1.8,0,0,1-.3-2.6l0.6-.8' +\n    'a1.8,1.8,0,1,1,2.9,2.3l-0.6.8A1.8,1.8,0,0,1,48.8,51.9Zm3.9-5' +\n    'a1.8,1.8,0,0,1-1.1-.4,1.8,1.8,0,0,1-.3-2.6l0.6-.8' +\n    'a1.8,1.8,0,1,1,2.9,2.3l-0.6.8A1.8,1.8,0,0,1,52.7,46.9Z'],\n\n    ['m_source', 'M71,63.8l-0.9-.3a1.8,1.8,0,0,1-.9-1.6V57.1' +\n    'a1.8,1.8,0,0,1,3.7,0v1.7l8.2-4.5-8.2-4.4v1.7A1.8,1.8,0,0,1,71,53.4' +\n    'H58.2a1.8,1.8,0,0,1,0-3.7H69.2V46.8a1.8,1.8,0,0,1,2.7-1.6l14,7.5' +\n    'a1.8,1.8,0,0,1,0,3.2l-14,7.7Z' +\n    'M32.7,77.7a3.6,3.6,0,0,1-3.1-1.8L16.1,52.1l-0.9-1.6' +\n    'a19.3,19.3,0,0,1-2.1-8.7,19.6,19.6,0,0,1,6.1-14.2' +\n    'A19.5,19.5,0,0,1,52.1,40.5h0a19.5,19.5,0,0,1-2,9.9l-1,1.8' +\n    'L35.8,75.9A3.6,3.6,0,0,1,32.7,77.7Zm0-51.7' +\n    'A15.8,15.8,0,0,0,18.5,48.8l0.8,1.4L32.7,73.9,46,50.3l0.8-1.4' +\n    'a15.9,15.9,0,0,0,1.6-8.1h0A15.8,15.8,0,0,0,33.6,26h-1Z' +\n    'm0,21.1A8.2,8.2,0,1,1,40.8,39,8.2,8.2,0,0,1,32.7,47.1Z' +\n    'm0-12.6A4.5,4.5,0,1,0,37.1,39,4.5,4.5,0,0,0,32.7,34.5Z'],\n\n    ['m_destination', 'M30.3,63.8l-0.9-.3a1.8,1.8,0,0,1-.9-1.6V57.1' +\n    'a1.8,1.8,0,0,1,3.7,0v1.7l8.2-4.5-8.2-4.4v1.7a1.8,1.8,0,0,1-1.8,1.8' +\n    'H17.5a1.8,1.8,0,1,1,0-3.7H28.4V46.8a1.8,1.8,0,0,1,2.7-1.6l14,7.5' +\n    'a1.8,1.8,0,0,1,0,3.2l-14,7.7Z' +\n    'M64.9,77.7a3.6,3.6,0,0,1-3.1-1.8L48.3,52.1l-0.9-1.6' +\n    'a19.3,19.3,0,0,1-2-8.6,19.6,19.6,0,0,1,6.1-14.2' +\n    'A19.5,19.5,0,0,1,84.3,40.5a19.5,19.5,0,0,1-1.9,9.8v0.2l-0.9,1.7' +\n    'L68,75.9A3.6,3.6,0,0,1,64.9,77.7ZM50.7,48.8l0.8,1.4' +\n    'L64.9,73.9,78.2,50.3,79,48.8h0a15.8,15.8,0,0,0,1.6-8' +\n    'a15.8,15.8,0,1,0-29.9,8h0Zm14.1-1.7' +\n    'A8.2,8.2,0,1,1,73,39,8.2,8.2,0,0,1,64.9,47.1Z' +\n    'm0-12.6A4.5,4.5,0,1,0,69.3,39,4.5,4.5,0,0,0,64.9,34.5Z'],\n\n    ['m_topo', 'M31.3,73H21.5a3.1,3.1,0,0,1-3-3V60.1a3.1,3.1,0,0,1,3-3' +\n    'h9.8a3.2,3.2,0,0,1,3,3V70A3.1,3.1,0,0,1,31.3,73Z' +\n    'M78.5,46.7H68.7a3.1,3.1,0,0,1-3-3V33.8a3.1,3.1,0,0,1,3-3h9.8' +\n    'a3.1,3.1,0,0,1,3,3v9.8A3.1,3.1,0,0,1,78.5,46.7Z' +\n    'M40.8,42.9H31a3.1,3.1,0,0,1-3-3V30a3.1,3.1,0,0,1,3-3' +\n    'h9.9a2.9,2.9,0,0,1,2.9,3v9.8A3.1,3.1,0,0,1,40.8,42.9Z' +\n    'M37.4,66.1a1.8,1.8,0,0,1-1.2-3.3L61.1,42a1.8,1.8,0,1,1,2.4,2.8' +\n    'L38.6,65.7A1.8,1.8,0,0,1,37.4,66.1Z' +\n    'M27.4,55.5a1.8,1.8,0,0,1-1.5-3l5.8-7.7a1.8,1.8,0,1,1,2.9,2.2' +\n    'l-5.8,7.7A1.8,1.8,0,0,1,27.4,55.5Z' +\n    'M62.5,39.7H62.2L46.6,36.5a1.8,1.8,0,1,1,.7-3.6L62.9,36' +\n    'A1.8,1.8,0,0,1,62.5,39.7Z'],\n\n    ['m_shortestPath', 'M28.2,31.2H19.5a3,3,0,0,1-3-3V19.5a3,3,0,0,1,3-3' +\n    'h8.6c1.8,0.4,3,1.4,3,3v8.6A3,3,0,0,1,28.2,31.2Z' +\n    'M80.2,83.2H71.6a3,3,0,0,1-3-3V71.5a3,3,0,0,1,3-3h8.6' +\n    'c1.7,0.4,3,1.4,3,3v8.6A3,3,0,0,1,80.2,83.2Z' +\n    'M67.6,67.4a1.8,1.8,0,0,1-1.3.5,1.9,1.9,0,0,1-1.3-.5L54.7,57.1' +\n    'H45.6a3,3,0,0,1-3-3V45.5a2.1,2.1,0,0,1,.1-0.5L32.3,34.7' +\n    'a1.8,1.8,0,0,1,0-2.6,1.9,1.9,0,0,1,2.6,0L45.3,42.5h8.9' +\n    'a3,3,0,0,1,3,3v8.6a0.9,0.9,0,0,1,0,.2L67.6,64.8' +\n    'A1.8,1.8,0,0,1,67.6,67.4Z'],\n\n    ['m_disjointPaths', 'M67.7,59.8h9.4a2.9,2.9,0,0,1,3,3v9.4' +\n    'a3.1,3.1,0,0,1-3,3H67.7a3.1,3.1,0,0,1-3-3V62.9' +\n    'A3.1,3.1,0,0,1,67.7,59.8Z' +\n    'M22.9,59.8h9.4a2.9,2.9,0,0,1,3,3v9.4a3.1,3.1,0,0,1-3,3H22.9' +\n    'a3.1,3.1,0,0,1-3-3V62.9A3.1,3.1,0,0,1,22.9,59.8Z' +\n    'M45.3,24.7h9.4a2.9,2.9,0,0,1,3,3v9.4a3.1,3.1,0,0,1-3,3H45.3' +\n    'a3.1,3.1,0,0,1-3-3V27.7A3.1,3.1,0,0,1,45.3,24.7Z' +\n    'M65.9,58.5a1.8,1.8,0,0,1-1.5-.8L55.3,44.3a1.8,1.8,0,0,1,3.1-2.1' +\n    'l9.1,13.4A1.8,1.8,0,0,1,65.9,58.5Z' +\n    'M61.1,68.8H39.1a1.8,1.8,0,1,1,0-3.7H61.1A1.8,1.8,0,0,1,61.1,68.8Z' +\n    'M35.5,59.9l-1-.3a1.8,1.8,0,0,1-.6-2.5l8.8-14.3' +\n    'a1.8,1.8,0,0,1,3.1,1.9L37.1,59A1.8,1.8,0,0,1,35.5,59.9Z'],\n\n    ['m_region', 'M49.8,70.9a3.4,3.4,0,0,1-3-1.8L34.3,47l-0.8-1.5' +\n    'a18.2,18.2,0,0,1-1.9-8.2,18.4,18.4,0,0,1,5.8-13.3' +\n    'A18.3,18.3,0,0,1,68.1,36.1h0a18.4,18.4,0,0,1-1.9,9.3' +\n    'L65.3,47,52.8,69.2A3.4,3.4,0,0,1,49.8,70.9Zm0-48.3' +\n    'A14.6,14.6,0,0,0,36.7,43.8l0.7,1.3L49.8,67,62.2,45.2l0.8-1.3' +\n    'a14.7,14.7,0,0,0,1.5-7.5h0A14.8,14.8,0,0,0,50.7,22.7H49.8Z' +\n    'm0,19.7a7.7,7.7,0,1,1,7.7-7.7A7.7,7.7,0,0,1,49.8,42.4Zm0-11.8' +\n    'a4.1,4.1,0,1,0,4.1,4.1A4.1,4.1,0,0,0,49.8,30.6Z' +\n    'M81.7,80.8H17.9a1.8,1.8,0,0,1-1.6-2.7l9.2-16.8' +\n    'a1.8,1.8,0,0,1,1.6-1h9.5a1.8,1.8,0,1,1,0,3.7H28.2L21,77.1H78.6' +\n    'L71.4,64H61.9a1.8,1.8,0,1,1,0-3.7H72.5a1.8,1.8,0,0,1,1.6,1' +\n    'l9.2,16.8A1.8,1.8,0,0,1,81.7,80.8Z'],\n]);\n\nexport const extraGlyphs = new Map<string, string>([\n        ['_yang', '0 0 400 400'],\n        ['yang', 'M323.3,199.2a33.2,33.2,0,1,1-66.4,0' +\n        'c0-18.4,14.9-34.1,33.2-33.3S323.3,180.8,323.3,199.2Z' +\n        'M286.5,289.9c-78.2-.3-86.6-72.2-86.9-89.1s-14.6-91.8-88.3-88.3' +\n        'c-7.5.3-34.6,1.2-56.9,20.1-25.8,21.8-29,53.9-30.5,68.2-0.2,' +\n        '2.2-.4,4.4-0.5,6.5h0a175.5,175.5,0,0,0,171,172.9H199' +\n        'a175.5,175.5,0,0,0,58.6-10l3.9-1.4,3.9-1.5,3.9-1.7h0' +\n        'l3.9-1.7,2.8-1.3,2.7-1.4a175.6,175.6,0,0,0,95.9-155.1' +\n        'C372.4,226.7,358,290.1,286.5,289.9ZM110.1,237.7' +\n        'A33.6,33.6,0,1,1,143.7,204,33.6,33.6,0,0,1,110.1,237.7Z'],\n]);\n\n\n/**\n * ONOS GUI -- SVG -- Glyph Data Service\n */\n@Injectable({\n  providedIn: 'root',\n})\nexport class GlyphDataService {\n\n    constructor(\n        private log: LogService\n    ) {\n        this.log.debug('GlyphDataService constructed');\n    }\n\n}\n","/*\n * Copyright 2018-present Open Networking Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Injectable } from '@angular/core';\nimport { FnService } from '../util/fn.service';\nimport { LogService } from '../log.service';\nimport * as d3 from 'd3';\n\n\n// --- Ordinal scales for 7 values.\n// TODO: migrate these colors to the theme service.\n\n// Colors per Mojo-Design's color palette.. (version one)\n//               blue       red        dk grey    steel      lt blue    lt red     lt grey\n// var lightNorm = ['#5b99d2', '#d05a55', '#716b6b', '#7e9aa8', '#66cef6', '#db7773', '#aeada8' ],\n//     lightMute = ['#a8cceb', '#f1a7a7', '#b9b5b5', '#bdcdd5', '#a8e9fd', '#f8c9c9', '#d7d6d4' ],\n\n// Colors per Mojo-Design's color palette.. (version two)\n//               blue       lt blue    red        green      brown      teal       lime\nconst lightNorm: string[] = ['#5b99d2', '#66cef6', '#d05a55', '#0f9d58', '#ba7941', '#3dc0bf', '#56af00'];\nconst lightMute: string[] = ['#9ebedf', '#abdef5', '#d79a96', '#7cbe99', '#cdab8d', '#96d5d5', '#a0c96d'];\n\nconst darkNorm: string[] = ['#5b99d2', '#66cef6', '#d05a55', '#0f9d58', '#ba7941', '#3dc0bf', '#56af00'];\nconst darkMute: string[] = ['#9ebedf', '#abdef5', '#d79a96', '#7cbe99', '#cdab8d', '#96d5d5', '#a0c96d'];\n\nconst colors = {\n    light: {\n        norm: d3.scaleOrdinal().range(lightNorm),\n        mute: d3.scaleOrdinal().range(lightMute),\n    },\n    dark: {\n        norm: d3.scaleOrdinal().range(darkNorm),\n        mute: d3.scaleOrdinal().range(darkMute),\n    },\n};\n\n/**\n * ONOS GUI -- SVG -- Util Service\n *\n * The SVG Util Service provides a miscellany of utility functions.\n */\n@Injectable({\n    providedIn: 'root',\n})\nexport class SvgUtilService {\n\n    constructor(\n        private fs: FnService,\n        private log: LogService\n    ) {\n\n\n\n        this.log.debug('SvgUtilService constructed');\n    }\n\n    translate(x: number[], y?: any): string {\n        if (this.fs.isA(x) && x.length === 2 && !y) {\n            return 'translate(' + x[0] + ',' + x[1] + ')';\n        }\n        return 'translate(' + x + ',' + y + ')';\n    }\n\n    scale(x, y) {\n        return 'scale(' + x + ',' + y + ')';\n    }\n\n    skewX(x) {\n        return 'skewX(' + x + ')';\n    }\n\n    rotate(deg) {\n        return 'rotate(' + deg + ')';\n    }\n\n    cat7() {\n        const tcid = 'd3utilTestCard';\n\n        function getColor(id, muted, theme) {\n            // NOTE: since we are lazily assigning domain ids, we need to\n            //       get the color from all 4 scales, to keep the domains\n            //       in sync.\n            const ln = colors.light.norm(id);\n            const lm = colors.light.mute(id);\n            const dn = colors.dark.norm(id);\n            const dm = colors.dark.mute(id);\n            if (theme === 'dark') {\n                return muted ? dm : dn;\n            } else {\n                return muted ? lm : ln;\n            }\n        }\n\n        function testCard(svg) {\n            let g = svg.select('g#' + tcid);\n            const dom = d3.range(7);\n            let k;\n            let muted;\n            let theme;\n            let what;\n\n            if (!g.empty()) {\n                g.remove();\n\n            } else {\n                g = svg.append('g')\n                    .attr('id', tcid)\n                    .attr('transform', 'scale(4)translate(20,20)');\n\n                for (k = 0; k < 4; k++) {\n                    muted = k % 2;\n                    what = muted ? ' muted' : ' normal';\n                    theme = k < 2 ? 'light' : 'dark';\n                    dom.forEach((id, i) => {\n                        const x = i * 20;\n                        const y = k * 20;\n                        g.append('circle')\n                            .attr('cx', x)\n                            .attr('cy', y)\n                            .attr('r', 5)\n                            .attr('fill', getColor(id, muted, theme));\n                    });\n                    g.append('rect')\n                        .attr('x', 140)\n                        .attr('y', k * 20 - 5)\n                        .attr('width', 32)\n                        .attr('height', 10)\n                        .attr('rx', 2)\n                        .attr('fill', '#888');\n                    g.append('text').text(theme + what)\n                        .attr('x', 142)\n                        .attr('y', k * 20 + 2)\n                        .attr('fill', 'white');\n                        // .style('font-size', '4pt');\n                }\n            }\n        }\n\n        return {\n            testCard: testCard,\n            getColor: getColor,\n        };\n    }\n\n}\n","/*\n * Copyright 2018-present Open Networking Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Injectable } from '@angular/core';\nimport { FnService } from '../util/fn.service';\nimport { LogService } from '../log.service';\nimport * as gds from './glyphdata.service';\nimport * as d3 from 'd3';\nimport { SvgUtilService } from './svgutil.service';\n\n// constants\nconst msgGS = 'GlyphService.';\nconst rg = 'registerGlyphs(): ';\nconst rgs = 'registerGlyphSet(): ';\n\n/**\n * ONOS GUI -- SVG -- Glyph Service\n */\n@Injectable({\n  providedIn: 'root',\n})\nexport class GlyphService {\n    // internal state\n    glyphs = d3.map();\n    api: Object;\n\n    constructor(\n        private fs: FnService,\n        //        private gd: GlyphDataService,\n        private log: LogService,\n        private sus: SvgUtilService\n    ) {\n        this.clear();\n        this.init();\n        this.api = {\n            registerGlyphs: this.registerGlyphs,\n            registerGlyphSet: this.registerGlyphSet,\n            ids: this.ids,\n            glyph: this.glyph,\n            glyphDefined: this.glyphDefined,\n            loadDefs: this.loadDefs,\n            addGlyph: this.addGlyph,\n        };\n        this.log.debug('GlyphService constructed');\n    }\n\n    warn(msg: string): void {\n        this.log.warn(msgGS + msg);\n    }\n\n    addToMap(key, value, vbox, overwrite: boolean, dups) {\n        if (!overwrite && this.glyphs.get(key)) {\n            dups.push(key);\n        } else {\n            this.glyphs.set(key, { id: key, vb: vbox, d: value });\n        }\n    }\n\n    reportDups(dups: string[], which: string): boolean {\n        const ok: boolean = (dups.length === 0);\n        const msg = 'ID collision: ';\n\n        if (!ok) {\n            dups.forEach((id) => {\n                this.warn(which + msg + '\"' + id + '\"');\n            });\n        }\n        return ok;\n    }\n\n    reportMissVb(missing: string[], which: string): boolean {\n        const ok: boolean = (missing.length === 0);\n        const msg = 'Missing viewbox property: ';\n\n        if (!ok) {\n            missing.forEach((vbk) => {\n                this.warn(which + msg + '\"' + vbk + '\"');\n            });\n        }\n        return ok;\n    }\n\n    clear() {\n        // start with a fresh map\n        this.glyphs = d3.map();\n    }\n\n    init() {\n        this.log.info('Registering glyphs');\n        this.registerGlyphs(gds.logos);\n        this.registerGlyphSet(gds.glyphDataSet);\n        this.registerGlyphSet(gds.badgeDataSet);\n        this.registerGlyphs(gds.spriteData);\n        this.registerGlyphSet(gds.mojoDataSet);\n        this.registerGlyphs(gds.extraGlyphs);\n    }\n\n    registerGlyphs(data: Map<string, string>, overwrite: boolean = false): boolean {\n        const dups: string[] = [];\n        const missvb: string[] = [];\n        for (const [key, value] of data.entries()) {\n            const vbk = '_' + key;\n            const vb = data.get(vbk);\n\n            if (key[0] !== '_') {\n                if (!vb) {\n                    missvb.push(vbk);\n                    continue;\n                }\n                this.addToMap(key, value, vb, overwrite, dups);\n            }\n        }\n        return this.reportDups(dups, rg) && this.reportMissVb(missvb, rg);\n    }\n\n    registerGlyphSet(data: Map<string, string>, overwrite: boolean = false): boolean {\n        const dups: string[] = [];\n        const vb: string = data.get('_viewbox');\n\n        if (!vb) {\n            this.warn(rgs + 'no \"_viewbox\" property found');\n            return false;\n        }\n\n        for (const [key, value] of data.entries()) {\n            //        angular.forEach(data, function (value, key) {\n            if (key[0] !== '_') {\n                this.addToMap(key, value, vb, overwrite, dups);\n            }\n        }\n        return this.reportDups(dups, rgs);\n    }\n\n    ids() {\n        return this.glyphs.keys();\n    }\n\n    glyph(id) {\n        return this.glyphs.get(id);\n    }\n\n    glyphDefined(id) {\n        return this.glyphs.has(id);\n    }\n\n\n    /**\n     * Load definitions of a glyph\n     *\n     * Note: defs should be a D3 selection of a single <defs> element\n     */\n    loadDefs(defs, glyphIds: string[], noClear: boolean) {\n        const list = this.fs.isA(glyphIds) || this.ids();\n\n        if (!noClear) {\n            // remove all existing content\n            defs.html(null);\n        }\n\n        // load up the requested glyphs\n        list.forEach((id) => {\n            const g = this.glyph(id);\n            if (g) {\n                if (noClear) {\n                    // quick exit if symbol is already present\n                    // TODO: check if this should be a continue or break instead\n                    if (defs.select('symbol#' + g.id).size() > 0) {\n                        return;\n                    }\n                }\n                defs.append('symbol')\n                    .attr('id', g.id)\n                    .attr('viewBox', g.vb)\n                    .append('path')\n                    .attr('d', g.d);\n            }\n        });\n    }\n\n    addGlyph(elem: any, glyphId: string, size: number, overlay: any, trans: any) {\n        const sz = size || 40;\n        const ovr = !!overlay;\n        const xns = this.fs.isA(trans);\n\n        const glyphUse = elem\n            .append('use')\n            .attr('width', sz)\n            .attr('height', sz)\n            .attr('class', 'glyph')\n            .attr('xlink:href', '#' + glyphId)\n            .classed('overlay', ovr);\n\n        if (xns) {\n            glyphUse.attr('transform', this.sus.translate(trans));\n        }\n\n        return glyphUse;\n    }\n}\n","/*\n * Copyright 2018-present Open Networking Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Injectable } from '@angular/core';\nimport { GlyphService } from './glyph.service';\nimport { LogService } from '../log.service';\nimport { SvgUtilService } from './svgutil.service';\nimport * as d3 from 'd3';\n\nconst vboxSize = 50;\nconst cornerSize = vboxSize / 10;\nconst viewBox = '0 0 ' + vboxSize + ' ' + vboxSize;\n\nexport const glyphMapping = new Map<string, string>([\n    // Maps icon ID to the glyph ID it uses.\n    // NOTE: icon ID maps to a CSS class for styling that icon\n    ['active', 'checkMark'],\n    ['inactive', 'xMark'],\n\n    ['plus', 'plus'],\n    ['minus', 'minus'],\n    ['play', 'play'],\n    ['stop', 'stop'],\n\n    ['upload', 'upload'],\n    ['download', 'download'],\n    ['delta', 'delta'],\n    ['nonzero', 'nonzero'],\n    ['close', 'xClose'],\n\n    ['m_cloud', 'm_cloud'],\n    ['m_map', 'm_map'],\n    ['m_selectMap', 'm_selectMap'],\n    ['thatsNoMoon', 'thatsNoMoon'],\n    ['m_ports', 'm_ports'],\n    ['m_switch', 'm_switch'],\n    ['m_roadm', 'm_roadm'],\n    ['m_router', 'm_router'],\n    ['m_uiAttached', 'm_uiAttached'],\n    ['m_endstation', 'm_endstation'],\n    ['m_summary', 'm_summary'],\n    ['m_details', 'm_details'],\n    ['m_oblique', 'm_oblique'],\n    ['m_filters', 'm_filters'],\n    ['m_cycleLabels', 'm_cycleLabels'],\n    ['m_cycleGridDisplay', 'm_cycleGridDisplay'],\n    ['m_prev', 'm_prev'],\n    ['m_next', 'm_next'],\n    ['m_flows', 'm_flows'],\n    ['m_allTraffic', 'm_allTraffic'],\n    ['m_xMark', 'm_xMark'],\n    ['m_resetZoom', 'm_resetZoom'],\n    ['m_eqMaster', 'm_eqMaster'],\n    ['m_unknown', 'm_unknown'],\n    ['m_controller', 'm_controller'],\n    ['m_eqMaster', 'm_eqMaster'],\n    ['m_virtual', 'm_virtual'],\n    ['m_other', 'm_other'],\n    ['m_bgpSpeaker', 'm_bgpSpeaker'],\n    ['m_otn', 'm_otn'],\n    ['m_roadm_otn', 'm_roadm_otn'],\n    ['m_fiberSwitch', 'm_fiberSwitch'],\n    ['m_microwave', 'm_microwave'],\n    ['m_relatedIntents', 'm_relatedIntents'],\n    ['m_intentTraffic', 'm_intentTraffic'],\n    ['m_firewall', 'm_firewall'],\n    ['m_balancer', 'm_balancer'],\n    ['m_ips', 'm_ips'],\n    ['m_ids', 'm_ids'],\n    ['m_olt', 'm_olt'],\n    ['m_onu', 'm_onu'],\n    ['m_swap', 'm_swap'],\n    ['m_shortestGeoPath', 'm_shortestGeoPath'],\n    ['m_source', 'm_source'],\n    ['m_destination', 'm_destination'],\n    ['m_topo', 'm_topo'],\n    ['m_shortestPath', 'm_shortestPath'],\n    ['m_disjointPaths', 'm_disjointPaths'],\n    ['m_region', 'm_region'],\n\n    ['topo', 'topo'],\n    ['bird', 'bird'],\n\n    ['refresh', 'refresh'],\n    ['query', 'query'],\n    ['garbage', 'garbage'],\n\n\n    ['upArrow', 'triangleUp'],\n    ['downArrow', 'triangleDown'],\n    ['triangleLeft', 'triangleLeft'],\n    ['triangleRight', 'triangleRight'],\n\n    ['appInactive', 'unknown'],\n    ['uiAttached', 'uiAttached'],\n\n    ['node', 'node'],\n    ['devIcon_SWITCH', 'switch'],\n    ['devIcon_ROADM', 'roadm'],\n    ['devIcon_OTN', 'otn'],\n\n    ['portIcon_DEFAULT', 'm_ports'],\n\n    ['meter', 'meterTable'], // TODO: m_meter icon?\n\n    ['deviceTable', 'switch'],\n    ['flowTable', 'flowTable'],\n    ['portTable', 'portTable'],\n    ['groupTable', 'groupTable'],\n    ['meterTable', 'meterTable'],\n    ['pipeconfTable', 'pipeconfTable'],\n\n    ['hostIcon_endstation', 'endstation'],\n    ['hostIcon_router', 'router'],\n    ['hostIcon_bgpSpeaker', 'bgpSpeaker'],\n\n    // navigation menu icons...\n    ['nav_apps', 'bird'],\n    ['nav_settings', 'cog'],\n    ['nav_cluster', 'node'],\n    ['nav_processors', 'allTraffic'],\n    ['nav_partitions', 'unknown'],\n\n    ['nav_topo', 'topo'],\n    ['nav_topo2', 'm_cloud'],\n    ['nav_devs', 'switch'],\n    ['nav_links', 'ports'],\n    ['nav_hosts', 'endstation'],\n    ['nav_intents', 'relatedIntents'],\n    ['nav_tunnels', 'ports'], // TODO: use tunnel glyph, when available\n    ['nav_yang', 'yang'],\n]);\n\n/**\n * ONOS GUI -- SVG -- Icon Service\n */\n@Injectable({\n  providedIn: 'root',\n})\nexport class IconService {\n\n    constructor(\n        private gs: GlyphService,\n        private log: LogService,\n        private sus: SvgUtilService\n    ) {\n\n        this.log.debug('IconService constructed');\n    }\n\n    ensureIconLibDefs() {\n        const body = d3.select('body');\n        let svg = body.select('svg#IconLibDefs');\n        if (svg.empty()) {\n            svg = body.append('svg').attr('id', 'IconLibDefs');\n            svg.append('defs');\n        }\n        return svg.select('defs');\n    }\n\n    /**\n     * Load an icon\n     *\n     * @param div A D3 selection of the '&lt;div&gt;' element into which icon should load\n     * @param glyphId Identifies the glyph to use\n     * @param size The dimension of icon in pixels. Defaults to 20.\n     * @param installGlyph If truthy, will cause the glyph to be added to\n     *      well-known defs element. Defaults to false.\n     * @param svgClass The CSS class used to identify the SVG layer.\n     *      Defaults to 'embeddedIcon'.\n     */\n    loadIcon(div, glyphId: string = 'unknown', size: number = 20, installGlyph: boolean = true, svgClass: string = 'embeddedIcon') {\n        const dim = size || 20;\n        const svgCls = svgClass || 'embeddedIcon';\n        const gid = glyphId || 'unknown';\n        let g;\n        let svgIcon: any;\n\n        if (installGlyph) {\n            this.gs.loadDefs(this.ensureIconLibDefs(), [gid], true);\n        }\n        this.log.warn('loadEmbeddedIcon. install done');\n\n        svgIcon = div\n            .append('svg')\n            .attr('class', svgCls)\n            .attr('width', dim)\n            .attr('height', dim)\n            .attr('viewBox', viewBox);\n\n        g = svgIcon.append('g')\n            .attr('class', 'icon');\n\n        g.append('rect')\n            .attr('width', vboxSize)\n            .attr('height', vboxSize)\n            .attr('rx', cornerSize);\n\n        g.append('use')\n            .attr('width', vboxSize)\n            .attr('height', vboxSize)\n            .attr('class', 'glyph')\n            .attr('xlink:href', '#' + gid);\n    }\n\n    /**\n     * Load an icon by class.\n     * @param div A D3 selection of the <DIV> element into which icon should load\n     * @param iconCls The CSS class used to identify the icon\n     * @param size The dimension of icon in pixels. Defaults to 20.\n     * @param installGlyph If truthy, will cause the glyph to be added to\n     *      well-known defs element. Defaults to false.\n     * @param svgClass The CSS class used to identify the SVG layer.\n     *      Defaults to 'embeddedIcon'.\n     */\n    loadIconByClass(div, iconCls: string, size: number, installGlyph: boolean, svgClass= 'embeddedIcon') {\n        this.loadIcon(div, glyphMapping.get(iconCls), size, installGlyph, svgClass);\n        div.select('svg g').classed(iconCls, true);\n    }\n\n    /**\n     * Load an embedded icon.\n     */\n    loadEmbeddedIcon(div, iconCls: string, size: number) {\n        this.loadIconByClass(div, iconCls, size, true);\n    }\n\n    /**\n     * Load an icon only to the svg defs collection\n     *\n     * Note: This is added for use with IconComponent, where the icon's\n     * svg element is defined in the component template (and not built\n     * inline using d3 manipulation\n     *\n     * @param iconCls The icon class as a string\n     */\n    loadIconDef(iconCls: string): void {\n        let glyphName: string = glyphMapping.get(iconCls);\n        if (!glyphName) {\n            glyphName = iconCls;\n        }\n        this.gs.loadDefs(this.ensureIconLibDefs(), [glyphName], true);\n        this.log.debug('icon definition', iconCls, 'added to defs');\n    }\n\n\n    /**\n     * Add a device icon\n     *\n     * Adds a device glyph to the specified element.\n     * Returns the D3 selection of the glyph (use) element.\n     */\n    addDeviceIcon(elem, glyphId, iconDim) {\n        const gid = this.gs.glyphDefined(glyphId) ? glyphId : 'query';\n        return elem.append('use').attr({\n            'xlink:href': '#' + gid,\n            width: iconDim,\n            height: iconDim,\n        });\n    }\n\n    addHostIcon(elem, radius, glyphId) {\n        const dim = radius * 1.5;\n        const xlate = -dim / 2;\n        const g = elem.append('g')\n                .attr('class', 'svgIcon hostIcon');\n\n        g.append('circle').attr('r', radius);\n\n        g.append('use').attr({\n            'xlink:href': '#' + glyphId,\n            width: dim,\n            height: dim,\n            transform: this.sus.translate([xlate], xlate),\n        });\n        return g;\n    }\n\n    registerIconMapping(iconId, glyphId) {\n        if (glyphMapping[iconId]) {\n            this.log.warn('Icon with id', iconId, 'already mapped. Ignoring.');\n        } else {\n            // map icon-->glyph\n            glyphMapping[iconId] = glyphId;\n            // make sure definition is installed\n            this.gs.loadDefs(this.ensureIconLibDefs(), [glyphId], true);\n        }\n    }\n}\n","/*\n * Copyright 2018-present Open Networking Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Component, OnInit, OnChanges, Input } from '@angular/core';\nimport { IconService, glyphMapping } from '../icon.service';\nimport { LogService } from '../../log.service';\n\n/**\n * Icon Component\n *\n * Note: This is an alternative to the Icon Directive from ONOS 1.0.0\n * It has been implemented as a Component because it was inadvertently adding\n * in a template through d3 DOM manipulations - it's better to make it a Comp\n * and build a template the Angular 7 way\n *\n * Remember: The CSS files applied here only apply to this component\n */\n@Component({\n  selector: 'onos-icon',\n  template: `<!--\n~ Copyright 2018-present Open Networking Foundation\n~\n~ Licensed under the Apache License, Version 2.0 (the \"License\");\n~ you may not use this file except in compliance with the License.\n~ You may obtain a copy of the License at\n~\n~     http://www.apache.org/licenses/LICENSE-2.0\n~\n~ Unless required by applicable law or agreed to in writing, software\n~ distributed under the License is distributed on an \"AS IS\" BASIS,\n~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n~ See the License for the specific language governing permissions and\n~ limitations under the License.\n-->\n<div class=\"tooltip\">\n<svg class=\"embeddedIcon\" [attr.width]=\"iconSize\" [attr.height]=\"iconSize\" viewBox=\"0 0 50 50\" (mouseover)=\"toolTipDisp = toolTip\" (mouseout)=\"toolTipDisp = undefined\">\n    <g class=\"icon\" [ngClass]=\"classes\">\n        <rect width=\"50\" height=\"50\" rx=\"5\"></rect>\n        <use width=\"50\" height=\"50\" class=\"glyph\" [attr.href]=\"iconTag()\"></use>\n    </g>\n</svg>\n<!-- I'm fixing class as light as view encapsulation changes how the hirerarchy of css is handled -->\n\n<!-- <p id=\"tooltip\" class=\"light\" *ngIf=\"toolTip\" [ngStyle]=\"{ 'display': toolTipDisp ? 'inline-block':'none'}\">{{ toolTipDisp }}</p> -->\n\n    <span class=\"tooltiptext\" [ngStyle]=\"{ 'display': toolTipDisp ? 'inline-block':'none'}\">{{toolTipDisp}}</span>\n</div>\n`,\n  styles: [`svg#IconLibDefs{display:none}svg .svgIcon{fill-rule:evenodd}svg.embeddedIcon g.icon{fill:none}.ctrl-btns div svg.embeddedIcon g.icon use{fill:#e0dfd6}.ctrl-btns div.active svg.embeddedIcon g.icon use{fill:#939598}.ctrl-btns div.active:hover svg.embeddedIcon g.icon use{fill:#ce5b58}.ctrl-btns div.current-view svg.embeddedIcon g.icon rect{fill:#518ecc}.ctrl-btns div.current-view svg.embeddedIcon g.icon use{fill:#fff}svg.embeddedIcon .icon.active .glyph{fill:#04bf34}svg.embeddedIcon .icon.inactive .glyph{fill:#c0242b}svg.embeddedIcon .icon.active-rect .glyph{fill:#939598}svg.embeddedIcon .icon.active-sort .glyph{fill:#333}svg.embeddedIcon g.icon.active-rect:hover use{fill:#ce5b58}svg.embeddedIcon g.icon.active-type .glyph{fill:#3c3a3a}svg.embeddedIcon g.icon.active-close:hover use{fill:#ce5b58}svg.embeddedIcon g.icon.active-close .glyph{fill:#333}svg.embeddedIcon g.icon.details-icon .glyph{fill:#0071bd}`, `div.close-btn svg.embeddedIcon g.icon .glyph{fill:#333}div.tableColSort svg.embeddedIcon .icon .glyph{fill:#353333;fill:#888}svg.embeddedIcon g.icon use{fill:#e0dfd6}.ctrl-btns div.active svg.embeddedIcon g.icon use{fill:#939598}svg.embeddedIcon g.icon.active:hover use{fill:#ce5b58}svg.embeddedIcon g.icon.current-view rect{fill:#518ecc}svg.embeddedIcon g.icon.current-view use{fill:#fff}svg.embeddedIcon g.icon.refresh use{fill:#cdeff2}svg.embeddedIcon g.icon.refresh:hover use{fill:#ce5b58}svg.embeddedIcon g.icon.refresh.active use{fill:#009fdb}svg.embeddedIcon g.icon.refresh.active:hover use{fill:#ce5b58}div.close-btn svg.embeddedIcon g.icon .glyph{fill:#8d8d8d}table svg.embeddedIcon .icon .glyph{fill:#99a}svg.embeddedIcon g.icon.devIcon_SWITCH .glyph,svg.embeddedIcon g.icon.hostIcon_endstation .glyph{fill:#0071bd}`, `svg .glyph{stroke:none;fill-rule:evenodd}`, `.dark svg .glyph,.dark svg .glyph.overlay,.light svg .glyph,.light svg .glyph.overlay{fill:#00f}`, `#tooltip{text-align:center;font-size:80%;border:1px solid;padding:5px;position:absolute;z-index:5000;display:inline-block;pointer-events:none;top:40px;right:auto}.tooltip{position:relative;display:inline-block}.tooltip .tooltiptext{display:inline-block;visibility:hidden;background-color:#dbeffc;color:#3c3a3a;border-color:#c7c7c0;text-align:center;border-radius:6px;font-size:80%;padding:5px;position:absolute;z-index:5000;top:42px;right:10%;white-space:nowrap}.tooltip:hover .tooltiptext{visibility:visible}`, `svg.embeddedIcon .radioButton.selected .icon rect,svg.embeddedIcon .toggleButton.selected .icon rect{fill:#e4f0f6}svg.embeddedIcon .button:hover .icon rect{stroke:#000;stroke-width:1px}svg.embeddedIcon .toggleButton.selected:hover .icon rect{fill:#c0d8f0;stroke:#000;stroke-width:1px}svg.embeddedIcon .button .glyph,svg.embeddedIcon .radioButton.selected .glyph,svg.embeddedIcon .toggleButton.selected .glyph{fill:#5b99d2}svg.embeddedIcon .icon.radioButton:hover:not(.selected) rect,svg.embeddedIcon .icon.toggleButton:hover rect{fill:#e4f0f6;stroke:#000;stroke-width:1px}svg.embeddedIcon .radioButton .glyph,svg.embeddedIcon .toggleButton .glyph{fill:#bbb}svg.embeddedIcon .radioButton:hover:not(.selected) .glyph,svg.embeddedIcon .toggleButton:hover:not(.selected) .glyph{fill:#5b99d2}.dark .radioButton.selected svg.embeddedIcon .icon rect,.dark .toggleButton.selected svg.embeddedIcon .icon rect{fill:#353e45}.dark .button:hover svg.embeddedIcon .icon rect{stroke:#fff;stroke-width:1px}.dark .toggleButton.selected:hover svg.embeddedIcon .icon rect{fill:#444d54;stroke:#fff;stroke-width:1px}.dark .button svg.embeddedIcon .glyph,.dark .radioButton.selected svg.embeddedIcon .glyph,.dark .toggleButton.selected svg.embeddedIcon .glyph{fill:#5b99d2}.dark .radioButton:hover:not(.selected) svg.embeddedIcon .icon rect,.dark .toggleButton:hover svg.embeddedIcon .icon rect{fill:#353e45;stroke:#fff;stroke-width:1px}.dark .radioButton svg.embeddedIcon .glyph,.dark .toggleButton svg.embeddedIcon .glyph{fill:#bbb}.dark .radioButton:hover:not(.selected) svg.embeddedIcon .glyph,.dark .toggleButton:hover:not(.selected) svg.embeddedIcon .glyph{fill:#5b99d2}`]\n})\nexport class IconComponent implements OnInit, OnChanges {\n    @Input() iconId: string;\n    @Input() iconSize: number = 20;\n    @Input() toolTip: string = undefined;\n    @Input() classes: string = undefined;\n\n    // The displayed tooltip - undefined until mouse hovers over, then equals toolTip\n    toolTipDisp: string = undefined;\n\n    constructor(\n        private is: IconService,\n        private log: LogService\n    ) {\n        // Note: iconId is not available until initialization\n        this.log.debug('IconComponent constructed');\n    }\n\n    /**\n     * Icons are loaded in to the DOM under iconDefs\n     */\n    ngOnInit() {\n        this.is.loadIconDef(this.iconId);\n    }\n\n    /**\n     * This is needed in case the iconId changes while icon component\n     * is displayed on screen.\n     */\n    ngOnChanges() {\n        this.is.loadIconDef(this.iconId);\n    }\n\n    /**\n     * Get the corresponding iconTag from the glyphMapping in the iconService\n     * @returns The iconTag corresponding to the iconId of this instance\n     */\n    iconTag(): string {\n        const iconIdStr: string = glyphMapping.get(this.iconId);\n        if (iconIdStr) {\n            return '#' + iconIdStr;\n        } else {\n            return '#' + this.iconId;\n        }\n    }\n}\n","/*\n * Copyright 2018-present Open Networking Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Injectable, Inject } from '@angular/core';\nimport { LogService } from '../log.service';\n\nconst UICONTEXT = '/onos/ui/';\nconst RSSUFFIX = UICONTEXT + 'rs/';\nconst WSSUFFIX = UICONTEXT + 'websock/';\n\n/**\n * ONOS GUI -- Remote -- General Purpose URL Functions\n */\n@Injectable({\n  providedIn: 'root',\n})\nexport class UrlFnService {\n    constructor(\n        private log: LogService,\n        @Inject('Window') private w: any\n    ) {\n        this.log.debug('UrlFnService constructed');\n    }\n\n    matchSecure(protocol: string): string {\n        const p: string = this.w.location.protocol;\n        const secure: boolean = (p === 'https' || p === 'wss');\n        return secure ? protocol + 's' : protocol;\n    }\n\n    /* A little bit of funky here. It is possible that ONOS sits\n     * behind a proxy and has an app prefix, e.g.\n     *      http://host:port/my/app/onos/ui...\n     * This bit of regex grabs everything after the host:port and\n     * before the UICONTEXT (/onos/ui/) and uses that as an app\n     * prefix by inserting it back into the WS URL.\n     * If no prefix, then no insert.\n     */\n    urlBase(protocol: string, port: string = '', host: string = ''): string {\n        const match = this.w.location.href.match('.*//[^/]+/(.+)' + UICONTEXT);\n        const appPrefix = match ? '/' + match[1] : '';\n\n        return this.matchSecure(protocol) +\n            '://' +\n            (host === '' ? this.w.location.hostname : host) +\n            ':' +\n            (port === '' ? this.w.location.port : port) +\n            appPrefix;\n    }\n\n    httpPrefix(suffix: string): string {\n        return this.urlBase('http') + suffix;\n    }\n\n    wsPrefix(suffix: string, wsport: string, host: string): string {\n        return this.urlBase('ws', wsport, host) + suffix;\n    }\n\n    rsUrl(path: string): string {\n        return this.httpPrefix(RSSUFFIX) + path;\n    }\n\n    wsUrl(path: string, wsport?: string, host?: string): string {\n        return this.wsPrefix(WSSUFFIX, wsport, host) + path;\n    }\n}\n","/*\n * Copyright 2018-present Open Networking Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Injectable } from '@angular/core';\nimport { LogService } from '../log.service';\n\n/**\n * ONOS GUI -- Remote -- Web Socket Wrapper Service\n *\n * This service provided specifically so that it can be mocked in unit tests.\n */\n@Injectable({\n  providedIn: 'root',\n})\nexport class WSock {\n\n  constructor(\n    private log: LogService,\n  ) {\n    this.log.debug('WSockService constructed');\n  }\n\n\n  newWebSocket(url) {\n      let ws = null;\n      try {\n          ws = new WebSocket(url);\n      } catch (e) {\n          this.log.error('Unable to create web socket:', e);\n      }\n      return ws;\n  }\n\n}\n","/*\n * Copyright 2018-present Open Networking Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Injectable, Inject } from '@angular/core';\nimport { FnService } from '../util/fn.service';\nimport { GlyphService } from '../svg/glyph.service';\nimport { LogService } from '../log.service';\nimport { UrlFnService } from './urlfn.service';\nimport { VeilComponent } from '../layer/veil/veil.component';\nimport { WSock } from './wsock.service';\n\n/**\n * Event Type structure for the WebSocketService\n */\nexport interface EventType {\n    event: string;\n    payload: Object;\n}\n\nexport interface Callback {\n    id: number;\n    error: string;\n    cb(host: string, url: string): void;\n}\n\ninterface ClusterNode {\n    id: string;\n    ip: string;\n    m_uiAttached: boolean;\n}\n\ninterface Glyph {\n    id: string;\n    viewbox: string;\n    path: string;\n}\n\ninterface Bootstrap {\n    user: string;\n    clusterNodes: ClusterNode[];\n    glyphs: Glyph[];\n}\n\ninterface ErrorData {\n    message: string;\n}\n\nexport interface WsOptions {\n    wsport: number;\n}\n\n/**\n * ONOS GUI -- Remote -- Web Socket Service\n *\n * To see debug messages add ?debug=txrx to the URL\n */\n@Injectable({\n  providedIn: 'root',\n})\nexport class WebSocketService {\n    // internal state\n    private webSockOpts: WsOptions; // web socket options\n    private ws: WebSocket = null; // web socket reference\n    private wsUp: boolean = false; // web socket is good to go\n\n    // A map of event handler bindings - names and functions (that accept data and return void)\n    private handlers = new Map<string, (data: any) => void>([]);\n    private pendingEvents: EventType[] = []; // events TX'd while socket not up\n    private host: string; // web socket host\n    private url; // web socket URL\n    private clusterNodes: ClusterNode[] = []; // ONOS instances data for failover\n    private clusterIndex = -1; // the instance to which we are connected\n    private glyphs: Glyph[] = [];\n    private connectRetries: number = 0; // limit our attempts at reconnecting\n\n    // A map of registered Callbacks for websocket open()\n    private openListeners = new Map<number, Callback>([]);\n    private nextListenerId: number = 1; // internal ID for open listeners\n    private loggedInUser = null; // name of logged-in user\n    private lcd: any; // The loading component delegate\n    private vcd: any; // The veil component delegate\n\n    /**\n     * built-in handler for the 'boostrap' event\n     */\n    private bootstrap(data: Bootstrap) {\n        this.loggedInUser = data.user;\n        this.log.info('Websocket connection bootstraped', data);\n\n        this.clusterNodes = data.clusterNodes;\n        this.clusterNodes.forEach((d, i) => {\n            if (d.m_uiAttached) {\n                this.clusterIndex = i;\n                this.log.info('Connected to cluster node ' + d.ip);\n                // TODO: add connect info to masthead somewhere\n            }\n        });\n        this.glyphs = data.glyphs;\n        const glyphsMap = new Map<string, string>([]);\n        this.glyphs.forEach((d) => {\n            glyphsMap.set('_' + d.id, d.viewbox);\n            glyphsMap.set(d.id, d.path);\n            this.gs.registerGlyphs(glyphsMap);\n        });\n    }\n\n    private error(data: ErrorData) {\n        const m: string = data.message || 'error from server';\n        this.log.error(m, data);\n\n        // Unrecoverable error - throw up the veil...\n        if (this.vcd) {\n            this.vcd.show([\n                'Oops!',\n                'Server reports error...',\n                m,\n            ]);\n        }\n    }\n\n    constructor(\n        private fs: FnService,\n        private gs: GlyphService,\n        private log: LogService,\n        private ufs: UrlFnService,\n        private wsock: WSock,\n        @Inject('Window') private window: any\n    ) {\n        this.log.debug(window.location.hostname);\n\n        // Bind the boot strap event by default\n        this.bindHandlers(new Map<string, (data) => void>([\n            ['bootstrap', (data) => this.bootstrap(data)],\n            ['error', (data) => this.error(data)]\n        ]));\n\n        this.log.debug('WebSocketService constructed');\n    }\n\n\n    // ==========================\n    // === Web socket callbacks\n\n    /**\n     * Called when WebSocket has just opened\n     *\n     * Lift the Veil if it is displayed\n     * If there are any events pending, send them\n     * Mark the WSS as up and inform any listeners for this open event\n     */\n    handleOpen(): void {\n        this.log.info('Web socket open - ', this.url);\n        // Hide the veil\n        if (this.vcd) {\n            this.vcd.hide();\n        }\n\n        if (this.fs.debugOn('txrx')) {\n            this.log.debug('Sending ' + this.pendingEvents.length + ' pending event(s)...');\n        }\n        this.pendingEvents.forEach((ev) => {\n            this.send(ev);\n        });\n        this.pendingEvents = [];\n\n        this.connectRetries = 0;\n        this.wsUp = true;\n        this.informListeners(this.host, this.url);\n    }\n\n    /**\n     * Function called when WebSocket send a message\n     */\n    handleMessage(msgEvent: MessageEvent): void {\n        let ev: EventType;\n        let h;\n        try {\n            ev = JSON.parse(msgEvent.data);\n        } catch (e) {\n            this.log.error('Message.data is not valid JSON', msgEvent.data, e);\n            return null;\n        }\n        if (this.fs.debugOn('txrx')) {\n            this.log.debug(' << *Rx* ', ev.event, ev.payload);\n        }\n        h = this.handlers.get(ev.event);\n        if (h) {\n            try {\n                h(ev.payload);\n            } catch (e) {\n                this.log.error('Problem handling event:', ev, e);\n                return null;\n            }\n        } else {\n            this.log.warn('Unhandled event:', ev);\n        }\n    }\n\n    /**\n     * Called by the WebSocket if it is closed from the server end\n     *\n     * If the loading component is shown, call stop() on it\n     * Try to find another node in the cluster to connect to\n     * If this is not possible then show the Veil Component\n     */\n    handleClose(): void {\n        this.log.warn('Web socket closed');\n        if (this.lcd) {\n            this.lcd.stop();\n        }\n        this.wsUp = false;\n        let gsucc;\n\n        if (gsucc = this.findGuiSuccessor()) {\n            this.url = this.createWebSocket(this.webSockOpts, gsucc);\n        } else {\n            // If no controllers left to contact, show the Veil...\n            if (this.vcd) {\n                this.vcd.show([\n                    'Oops!',  // TODO: Localize this\n                    'Web-socket connection to server closed...',\n                    'Try refreshing the page.',\n                ]);\n            }\n        }\n    }\n\n    // ==============================\n    // === Private Helper Functions\n\n    /**\n     * Find the next node in the ONOS cluster.\n     *\n     * This is used if the WebSocket connection closes because a\n     * node in the cluster ges down - fail over should be automatic\n     */\n    findGuiSuccessor(): string {\n        const ncn = this.clusterNodes.length;\n        let ip: string;\n        let node;\n\n        while (this.connectRetries < ncn && !ip) {\n            this.connectRetries++;\n            this.clusterIndex = (this.clusterIndex + 1) % ncn;\n            node = this.clusterNodes[this.clusterIndex];\n            ip = node && node.ip;\n        }\n\n        return ip;\n    }\n\n    /**\n     * When the WebSocket is opened, inform any listeners that registered\n     * for that event\n     */\n    informListeners(host: string, url: string): void {\n        for (const [key, cb] of this.openListeners.entries()) {\n            cb.cb(host, url);\n        }\n    }\n\n    send(ev: EventType): void {\n        if (this.fs.debugOn('txrx')) {\n            this.log.debug(' *Tx* >> ', ev.event, ev.payload);\n        }\n        this.ws.send(JSON.stringify(ev));\n    }\n\n    /**\n     * Check if there are no WSS event handlers left\n     */\n    noHandlersWarn(handlers: Map<string, Object>, caller: string): boolean {\n        if (!handlers || handlers.size === 0) {\n            this.log.warn('WSS.' + caller + '(): no event handlers');\n            return true;\n        }\n        return false;\n    }\n\n    /* ===================\n     * === API Functions\n     */\n\n    /**\n     * Required for unit tests to set to known state\n     */\n    resetState(): void {\n        this.webSockOpts = undefined;\n        this.ws = null;\n        this.wsUp = false;\n        this.host = undefined;\n        this.url = undefined;\n        this.pendingEvents = [];\n        this.handlers.clear();\n        this.clusterNodes = [];\n        this.clusterIndex = -1;\n        this.glyphs = [];\n        this.connectRetries = 0;\n        this.openListeners.clear();\n        this.nextListenerId = 1;\n\n    }\n\n    /*\n     * Currently supported opts:\n     *  wsport: web socket port (other than default 8181)\n     *  host:   if defined, is the host address to use\n     */\n    createWebSocket(opts?: WsOptions, host?: string) {\n        this.webSockOpts = opts; // preserved for future calls\n        this.host = host === undefined ? this.window.location.host : host;\n        this.url = this.ufs.wsUrl('core', opts === undefined ? '' : opts['wsport'].toString(), host);\n\n        this.log.debug('Attempting to open websocket to: ' + this.url);\n        this.ws = this.wsock.newWebSocket(this.url);\n        if (this.ws) {\n            // fat arrow => syntax means that the 'this' context passed will\n            // be of WebSocketService, not the WebSocket\n            this.ws.onopen = (() => this.handleOpen());\n            this.ws.onmessage = ((msgEvent) => this.handleMessage(msgEvent));\n            this.ws.onclose = (() => this.handleClose());\n            const authToken = this.window['onosAuth'];\n            this.log.debug('Auth Token for opening WebSocket', authToken);\n            this.sendEvent('authentication', { token: authToken });\n        }\n        // Note: Wsock logs an error if the new WebSocket call fails\n        return this.url;\n    }\n\n    /**\n     * Tell the WebSocket to close - this should call the handleClose() method\n     */\n    closeWebSocket() {\n        this.ws.close();\n    }\n\n\n    /**\n     * Binds the message handlers to their message type (event type) as\n     *  specified in the given map. Note that keys are the event IDs; values\n     *  are either:\n     *     * the event handler function, or\n     *     * an API object which has an event handler for the key\n     */\n    bindHandlers(handlerMap: Map<string, (data) => void>): void {\n        const dups: string[] = [];\n\n        if (this.noHandlersWarn(handlerMap, 'bindHandlers')) {\n            return null;\n        }\n        for (const [eventId, api] of handlerMap) {\n            this.log.debug('Adding handler for ', eventId);\n            const fn = this.fs.isF(api) || this.fs.isF(api[eventId]);\n            if (!fn) {\n                this.log.warn(eventId + ' handler not a function');\n                return;\n            }\n\n            if (this.handlers.get(eventId)) {\n                dups.push(eventId);\n            } else {\n                this.handlers.set(eventId, fn);\n            }\n        }\n        if (dups.length) {\n            this.log.warn('duplicate bindings ignored:', dups);\n        }\n    }\n\n    /**\n     * Unbinds the specified message handlers.\n     *   Expected that the same map will be used, but we only care about keys\n     */\n    unbindHandlers(handlerIds: string[]): void {\n        if ( handlerIds.length === 0 ) {\n            this.log.warn('WSS.unbindHandlers(): no event handlers');\n            return null;\n        }\n        for (const eventId of handlerIds) {\n            this.handlers.delete(eventId);\n        }\n    }\n\n    isHandling(handlerId: string): boolean {\n        return this.handlers.get(handlerId) !== undefined;\n    }\n\n    /**\n     * Add a listener function for listening for WebSocket opening.\n     * The function must give a host and url and return void\n     */\n    addOpenListener(callback: (host: string, url: string) => void ): Callback {\n        const id: number = this.nextListenerId++;\n        const cb = this.fs.isF(callback);\n        const o: Callback = <Callback>{ id: id, cb: cb };\n\n        if (cb) {\n            this.openListeners.set(id, o);\n        } else {\n            this.log.error('WSS.addOpenListener(): callback not a function');\n            o.error = 'No callback defined';\n        }\n        return o;\n    }\n\n    /**\n     * Remove a listener of WebSocket opening\n     */\n    removeOpenListener(lsnr: Callback): void {\n        const id = this.fs.isO(lsnr) && lsnr.id;\n        let o;\n\n        if (!id) {\n            this.log.warn('WSS.removeOpenListener(): invalid listener', lsnr);\n            return null;\n        }\n        o = this.openListeners[id];\n\n        if (o) {\n            this.openListeners.delete(id);\n        }\n    }\n\n    /**\n     * Formulates an event message and sends it via the web-socket.\n     * If the websocket is not up yet, we store it in a pending list.\n     */\n    sendEvent(evType: string, payload: Object ): void {\n        const ev = <EventType> {\n            event: evType,\n            payload: payload\n        };\n\n        if (this.wsUp) {\n            this.send(ev);\n        } else {\n            this.pendingEvents.push(ev);\n        }\n    }\n\n    /**\n     * Binds the veil service as a delegate.\n     */\n    setVeilDelegate(vd: VeilComponent): void {\n        this.vcd = vd;\n    }\n\n    /**\n     * Binds the loading service as a delegate\n     */\n    setLoadingDelegate(ld: any): void {\n        // TODO - Investigate changing Loading Service to LoadingComponent\n        this.log.debug('Loading delegate set', ld);\n        this.lcd = ld;\n    }\n\n    isConnected(): boolean {\n        return this.wsUp;\n    }\n}\n","/*\n * Copyright 2018-present Open Networking Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Component, OnInit } from '@angular/core';\nimport { FnService } from '../../util/fn.service';\nimport { GlyphService } from '../../svg/glyph.service';\nimport { LogService } from '../../log.service';\nimport { SvgUtilService } from '../../svg/svgutil.service';\nimport { WebSocketService } from '../../remote/websocket.service';\n\nconst BIRD = 'bird';\n\n/**\n * ONOS GUI -- Layer -- Veil Component\n *\n * Provides a mechanism to display an overlaying div with information.\n * Used mainly for web socket connection interruption.\n *\n * It can be added to an component's template as follows:\n *     <onos-veil #veil></onos-veil>\n *     <p (click)=\"veil.show(['t1','t2','t3'])\">Test Veil</p>\n */\n@Component({\n  selector: 'onos-veil',\n  template: `<!--\n~ Copyright 2018-present Open Networking Foundation\n~\n~ Licensed under the Apache License, Version 2.0 (the \"License\");\n~ you may not use this file except in compliance with the License.\n~ You may obtain a copy of the License at\n~\n~     http://www.apache.org/licenses/LICENSE-2.0\n~\n~ Unless required by applicable law or agreed to in writing, software\n~ distributed under the License is distributed on an \"AS IS\" BASIS,\n~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n~ See the License for the specific language governing permissions and\n~ limitations under the License.\n-->\n\n<div id=\"veil\" *ngIf=\"enabled\">\n    <p *ngFor=\"let msg of messages\">{{ msg }}</p>\n    <svg [attr.width]=\"fs.windowSize().width\" [attr.height]=\"fs.windowSize().height\">\n        <use [attr.width]=\"birdDim\" [attr.height]=\"birdDim\" class=\"glyph\"\n             style=\"opacity: 0.2;\"\n             xlink:href = \"#bird\" [attr.transform]=\"trans\"/>\n\n    </svg>\n</div>\n`,\n  styles: [`#veil{z-index:5000;display:block;position:absolute;top:0;left:0;padding:60px}#veil p{display:block;text-align:left;font-size:14pt;font-style:italic}`, `#veil,.light{background-color:rgba(0,0,0,.75)}#veil,.dark{background-color:rgba(64,64,64,.75)}#veil p{color:#ddd}#veil svg .glyph{fill:#222}`]\n})\nexport class VeilComponent implements OnInit {\n    ww: number;\n    wh: number;\n    birdSvg: string;\n    birdDim: number;\n    enabled: boolean = false;\n    trans: string;\n    messages: string[] = [];\n    veilStyle: string;\n\n    constructor(\n        public fs: FnService,\n        private gs: GlyphService,\n        private log: LogService,\n        private sus: SvgUtilService,\n        private wss: WebSocketService\n    ) {\n        const wSize = this.fs.windowSize();\n        this.ww = wSize.width;\n        this.wh = wSize.height;\n        const shrink = this.wh * 0.3;\n        this.birdDim = this.wh - shrink;\n        const birdCenter = (this.ww - this.birdDim) / 2;\n        this.trans = this.sus.translate([birdCenter, shrink / 2]);\n\n        this.log.debug('VeilComponent with ' + BIRD + ' constructed');\n    }\n\n    ngOnInit() {\n    }\n\n    // msg should be an array of strings\n    show(msgs: string[]): void {\n        this.messages = msgs;\n        this.enabled = true;\n//        this.ks.enableKeys(false);\n    }\n\n    hide(): void {\n        this.veilStyle = 'display: none';\n//        this.ks.enableKeys(true);\n    }\n\n\n}\n","/*\n * Copyright 2018-present Open Networking Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Component, Input, Output, OnChanges, SimpleChange, EventEmitter } from '@angular/core';\nimport { LogService } from '../../log.service';\nimport { trigger, state, style, animate, transition } from '@angular/animations';\n\n/**\n * ONOS GUI -- Layer -- Flash Component\n *\n * Replaces Flash Service in old GUI.\n * Provides a mechanism to flash short informational messages to the screen\n * to alert the user of something, e.g. \"Hosts visible\" or \"Hosts hidden\".\n *\n * It can be used in a warning mode, where text will appear in red\n * The dwell time (milliseconds) can be controlled or the default is 1200ms\n *\n * To use add an element to the template like\n *   <onos-flash message=\"Hosts visible\" dwell=\"2000\" warning=\"true\"></onos-flash>\n * This whole element can be disabled until needed with an ngIf, but if this is done\n * the animated fade-in and fade-out will not happen\n * There is also a (closed) event that tells you when the message is closed, or\n * fades-out\n */\n@Component({\n    selector: 'onos-flash',\n    template: `<!--\n~ Copyright 2018-present Open Networking Foundation\n~\n~ Licensed under the Apache License, Version 2.0 (the \"License\");\n~ you may not use this file except in compliance with the License.\n~ You may obtain a copy of the License at\n~\n~     http://www.apache.org/licenses/LICENSE-2.0\n~\n~ Unless required by applicable law or agreed to in writing, software\n~ distributed under the License is distributed on an \"AS IS\" BASIS,\n~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n~ See the License for the specific language governing permissions and\n~ limitations under the License.\n-->\n<div id=\"flash\" class=\"dialog\" [ngClass]=\"warning?'warning':''\" [@flashState]=\"visible\">\n    <div id=\"flashBox\" *ngIf=\"visible\">\n        <p id=\"flashText\">{{ message }}</p>\n        <div class=\"dialog-button\" *ngIf=\"dwell>1200\" (click)=\"closeNow()\">Dismiss</div>\n    </div>\n</div>`,\n    styles: [`#flash{position:fixed;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);z-index:1400}#flash.warning div#flashBox{border:2px solid #222;border-radius:10px;background:#fff;padding:10px}#flash div#flashBox{background:#ccc;border-radius:10px;padding:1px}#flash div#flashBox div.dialog-button{-webkit-transform:translateY(-32px);transform:translateY(-32px)}#flash.warning p#flashText{stroke:red;color:red;text-anchor:middle;alignment-baseline:middle;text-align:center;font-size:16pt;border-radius:10px;background:#fff;padding:10px}#flash p#flashText{stroke:none;color:#222;text-anchor:middle;alignment-baseline:middle;text-align:center;font-size:16pt;border-radius:10px;background:#ccc;padding:5px}`, `.dialog h2{margin:0;word-wrap:break-word;display:inline-block;width:210px;vertical-align:middle}.dialog .dialog-button{display:inline-block;cursor:pointer;height:20px;padding:6px 8px 2px;margin:4px;float:right}`, `.dialog .dialog-button{background-color:#518ecc;color:#fff}.dark .dialog .dialog-button{background-color:#345e85;color:#cccccd}`],\n    animations: [\n        trigger('flashState', [\n            state('false', style({\n//                transform: 'translateY(-400%)',\n                opacity: '0.0',\n            })),\n            state('true', style({\n//                transform: 'translateY(0%)',\n                opacity: '1.0',\n            })),\n            transition('0 => 1', animate('200ms ease-in')),\n            transition('1 => 0', animate('200ms ease-out'))\n        ])\n    ]\n})\nexport class FlashComponent implements OnChanges {\n    @Input() message: string;\n    @Input() dwell: number = 1200; // milliseconds\n    @Input() warning: boolean = false;\n    @Output() closed: EventEmitter<boolean> = new EventEmitter();\n\n    public visible: boolean = false;\n\n    /**\n     * Flash a message up for 1200ms then disappear again.\n     * See animation parameter for the ease in and ease out params\n     */\n    ngOnChanges(changes: {[propertyName: string]: SimpleChange}) {\n        if (changes['message'] && this.message && this.message !== '') {\n            this.visible = true;\n\n            setTimeout(() => {\n                this.visible = false;\n                this.closed.emit(false);\n            }, this.dwell);\n        }\n    }\n\n    /**\n     * The message will flash up for 'dwell' milliseconds\n     * If dwell is > 2000ms, then there will be a button that allows it to be dismissed now\n     */\n    closeNow() {\n        this.visible = false;\n        this.closed.emit(false);\n    }\n}\n","/*\n * Copyright 2018-present Open Networking Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nimport { Injectable } from '@angular/core';\nimport { LogService } from '../log.service';\nimport { WebSocketService } from '../remote/websocket.service';\n\n/**\n * A definition of Lion data\n */\nexport interface Lion {\n    locale: any;\n    lion: any;\n}\n\n/**\n * ONOS GUI -- Lion -- Localization Utilities\n */\n@Injectable({\n  providedIn: 'root',\n})\nexport class LionService {\n\n    ubercache: any[] = [];\n    loadCbs = new Map<string, () => void>([]); // A map of functions\n\n    /**\n     * Handler for uberlion event from WSS\n     */\n    uberlion(data: Lion) {\n        this.ubercache = data.lion;\n\n        this.log.info('LION service: Locale... [' + data.locale + ']');\n        this.log.info('LION service: Bundles installed...');\n\n        for (const p in this.ubercache) {\n            if (this.ubercache[p]) {\n                this.log.info('            :=> ', p);\n            }\n        }\n        // If any component had registered a callback, call it now\n        // that LION is loaded\n        for (const cbname of this.loadCbs.keys()) {\n            this.log.debug('Updating', cbname, 'with LION');\n            this.loadCbs.get(cbname)();\n        }\n\n        this.log.debug('LION service: uber-lion bundle received:', data);\n    }\n\n    constructor(\n        private log: LogService,\n        private wss: WebSocketService\n    ) {\n        this.wss.bindHandlers(new Map<string, (data) => void>([\n            ['uberlion', (data) => this.uberlion(data) ]\n        ]));\n        this.log.debug('LionService constructed');\n    }\n\n    /**\n     * Returns a lion bundle (function) for the given bundle ID (string)\n     * returns a function that takes a string and returns a string\n     */\n    bundle(bundleId: string): (string) => string {\n        let bundleObj = this.ubercache[bundleId];\n\n        if (!bundleObj) {\n            this.log.warn('No lion bundle registered:', bundleId);\n            bundleObj = {};\n        }\n\n        return (key) =>  {\n            return bundleObj[key] || '%' + key + '%';\n        };\n    }\n}\n","/*\n * Copyright 2018-present Open Networking Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Component, Input, Output, EventEmitter } from '@angular/core';\nimport { trigger, state, style, animate, transition } from '@angular/animations';\nimport { LogService } from '../../log.service';\nimport { LionService } from '../../util/lion.service';\n\n/**\n * ONOS GUI -- Layer -- Confirm Component\n *\n * Replaces Flash Service in old GUI.\n * Provides a mechanism to present a confirm dialog to the screen\n *\n * To use add an element to the template like\n *   <onos-confirm message=\"Performing something dangerous. Would you like to proceed\"></onos-flash>\n *\n * An event is raised with either OK or Cancel\n */\n@Component({\n    selector: 'onos-confirm',\n    template: `<!--\n~ Copyright 2018-present Open Networking Foundation\n~\n~ Licensed under the Apache License, Version 2.0 (the \"License\");\n~ you may not use this file except in compliance with the License.\n~ You may obtain a copy of the License at\n~\n~     http://www.apache.org/licenses/LICENSE-2.0\n~\n~ Unless required by applicable law or agreed to in writing, software\n~ distributed under the License is distributed on an \"AS IS\" BASIS,\n~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n~ See the License for the specific language governing permissions and\n~ limitations under the License.\n-->\n<div id=\"app-dialog\" class=\"floatpanel dialog\" [@confirmDlgState]=\"message!==''\">\n    <h3> {{ title }} </h3>\n    <p>{{ message }}</p>\n    <p *ngIf=\"warning\" class=\"warning strong\">{{ warning }}</p>\n    <div tabindex=\"10\" class=\"dialog-button\" (click)=\"choice(true)\">OK</div>\n    <div tabindex=\"11\" class=\"dialog-button\" (click)=\"choice(false)\">Cancel</div>\n</div>\n`,\n    styles: [`#app-dialog{top:140px;padding:12px}#app-dialog h3{display:inline-block;font-weight:700;font-size:18pt}#app-dialog p{font-size:12pt}#app-dialog p.strong{font-weight:700;padding:8px;text-align:center}`, `#app-dialog.floatpanel.dialog{background-color:#fff}#app-dialog p.strong{color:#fff;background-color:#ce5b58}`, `.dialog h2{margin:0;word-wrap:break-word;display:inline-block;width:210px;vertical-align:middle}.dialog .dialog-button{display:inline-block;cursor:pointer;height:20px;padding:6px 8px 2px;margin:4px;float:right}`, `.dialog .dialog-button{background-color:#518ecc;color:#fff}.dark .dialog .dialog-button{background-color:#345e85;color:#cccccd}`, `.floatpanel{position:absolute;z-index:100;display:block;top:160px;width:544px;right:-550px;opacity:100;padding:2px;font-size:10pt;background-color:#fff;color:#3c3a3a;border:1px solid #c7c7c0}.floatpanel hr{border:1px solid #c7c7c0}.floatpanel .bottom tr:nth-child(odd){background-color:#f4f4f4}.floatpanel .bottom tr:nth-child(even){background-color:#fbfbfb}.floatpanel.dialog{top:180px}html[data-platform=iPad] .floatpanel{top:80px}`, `.light .floatpanel{background-color:#fff;color:#3c3a3a;border:1px solid #c7c7c0}.light .floatpanel hr{border:1px solid #c7c7c0}.light .floatpanel .bottom tr:nth-child(odd){background-color:#f4f4f4}.light .floatpanel .bottom tr:nth-child(even){background-color:#fbfbfb}.dark .floatpanel{background-color:#282528;color:#888c8c;border:1px solid #364144}.dark .floatpanel th{background-color:#242424}.dark .floatpanel h2{color:#ddd}.dark .floatpanel hr{border:1px solid #30303a}.dark .floatpanel .bottom tr:nth-child(odd){background-color:#333}.dark .floatpanel .bottom tr:nth-child(even){background-color:#3a3a3a}`],\n    animations: [\n        trigger('confirmDlgState', [\n            state('true', style({\n                transform: 'translateX(-100%)',\n                opacity: '100'\n            })),\n            state('false', style({\n                transform: 'translateX(0%)',\n                opacity: '0'\n            })),\n            transition('0 => 1', animate('100ms ease-in')),\n            transition('1 => 0', animate('100ms ease-out'))\n        ])\n    ]\n})\nexport class ConfirmComponent {\n\n    lionFn; // Function\n\n    @Input() message: string;\n    @Input() warning: string;\n    @Input() title: string;\n    @Output() chosen: EventEmitter<boolean> = new EventEmitter();\n\n    constructor(\n        private log: LogService,\n        private lion: LionService,\n    ) {\n        this.log.debug('ConfirmComponent constructed');\n        this.doLion();\n    }\n\n    /**\n     * When OK or Cancel is pressed, send an event to parent with choice\n     */\n    choice(chosen: boolean): void {\n        this.chosen.emit(chosen);\n    }\n\n    /**\n     * Read the LION bundle for App to get confirm dialouge header\n     */\n    doLion() {\n        this.lionFn = this.lion.bundle('core.view.App');\n    }\n}\n","/*\n * Copyright 2018-present Open Networking Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { FnService } from '../util/fn.service';\nimport { LogService } from '../log.service';\n\nexport interface UiView {\n    id: string;\n    icon: string;\n    cat: string;\n    label: string;\n}\n\n/**\n * ONOS GUI -- Navigation Service\n */\n@Injectable({\n  providedIn: 'root',\n})\nexport class NavService {\n    public showNav = false;\n\n    uiPlatformViews = new Array<UiView>();\n    uiNetworkViews = new Array<UiView>();\n    uiOtherViews = new Array<UiView>();\n    uiHiddenViews = new Array<UiView>();\n\n    constructor(\n        private _fn_: FnService,\n        private log: LogService,\n        private httpClient: HttpClient\n    ) {\n        this.log.debug('NavService constructed');\n    }\n\n    hideNav() {\n        this.showNav = false;\n        this.log.debug('Hiding Nav menu');\n    }\n\n    toggleNav() {\n        this.showNav = !this.showNav;\n        if (this.showNav) {\n            this.log.debug('Showing Nav menu');\n        } else {\n            this.log.debug('Hiding Nav menu');\n        }\n    }\n\n    getUiViews() {\n        this.uiPlatformViews = new Array<UiView>();\n        this.uiNetworkViews = new Array<UiView>();\n        this.uiOtherViews = new Array<UiView>();\n        this.uiHiddenViews = new Array<UiView>();\n        this.httpClient.get('rs/nav/uiextensions').subscribe((v: UiView[]) => {\n            v.forEach((uiView: UiView) => {\n                if (uiView.cat === 'PLATFORM') {\n                    this.uiPlatformViews.push(uiView);\n                } else if (uiView.cat === 'NETWORK') {\n                    if ( uiView.id !== 'topo') {\n                        this.uiNetworkViews.push(uiView);\n                    } else {\n                        this.uiNetworkViews.push(<UiView>{\n                            id: 'topo2',\n                            icon: 'nav_topo',\n                            cat: 'NETWORK',\n                            label: uiView.label\n                        });\n                    }\n                } else if (uiView.cat === 'HIDDEN') {\n                    this.uiHiddenViews.push(uiView);\n                } else {\n                    this.uiOtherViews.push(uiView);\n                }\n            });\n        });\n    }\n\n}\n","/*\n * Copyright 2018-present Open Networking Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Component, Input, OnInit, OnDestroy, Inject, NgZone } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { LionService } from '../../util/lion.service';\nimport { LogService } from '../../log.service';\nimport { NavService } from '../../nav/nav.service';\nimport { WebSocketService } from '../../remote/websocket.service';\n\n/**\n * ONOS GUI -- Masthead Component\n */\n@Component({\n  selector: 'onos-mast',\n  template: `<!--\n~ Copyright 2018-present Open Networking Foundation\n~\n~ Licensed under the Apache License, Version 2.0 (the \"License\");\n~ you may not use this file except in compliance with the License.\n~ You may obtain a copy of the License at\n~\n~     http://www.apache.org/licenses/LICENSE-2.0\n~\n~ Unless required by applicable law or agreed to in writing, software\n~ distributed under the License is distributed on an \"AS IS\" BASIS,\n~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n~ See the License for the specific language governing permissions and\n~ limitations under the License.\n-->\n<div id=\"mast-top-block\"></div>\n<!-- The mast-top-block is an inline display element that pushes any\n  subsequent elements down the page. It has a height of 48px\n     The mast block overlays the mast-top-block. It is is positioned\n     absolutely so that the nav component can slide in behind it when\n     not shown -->\n<div id=\"mast\" align=\"left\">\n    <span class=\"nav-menu-button clickable\" (click)=\"ns.toggleNav()\">\n        <img src=\"data/img/nav-menu-mojo.png\"/>\n    </span>\n    <img class=\"logo\" src=\"data/img/masthead-logo-mojo.png\">\n    <onos-confirm title=\"{{ lionFn('ui_ok_to_update') }}\" message=\"{{ confirmMessage }}\" warning=\"{{ strongWarning }}\" (chosen)=\"dOk($event)\"></onos-confirm>\n    <div id=\"mast-right\">\n        <nav>\n            <div class=\"dropdown-parent\">\n                <a class=\"clickable user-menu__name\">{{ username }} <i class=\"dropdown-icon\"></i></a>\n                <div class=\"dropdown\">\n                    <a href=\"rs/logout\"> {{ lionFn('logout') }} </a>\n                </div>\n            </div>\n            <div class=\"ctrl-btns\">\n                <div class=\"active clickable icon\" (click)=\"directTo()\">\n                    <onos-icon iconId=\"query\" iconSize=\"32\" toolTip=\"{{ lionFn('tt_help') }}\"></onos-icon>\n                </div>\n            </div>\n        </nav>\n\n    </div>\n</div>\n`,\n  styles: [`#mast-top-block{display:block;z-index:-1;height:48px;width:100%}#mast{position:absolute;width:100%;top:0;height:48px;padding:0;z-index:10000}#mast a:hover{text-decoration:none}html[data-platform=iPad] #mast{padding-top:16px}#mast .nav-menu-button{display:inline-block;vertical-align:middle;text-align:center;line-height:48px;padding:0 12px;cursor:pointer;cursor:hand;font-size:0}#mast .nav-menu-button img{width:25px;vertical-align:middle}#mast .logo{height:47px;width:511px;vertical-align:bottom}#mast-right{display:inline-block;float:right;position:relative;top:0;padding-right:15px;line-height:48px}#mast-right div.ctrl-btns{float:right}#mast-right div.icon{box-sizing:border-box;position:relative;height:48px;width:48px;padding:9px}#mast .dropdown-parent{position:relative;float:right}#mast .dropdown-parent i.dropdown-icon{display:inline-block;height:7px;width:9px;margin-left:10px;background:url(data/img/dropdown-icon.png) no-repeat}#mast .dropdown{position:absolute;top:40px;right:-8px;display:none;min-width:100px;line-height:16px;font-size:12pt;z-index:1000}#mast .dropdown a{text-decoration:none;font-size:12px;display:block;padding:8px 16px 6px 12px}#mast .dropdown-parent:hover .dropdown{display:block}#mast .dropdown-parent:hover i.dropdown-icon{background-position-x:-14px}html[data-platform=iPad] #mast .dropdown{top:57px}`, `#mast{background-color:#231f20}#mast .nav-menu-button:hover{background-color:#888}#mast nav,#mast-right a{color:#009fdb}#mast .dropdown{background-color:#231f20;border:1px solid #ddd}#mast .dropdown a{color:#009fdb;border-bottom:1px solid #444}#mast .dropdown a:hover{color:#fff}`]\n})\nexport class MastComponent implements OnInit, OnDestroy {\n    @Input() username: string;\n\n    lionFn; // Function\n    viewMap = new Map<string, string>([]); // A map of app names\n    confirmMessage: string = '';\n    strongWarning: string = '';\n\n    constructor(\n        private lion: LionService,\n        private log: LogService,\n        public ns: NavService,\n        private wss: WebSocketService,\n        private router: Router,\n        private zone: NgZone,\n        @Inject('Window') private window: any,\n    ) {\n        this.viewMap.set('apps', 'https://wiki.onosproject.org/display/ONOS/GUI+Application+View');\n        this.viewMap.set('device', 'https://wiki.onosproject.org/display/ONOS/GUI+Device+View');\n        this.viewMap.set('', 'https://wiki.onosproject.org/display/ONOS/The+ONOS+Web+GUI');\n    }\n\n    ngOnInit() {\n        if (this.lion.ubercache.length === 0) {\n            this.lionFn = this.dummyLion;\n            this.lion.loadCbs.set('mast', () => this.doLion());\n            this.log.debug('LION not available when MastComponent initialized');\n        } else {\n            this.doLion();\n        }\n\n        this.wss.bindHandlers(new Map<string, (data) => void>([\n            ['guiRemoved', (data) => this.triggerRefresh(data, false) ],\n            ['guiAdded', (data) => this.triggerRefresh(data, true) ]\n        ]));\n        this.log.debug('MastComponent initialized');\n    }\n\n    /**\n     * Nav component should never be closed, but in case it does, it's\n     * safer to tidy up after itself\n     */\n    ngOnDestroy() {\n        this.lion.loadCbs.delete('mast');\n    }\n\n    /**\n    * Read the LION bundle for App and set up the lionFn\n    */\n    doLion() {\n        this.lionFn = this.lion.bundle('core.fw.Mast');\n        if (this.username === undefined) {\n            this.username = this.lionFn('unknown_user');\n        }\n    }\n\n    /**\n    * A dummy implementation of the lionFn until the response is received and the LION\n    * bundle is received from the WebSocket\n    */\n    dummyLion(key: string): string {\n        return '%' + key + '%';\n    }\n\n    directTo() {\n        const curId = this.window.location.pathname.replace('/', '');\n        let helpUrl: string = this.viewMap.get(curId);\n        if (helpUrl === undefined) {\n            helpUrl = this.viewMap.get('');\n            this.log.warn('No help file linked for view:', curId);\n        }\n        this.window.open(helpUrl);\n    }\n\n    triggerRefresh(data: any, added: boolean): void {\n        this.confirmMessage = this.lionFn(added ? 'uicomp_added' : 'uicomp_removed');\n        this.log.debug('Refresh has been triggered - item', added ? 'added' : 'removed', ' - ', data);\n    }\n\n    /**\n     * Callback when the Confirm dialog is shown and a choice is made\n     */\n    dOk(choice: boolean) {\n        if (choice) {\n            this.ns.getUiViews();\n            this.router.navigate(['/']);\n            this.zone.runOutsideAngular(() => {\n                location.reload();\n            });\n            this.log.debug('Refresh confirmed'); // Will not be printed if page reloads\n\n        } else {\n            this.log.debug('Refresh cancelled');\n        }\n        this.confirmMessage = '';\n        this.strongWarning = '';\n    }\n}\n","/*\n * Copyright 2018-present Open Networking Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Pipe, PipeTransform } from '@angular/core';\nimport { TableFilter } from './table.base';\n\n/**\n * Only return the tabledata that matches filtering with some queries\n *\n * Note: the pipe is marked pure here as we need to filter on the\n * content of the filter object (it's not a primitive type)\n */\n@Pipe({\n  name: 'filter',\n  pure: false\n})\nexport class TableFilterPipe implements PipeTransform {\n\n    /**\n     * From an array of table items just return those that match the filter\n     */\n    transform(items: any[], tableDataFilter: TableFilter): any[] {\n        if (!items) {\n            return [];\n        }\n        if (!tableDataFilter.queryStr) {\n            return items;\n        }\n\n        const queryStr = tableDataFilter.queryStr.toLowerCase();\n\n        return items.filter( it => {\n            if (tableDataFilter.queryBy === '$') {\n                const t1 = Object.values(it);\n                const t2 = Object.values(it).filter(value => {\n                               return (<string>value).toLowerCase().includes(queryStr);\n                           });\n                return Object.values(it).filter(value => {\n                    return (<string>value).toLowerCase().includes(queryStr);\n                }).length > 0;\n            } else {\n                return it[tableDataFilter.queryBy].toLowerCase().includes(queryStr);\n            }\n        });\n    }\n}\n","/*\n * Copyright 2018-present Open Networking Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Injectable } from '@angular/core';\nimport { FnService } from '../util/fn.service';\nimport { LogService } from '../log.service';\n\nconst PADMOBILE = 16;\n\n/**\n * ONOS GUI -- Masthead Service\n */\n@Injectable({\n  providedIn: 'root',\n})\nexport class MastService {\n\n  public mastHeight = 48;\n\n  constructor(\n    private fs: FnService,\n    private log: LogService\n  ) {\n    if (this.fs.isMobile()) {\n        this.mastHeight += PADMOBILE;\n    }\n\n    this.log.debug('MastService constructed');\n  }\n\n}\n","/*\n * Copyright 2018-present Open Networking Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { AfterContentChecked, Directive, Inject } from '@angular/core';\nimport { FnService } from '../util/fn.service';\nimport { LogService } from '../log.service';\nimport { MastService } from '../mast/mast.service';\nimport { HostListener } from '@angular/core';\nimport * as d3 from 'd3';\n\n/**\n * ONOS GUI -- Widget -- Table Resize Directive\n */\n@Directive({\n    selector: '[onosTableResize]',\n})\nexport class TableResizeDirective implements AfterContentChecked {\n\n    pdg = 22;\n    tables: any;\n\n    constructor(protected fs: FnService,\n        protected log: LogService,\n        protected mast: MastService,\n        @Inject('Window') private w: any) {\n\n        log.info('TableResizeDirective constructed');\n    }\n\n    ngAfterContentChecked() {\n        this.tables = {\n            thead: d3.select('div.table-header').select('table'),\n            tbody: d3.select('div.table-body').select('table')\n        };\n        this.windowSize(this.tables);\n    }\n\n    windowSize(tables: any) {\n        const wsz = this.fs.windowSize(0, 30);\n        this.adjustTable(tables, wsz.width, wsz.height);\n    }\n\n    @HostListener('window:resize', ['$event.target'])\n    onResize(event: any) {\n        this.windowSize(this.tables);\n        return {\n            h: this.w.innerHeight,\n            w: this.w.innerWidth\n        };\n    }\n\n    adjustTable(tables: any, width: number, height: number) {\n        this._width(tables.thead, width + 'px');\n        this._width(tables.tbody, width + 'px');\n\n        this.setHeight(tables.thead, d3.select('div.table-body'), height);\n    }\n\n    _width(elem, width) {\n        elem.style('width', width);\n    }\n\n    setHeight(thead: any, body: any, height: number) {\n        const h = height - (this.mast.mastHeight +\n            this.fs.noPxStyle(d3.select('.tabular-header'), 'height') +\n            this.fs.noPxStyle(thead, 'height') + this.pdg);\n        body.style('height', h + 'px');\n    }\n\n}\n","/*\n * Copyright 2018-present Open Networking Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Injectable } from '@angular/core';\nimport * as d3 from 'd3';\nimport { LogService } from '../log.service';\nimport { FnService } from '../util/fn.service';\nimport { LionService } from './lion.service';\nimport { NavService } from '../nav/nav.service';\n\nexport interface KeyHandler {\n    globalKeys: Object;\n    maskedKeys: Object;\n    dialogKeys: Object;\n    viewKeys: any;\n    viewFn: any;\n    viewGestures: string[][];\n}\n\nexport enum KeysToken {\n    KEYEV = 'keyev'\n}\n\n/**\n * ONOS GUI -- Keys Service Module.\n */\n@Injectable({\n    providedIn: 'root',\n})\nexport class KeysService {\n    enabled: boolean = true;\n    globalEnabled: boolean = true;\n    keyHandler: KeyHandler = <KeyHandler>{\n        globalKeys: {},\n        maskedKeys: {},\n        dialogKeys: {},\n        viewKeys: {},\n        viewFn: null,\n        viewGestures: [],\n    };\n\n    seq: any = {};\n    matching: boolean = false;\n    matched: string = '';\n    lookup: any;\n    textFieldDoesNotBlock: any = {\n        enter: 1,\n        esc: 1,\n    };\n    quickHelpShown: boolean = false;\n\n    constructor(\n        protected log: LogService,\n        protected fs: FnService,\n        protected ls: LionService,\n        protected ns: NavService\n    ) {\n        this.log.debug('KeyService constructed');\n    }\n\n    installOn(elem) {\n        this.log.debug('Installing keys handler');\n        elem.on('keydown', () => { this.keyIn(); });\n        this.setupGlobalKeys();\n    }\n\n    keyBindings(x) {\n        if (x === undefined) {\n            return this.getKeyBindings();\n        } else {\n            this.setKeyBindings(x);\n        }\n    }\n\n    unbindKeys() {\n        this.keyHandler.viewKeys = {};\n        this.keyHandler.viewFn = null;\n        this.keyHandler.viewGestures = [];\n    }\n\n    dialogKeys(x) {\n        if (x === undefined) {\n            this.unbindDialogKeys();\n        } else {\n            this.bindDialogKeys(x);\n        }\n    }\n\n    addSeq(word, data) {\n        this.fs.addToTrie(this.seq, word, data);\n    }\n\n    remSeq(word) {\n        this.fs.removeFromTrie(this.seq, word);\n    }\n\n    gestureNotes(g?) {\n        if (g === undefined) {\n            return this.keyHandler.viewGestures;\n        } else {\n            this.keyHandler.viewGestures = this.fs.isA(g) || [];\n        }\n    }\n\n    enableKeys(b) {\n        this.enabled = b;\n    }\n\n    enableGlobalKeys(b) {\n        this.globalEnabled = b;\n    }\n\n    checkNotGlobal(o) {\n        const oops = [];\n        if (this.fs.isO(o)) {\n            o.forEach((val, key) => {\n                if (this.keyHandler.globalKeys[key]) {\n                    oops.push(key);\n                }\n            });\n            if (oops.length) {\n                this.log.warn('Ignoring reserved global key(s):', oops.join(','));\n                oops.forEach((key) => {\n                    delete o[key];\n                });\n            }\n        }\n    }\n\n    protected matchSeq(key) {\n        if (!this.matching && key === 'shift-shift') {\n            this.matching = true;\n            return true;\n        }\n        if (this.matching) {\n            this.matched += key;\n            this.lookup = this.fs.trieLookup(this.seq, this.matched);\n            if (this.lookup === -1) {\n                return true;\n            }\n            this.matching = false;\n            this.matched = '';\n            if (!this.lookup) {\n                return;\n            }\n            // ee.cluck(lookup);\n            return true;\n        }\n    }\n\n    protected whatKey(code: number): string {\n        switch (code) {\n            case 8: return 'delete';\n            case 9: return 'tab';\n            case 13: return 'enter';\n            case 16: return 'shift';\n            case 27: return 'esc';\n            case 32: return 'space';\n            case 37: return 'leftArrow';\n            case 38: return 'upArrow';\n            case 39: return 'rightArrow';\n            case 40: return 'downArrow';\n            case 186: return 'semicolon';\n            case 187: return 'equals';\n            case 188: return 'comma';\n            case 189: return 'dash';\n            case 190: return 'dot';\n            case 191: return 'slash';\n            case 192: return 'backQuote';\n            case 219: return 'openBracket';\n            case 220: return 'backSlash';\n            case 221: return 'closeBracket';\n            case 222: return 'quote';\n            default:\n                if ((code >= 48 && code <= 57) ||\n                    (code >= 65 && code <= 90)) {\n                    return String.fromCharCode(code);\n                } else if (code >= 112 && code <= 123) {\n                    return 'F' + (code - 111);\n                }\n                return null;\n        }\n    }\n\n    protected textFieldInput() {\n        const t = d3.event.target.tagName.toLowerCase();\n        return t === 'input' || t === 'textarea';\n    }\n\n    protected keyIn() {\n        const event = d3.event;\n        // d3.events can set the keyCode, but unit tests based on KeyboardEvent\n        // cannot set keyCode since the attribute has been deprecated\n        const code = event.keyCode ? event.keyCode : event.code;\n        let key = this.whatKey(Number.parseInt(code));\n        this.log.debug('Key detected', event, key, event.code, event.keyCode);\n        const textBlockable = !this.textFieldDoesNotBlock[key];\n        const modifiers = [];\n\n        if (event.metaKey) {\n            modifiers.push('cmd');\n        }\n        if (event.altKey) {\n            modifiers.push('alt');\n        }\n        if (event.shiftKey) {\n            modifiers.push('shift');\n        }\n\n        if (!key) {\n            return;\n        }\n\n        modifiers.push(key);\n        key = modifiers.join('-');\n\n        if (textBlockable && this.textFieldInput()) {\n            return;\n        }\n\n        const kh: KeyHandler = this.keyHandler;\n        const gk = kh.globalKeys[key];\n        const gcb = this.fs.isF(gk) || (this.fs.isA(gk) && this.fs.isF(gk[0]));\n        const dk = kh.dialogKeys[key];\n        const dcb = this.fs.isF(dk);\n        const vk = kh.viewKeys[key];\n        const kl = this.fs.isF(kh.viewKeys._keyListener);\n        const vcb = this.fs.isF(vk) || (this.fs.isA(vk) && this.fs.isF(vk[0])) || this.fs.isF(kh.viewFn);\n        const token: KeysToken = KeysToken.KEYEV; // indicate this was a key-pressed event\n\n        event.stopPropagation();\n\n        if (this.enabled) {\n            if (this.matchSeq(key)) {\n                return;\n            }\n\n            // global callback?\n            if (gcb && gcb(token, key, code, event)) {\n                // if the event was 'handled', we are done\n                return;\n            }\n            // dialog callback?\n            if (dcb) {\n                dcb(token, key, code, event);\n                // assume dialog handled the event\n                return;\n            }\n            // otherwise, let the view callback have a shot\n            if (vcb) {\n                this.log.debug('Letting view callback have a shot', vcb, token, key, code, event );\n                vcb(token, key, code, event);\n            }\n            if (kl) {\n                kl(key);\n            }\n        }\n    }\n\n    // functions to obtain localized strings deferred from the setup of the\n    //  global key data structures.\n    protected qhlion() {\n        return this.ls.bundle('core.fw.QuickHelp');\n    }\n    protected qhlionShowHide() {\n        return this.qhlion()('qh_hint_show_hide_qh');\n    }\n\n    protected qhlionHintEsc() {\n        return this.qhlion()('qh_hint_esc');\n    }\n\n    protected qhlionHintT() {\n        return this.qhlion()('qh_hint_t');\n    }\n\n    protected setupGlobalKeys() {\n        Object.assign(this.keyHandler, {\n            globalKeys: {\n                backSlash: [(view, key, code, ev) => this.quickHelp(view, key, code, ev), this.qhlionShowHide],\n                slash: [(view, key, code, ev) => this.quickHelp(view, key, code, ev), this.qhlionShowHide],\n                esc: [(view, key, code, ev) => this.escapeKey(view, key, code, ev), this.qhlionHintEsc],\n                T: [(view, key, code, ev) => this.toggleTheme(view, key, code, ev), this.qhlionHintT],\n            },\n            globalFormat: ['backSlash', 'slash', 'esc', 'T'],\n\n            // Masked keys are global key handlers that always return true.\n            // That is, the view will never see the event for that key.\n            maskedKeys: {\n                slash: 1,\n                backSlash: 1,\n                T: 1,\n            },\n        });\n    }\n\n    protected quickHelp(view, key, code, ev) {\n        if (!this.globalEnabled) {\n            return false;\n        }\n        this.quickHelpShown = !this.quickHelpShown;\n        return true;\n    }\n\n    // returns true if we 'consumed' the ESC keypress, false otherwise\n    protected escapeKey(view, key, code, ev) {\n        this.quickHelpShown = false;\n        return this.ns.hideNav();\n    }\n\n    protected toggleTheme(view, key, code, ev) {\n        if (!this.globalEnabled) {\n            return false;\n        }\n        // ts.toggleTheme();\n        return true;\n    }\n\n    protected filterMaskedKeys(map: any, caller: any, remove: boolean): any[] {\n        const masked = [];\n        const msgs = [];\n\n        d3.map(map).keys().forEach((key) => {\n            if (this.keyHandler.maskedKeys[key]) {\n                masked.push(key);\n                msgs.push(caller, ': Key \"' + key + '\" is reserved');\n            }\n        });\n\n        if (msgs.length) {\n            this.log.warn(msgs.join('\\n'));\n        }\n\n        if (remove) {\n            masked.forEach((k) => {\n                delete map[k];\n            });\n        }\n        return masked;\n    }\n\n    protected unexParam(fname, x) {\n        this.log.warn(fname, ': unexpected parameter-- ', x);\n    }\n\n    protected setKeyBindings(keyArg) {\n        const fname = 'setKeyBindings()';\n        const kFunc = this.fs.isF(keyArg);\n        const kMap = this.fs.isO(keyArg);\n\n        if (kFunc) {\n            // set general key handler callback\n            this.keyHandler.viewFn = kFunc;\n        } else if (kMap) {\n            this.filterMaskedKeys(kMap, fname, true);\n            this.keyHandler.viewKeys = kMap;\n        } else {\n            this.unexParam(fname, keyArg);\n        }\n    }\n\n    getKeyBindings() {\n        const gkeys = d3.map(this.keyHandler.globalKeys).keys();\n        const masked = d3.map(this.keyHandler.maskedKeys).keys();\n        const vkeys = d3.map(this.keyHandler.viewKeys).keys();\n        const vfn = !!this.fs.isF(this.keyHandler.viewFn);\n\n        return {\n            globalKeys: gkeys,\n            maskedKeys: masked,\n            viewKeys: vkeys,\n            viewFunction: vfn,\n        };\n    }\n\n    protected bindDialogKeys(map) {\n        const fname = 'bindDialogKeys()';\n        const kMap = this.fs.isO(map);\n\n        if (kMap) {\n            this.filterMaskedKeys(map, fname, true);\n            this.keyHandler.dialogKeys = kMap;\n        } else {\n            this.unexParam(fname, map);\n        }\n    }\n\n    protected unbindDialogKeys() {\n        this.keyHandler.dialogKeys = {};\n    }\n\n}\n","/*\n * Copyright 2019-present Open Networking Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {Component} from '@angular/core';\nimport {animate, state, style, transition, trigger} from '@angular/animations';\nimport {LogService} from '../../log.service';\nimport {FnService} from '../../util/fn.service';\nimport {KeysService} from '../../util/keys.service';\nimport {LionService} from '../../util/lion.service';\n\n\n@Component({\n    selector: 'onos-quickhelp',\n    template: `<!--\n~ Copyright 2019-present Open Networking Foundation\n~\n~ Licensed under the Apache License, Version 2.0 (the \"License\");\n~ you may not use this file except in compliance with the License.\n~ You may obtain a copy of the License at\n~\n~     http://www.apache.org/licenses/LICENSE-2.0\n~\n~ Unless required by applicable law or agreed to in writing, software\n~ distributed under the License is distributed on an \"AS IS\" BASIS,\n~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n~ See the License for the specific language governing permissions and\n~ limitations under the License.\n-->\n<div id=\"quickhelp\" [@quickHelpState]=\"ks.quickHelpShown\">\n    <div class=\"help\" *ngIf=\"ks.quickHelpShown\">\n        <p class=\"title\">{{lionFn(\"qh_title\")}}</p>\n        <!-- TODO: drive this through the keys service keyHandler -->\n        <table class=\"qhrow\">\n            <tr>\n                <td class=\"key\">&#92;</td>\n                <td class=\"desc\">Afficher/cacher l'aide rapide</td>\n            </tr>\n            <tr>\n                <td class=\"key\">/</td>\n                <td class=\"desc\">Afficher/cacher l'aide rapide</td>\n            </tr>\n            <tr>\n                <td class=\"key\">Esc</td>\n                <td class=\"desc\">ignorer la bote de dialogue ou annuler les\n                    slections\n                </td>\n            </tr>\n            <tr>\n                <td class=\"key\">T</td>\n                <td class=\"desc\">basculer de thme</td>\n            </tr>\n        </table>\n        <hr class=\"qhrowsep\">\n        <table class=\"qhrow\">\n            <tr>\n                <td class=\"key\">I</td>\n                <td class=\"desc\">Basculer au panneau de instance\n                    ONOS\n                </td>\n                <td class=\"key\">O</td>\n                <td class=\"desc\">Baculer au panneau rcapitulatif\n                    ONOS\n                </td>\n                <td class=\"key\">D</td>\n                <td class=\"desc\">Basculer le panneau de dtails</td>\n            </tr>\n            <tr>\n                <td class=\"key\">H</td>\n                <td class=\"desc\">Basculer la visibilit de l'hte\n                </td>\n                <td class=\"key\">M</td>\n                <td class=\"desc\">Basculer la visibilit hors-ligne\n                </td>\n                <td class=\"key\">P</td>\n                <td class=\"desc\">Basculer le port mis en vidence\n                </td>\n            </tr>\n            <tr>\n                <td class=\"key\">Dash</td>\n                <td class=\"desc\">Montrer les mauvais liens</td>\n                <td class=\"key\">B</td>\n                <td class=\"desc\">Basculer la carte go de fond</td>\n                <td class=\"key\">G</td>\n                <td class=\"desc\">Slectionner la carte go de fond\n                </td>\n            </tr>\n            <tr>\n                <td class=\"key\">S</td>\n                <td class=\"desc\">Toggle sprite layer</td>\n                <td class=\"key\" y=\"0\">X</td>\n                <td class=\"desc\" y=\"0\" x=\"33.53125\">rinitialiser la\n                    carte des noeuds\n                </td>\n                <td class=\"key\">Z</td>\n                <td class=\"desc\">Basculer la vue oblique\n                    (exprimental)\n                </td>\n            </tr>\n            <tr>\n                <td class=\"key\">N</td>\n                <td class=\"desc\">cycle couche de noeuds</td>\n                <td class=\"key\">L</td>\n                <td class=\"desc\">Parcourir tiquettes appareils</td>\n                <td class=\"key\">Shift-l</td>\n                <td class=\"desc\">Parcourir tiquettes hte</td>\n            </tr>\n            <tr>\n                <td class=\"key\">U</td>\n                <td class=\"desc\">survoler avec la souris</td>\n                <td class=\"key\">R</td>\n                <td class=\"desc\">rinitialiser le zoom et le\n                    panoramique\n                </td>\n                <td class=\"key\">E</td>\n                <td class=\"desc\">Egaliser les rles de matrises\n                </td>\n            </tr>\n            <tr>\n                <td class=\"key\">Dot</td>\n                <td class=\"desc\">Basculer a la barre d'outils</td>\n                <td class=\"key\">0</td>\n                <td class=\"desc\">Annuler la surveillance du trafic\n                </td>\n                <td class=\"key\">A</td>\n                <td class=\"desc\">Surveiller tout le trafic</td>\n            </tr>\n            <tr>\n                <td class=\"key\">F</td>\n                <td class=\"desc\">Afficher les flux de liaison de priphrique\n                </td>\n                <td class=\"key\">V</td>\n                <td class=\"desc\">Show all related intents</td>\n                <td class=\"key\">L-arrow</td>\n                <td class=\"desc\">Show previous related intent</td>\n            </tr>\n            <tr>\n                <td class=\"key\">R-arrow</td>\n                <td class=\"desc\">Show next related intent</td>\n                <td class=\"key\">W</td>\n                <td class=\"desc\">Monitor traffic of selected intent</td>\n            </tr>\n        </table>\n        <hr>\n        <div class=\"qhrow\">\n            <table class=\"qh-r4-c0\">\n                <tr>\n                    <td class=\"key\">cliquer</td>\n                    <td class=\"desc\">Slectionner l'article et montrer les\n                        dtails\n                    </td>\n                </tr>\n                <tr>\n                    <td class=\"key\">Cliquer sur MAJ</td>\n                    <td class=\"desc\">Basculer l'tat de slection</td>\n                </tr>\n                <tr>\n                    <td class=\"key\">Glisser</td>\n                    <td class=\"desc\">Repositionner (et pingler) le priphrique\n                        / l'hte\n                    </td>\n                </tr>\n                <tr>\n                    <td class=\"key\">cmd dfiler</td>\n                    <td class=\"desc\">Zoom avant/arrire</td>\n                </tr>\n                <tr>\n                    <td class=\"key\" y=\"48\">cmd-glisser</td>\n                    <td class=\"desc\" y=\"48\" x=\"74.84375\">Pan\n                </tr>\n            </table>\n        </div>\n    </div>\n</div>\n`,\n    styles: [`#quickhelp{top:100px;z-index:5000;position:relative}#quickhelp div.help{background:#000;opacity:.8}#quickhelp div.help table{vertical-align:top}#quickhelp div.help p{text-align:center;color:#fff;font-weight:700}#quickhelp td.key{color:#add;padding-left:8px;padding-right:4px}#quickhelp td.desc{color:#fff}`],\n    animations: [\n        trigger('quickHelpState', [\n            state('true', style({\n                opacity: '1.0',\n            })),\n            state('false', style({\n                opacity: '0.0',\n            })),\n            transition('0 => 1', animate('500ms ease-in')),\n            transition('1 => 0', animate('500ms ease-out'))\n        ])\n    ]\n})\nexport class QuickhelpComponent {\n    lionFn; // Function\n\n    constructor(\n        private log: LogService,\n        private fs: FnService,\n        public ks: KeysService,\n        private lion: LionService\n    ) {\n        if (this.lion.ubercache.length === 0) {\n            this.lionFn = this.dummyLion;\n            this.lion.loadCbs.set('quickhelp', () => this.doLion());\n        } else {\n            this.doLion();\n        }\n\n        this.log.debug('Quickhelp component constructed');\n    }\n\n    /**\n     * Read the LION bundle for Toolbar and set up the lionFn\n     */\n    doLion() {\n        this.lionFn = this.lion.bundle('core.fw.QuickHelp');\n    }\n\n    /**\n    * A dummy implementation of the lionFn until the response is received and the LION\n    * bundle is received from the WebSocket\n    */\n    dummyLion(key: string): string {\n        return '%' + key + '%';\n    }\n}\n","/*\n * Copyright 2018-present Open Networking Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DetectBrowserDirective } from './detectbrowser.directive';\nimport { IconComponent } from './svg/icon/icon.component';\nimport { VeilComponent } from './layer/veil/veil.component';\nimport { FlashComponent } from './layer/flash/flash.component';\nimport { ConfirmComponent } from './layer/confirm/confirm.component';\nimport { MastComponent } from './mast/mast/mast.component';\nimport { TableFilterPipe } from './widget/tablefilter.pipe';\nimport { TableResizeDirective } from './widget/tableresize.directive';\nimport { QuickhelpComponent } from './layer/quickhelp/quickhelp.component';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  declarations: [\n    DetectBrowserDirective,\n    TableResizeDirective,\n    IconComponent,\n    VeilComponent,\n    FlashComponent,\n    ConfirmComponent,\n    QuickhelpComponent,\n    MastComponent,\n    TableFilterPipe\n  ],\n  exports: [\n    DetectBrowserDirective,\n    TableResizeDirective,\n    IconComponent,\n    VeilComponent,\n    FlashComponent,\n    ConfirmComponent,\n    QuickhelpComponent,\n    MastComponent,\n    TableFilterPipe\n  ]\n})\nexport class Gui2FwLibModule { }\n","/*\n * Copyright 2018-present Open Networking Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false,\n  isDebugMode: true\n};\n","/*\n * Copyright 2018-present Open Networking Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Injectable } from '@angular/core';\nimport { environment } from '../environments/environment';\nimport { Logger } from './log.service';\n\nexport let isDebugMode: boolean = !environment.production;\n\nconst noop = (): any => undefined;\n\n/**\n * ONOS GUI -- LogService\n * Inspired by https://robferguson.org/blog/2017/09/09/a-simple-logging-service-for-angular-4/\n */\n@Injectable({\n  providedIn: 'root',\n})\nexport class ConsoleLoggerService implements Logger {\n\n  get debug() {\n    if (isDebugMode) {\n      return console.debug.bind(console);\n    } else {\n      return noop;\n    }\n  }\n\n  get info() {\n    if (isDebugMode) {\n      return console.info.bind(console);\n    } else {\n      return noop;\n    }\n  }\n\n  get warn() {\n    return console.warn.bind(console);\n  }\n\n  get error() {\n    return console.error.bind(console);\n  }\n\n  invokeConsoleMethod(type: string, args?: any): void {\n    const logFn: Function = (console)[type] || console.log || noop;\n    logFn.apply(console, [args]);\n  }\n}\n","/*\n * Copyright 2018-present Open Networking Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Injectable } from '@angular/core';\nimport { LogService } from '../log.service';\n\n\n/**\n * ONOS GUI -- Util -- Theme Service\n */\n@Injectable({\n  providedIn: 'root',\n})\nexport class ThemeService {\n    themes: string[] = ['light', 'dark'];\n    thidx = 0;\n\n    constructor(\n        private log: LogService\n    ) {\n        this.log.debug('ThemeService constructed');\n    }\n\n    getTheme(): string {\n        return this.themes[this.thidx];\n    }\n\n    themeStr(): string {\n        return this.themes.join(' ');\n    }\n\n}\n","/*\n *  Copyright 2018-present Open Networking Foundation\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\nimport {Inject, Injectable} from '@angular/core';\nimport { FnService } from '../util/fn.service';\nimport { LogService } from '../log.service';\nimport { ThemeService } from '../util/theme.service';\nimport * as d3 from 'd3';\n\nconst id = 'loading-anim';\nconst dir = 'data/img/loading/';\nconst pfx = '/load-';\nconst nImgs = 16;\nconst speed = 100;\nconst waitDelay = 500;\n\n\n/**\n * ONOS GUI -- Layer -- Loading Service\n *\n * Provides a mechanism to start/stop the loading animation, center screen.\n */\n@Injectable({\n  providedIn: 'root',\n})\nexport class LoadingService {\n    images: any[] = [];\n    idx = 0;\n    img: any;\n    theme: string;\n    task: any;\n    wait: number;\n\n    constructor(\n        private fs: FnService,\n        private log: LogService,\n        private ts: ThemeService,\n        @Inject('Window') private w: any\n    ) {\n        this.preloadImages();\n        this.log.debug('LoadingService constructed');\n    }\n\n    dbg(...args) {\n        this.fs.debug(this.constructor.name, args);\n    }\n\n    preloadImages() {\n        let idx: number;\n\n        this.dbg('preload images start...');\n        for (idx = 1; idx <= nImgs ; idx++) {\n            this.addImg('light', idx);\n            this.addImg('dark', idx);\n        }\n        this.dbg('preload images DONE!', this.images);\n    }\n\n    addImg(theme: string, idx: number) {\n        const img = new Image();\n        img.src = this.fname(idx, theme);\n        this.images.push(img);\n    }\n\n    fname(i: number, theme: string) {\n        const z = i > 9 ? '' : '0';\n        return dir + theme + pfx + z + i + '.png';\n    }\n\n    nextFrame() {\n        this.idx = this.idx === 16 ? 1 : this.idx + 1;\n        this.img.attr('src', this.fname(this.idx, this.theme));\n    }\n\n    // start displaying 'loading...' animation (idempotent)\n    startAnim() {\n        this.dbg('start ANIMATION');\n        this.theme = this.ts.getTheme();\n        let div = d3.select('#' + id);\n        if (div.empty()) {\n            div = d3.select('body')\n                .append('div')\n                .attr('id', id);\n            this.img = div\n                .append('img')\n                .attr('src', this.fname(1, this.theme));\n            this.idx = 1;\n            this.task = setInterval(() => this.nextFrame(), speed);\n        }\n    }\n\n    // stop displaying 'loading...' animation (idempotent)\n    stopAnim() {\n        this.dbg('*stop* ANIMATION');\n        if (this.task) {\n            clearInterval(this.task);\n            this.task = null;\n        }\n        d3.select('#' + id).remove();\n    }\n\n    // schedule function to start animation in the future\n    start() {\n        this.dbg('start (schedule)');\n        this.wait = this.w.setTimeout(this.startAnim(), waitDelay);\n    }\n\n    // cancel future start, if any; stop the animation\n    stop() {\n        if (this.wait) {\n            this.dbg('start CANCELED');\n            clearTimeout(this.wait);\n            this.wait = null;\n        }\n        this.stopAnim();\n    }\n\n    // return true if start() has been called but not stop()\n    waiting(): boolean {\n        return !!this.wait;\n    }\n\n\n}\n","/*\n * Copyright 2019-present Open Networking Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nimport {LogService} from '../log.service';\n\nconst LONGITUDE_EXTENT = 180;\nconst LATITUDE_EXTENT = 75;\nconst GRID_EXTENT_X = 2000;\nconst GRID_EXTENT_Y = 1000;\nconst GRID_DIAGONAL = 2236; // 2236 is the length of the diagonal of the 2000x1000 box\nconst GRID_CENTRE_X = 500;\nconst GRID_CENTRE_Y = 500;\n\n\n/**\n * A model of the map bounds bottom left to top right in lat and long\n */\nexport interface MapBounds {\n    lngMin: number;\n    latMin: number;\n    lngMax: number;\n    latMax: number;\n}\n\n/**\n * model of the topo2CurrentRegion Loc part of the MetaUi below\n */\nexport interface LocMeta {\n    lng: number;\n    lat: number;\n}\n\n/**\n * model of the topo2CurrentRegion MetaUi from Device below\n */\nexport interface MetaUi {\n    equivLoc: LocMeta;\n    x: number;\n    y: number;\n}\n\n/**\n * Model of the Zoom preferences\n */\nexport interface TopoZoomPrefs {\n    tx: number;\n    ty: number;\n    sc: number;\n}\n\n/**\n * Utility class with static functions for scaling maps\n *\n * This is left as a class, so that the functions are loaded only as needed\n */\nexport class ZoomUtils {\n    static convertGeoToCanvas(location: LocMeta ): MetaUi {\n        const calcX = (LONGITUDE_EXTENT + location.lng) / (LONGITUDE_EXTENT * 2) * GRID_EXTENT_X - GRID_CENTRE_X;\n        const calcY = (LATITUDE_EXTENT - location.lat) / (LATITUDE_EXTENT * 2) * GRID_EXTENT_Y;\n        return <MetaUi>{\n            x: calcX,\n            y: calcY,\n            equivLoc: {\n                lat: location.lat,\n                lng: location.lng\n            }\n        };\n    }\n\n    static convertXYtoGeo(x: number, y: number): MetaUi {\n        const calcLong: number = (x + GRID_CENTRE_X) * 2 * LONGITUDE_EXTENT / GRID_EXTENT_X - LONGITUDE_EXTENT;\n        const calcLat: number = -(y * 2 * LATITUDE_EXTENT / GRID_EXTENT_Y - LATITUDE_EXTENT);\n        return <MetaUi>{\n            x: x,\n            y: y,\n            equivLoc: <LocMeta>{\n                lat: (calcLat === -0) ? 0 : calcLat,\n                lng: calcLong\n            }\n        };\n    }\n\n    /**\n     * This converts the bounds of a map loaded from a TopoGson file that has been\n     * converted in to a GEOJson format by d3\n     *\n     * The bounds are in latitude and longitude from bottom left (min) to top right (max)\n     *\n     * First they are converted in to SVG viewbox coordinates 0,0 top left 1000x1000\n     *\n     * The the zoom level is calculated by scaling to the grid diagonal\n     *\n     * Finally the translation is calculated by applying the zoom first, and then\n     * translating on the zoomed coordinate system\n     * @param mapBounds - the bounding box of the chosen map in lat and long\n     * @param log The LogService\n     */\n    static convertBoundsToZoomLevel(mapBounds: MapBounds, log?: LogService): TopoZoomPrefs {\n\n        const min: MetaUi = this.convertGeoToCanvas(<LocMeta>{\n            lng: mapBounds.lngMin,\n            lat: mapBounds.latMin\n        });\n\n        const max: MetaUi = this.convertGeoToCanvas(<LocMeta>{\n            lng: mapBounds.lngMax,\n            lat: mapBounds.latMax\n        });\n\n        const diagonal = Math.sqrt(Math.pow(max.x - min.x, 2) + Math.pow(max.y - min.y, 2));\n        const centreX = (max.x - min.x) / 2 + min.x;\n        const centreY = (max.y - min.y) / 2 + min.y;\n        // Zoom works from the top left of the 1000x1000 viewbox\n        // The scale is applied first and then the translate is on the scaled coordinates\n        const zoomscale = 0.5 * GRID_DIAGONAL / ((diagonal < 100) ? 100 : diagonal); // Don't divide by zero\n        const zoomx = -centreX * zoomscale + GRID_CENTRE_X;\n        const zoomy = -centreY * zoomscale + GRID_CENTRE_Y;\n\n        // log.debug('MapBounds', mapBounds, 'XYMin', min, 'XYMax', max, 'Diag', diagonal,\n        //     'Centre', centreX, centreY, 'translate', zoomx, zoomy, 'Scale', zoomscale);\n\n        return <TopoZoomPrefs>{tx: zoomx, ty: zoomy, sc: zoomscale};\n    }\n\n    /**\n     * Calculate Zoom settings to fit the 1000x1000 grid in to the available window height\n     * less the banner height\n     *\n     * Scaling always happens from the top left 0,0\n     * If the height is greater than the width then no scaling is required - grid will\n     * need to fill the SVG canvas\n     * @param bannerHeight - the top band of the screen for the mast\n     * @param innerWidth - the actual width of the screen\n     * @param innerHeight - the actual height of the screen\n     * @return Zoom settings - scale and translate\n     */\n    static zoomToWindowSize(bannerHeight: number, innerWidth: number, innerHeight: number): TopoZoomPrefs {\n        const newHeight = innerHeight - bannerHeight;\n        if (newHeight > innerWidth) {\n            return <TopoZoomPrefs>{\n                sc: 1.0,\n                tx: 0,\n                ty: 0\n            };\n        } else {\n            const scale = newHeight / innerWidth;\n            return <TopoZoomPrefs>{\n                sc: scale,\n                tx: (500 / scale - 500) * scale,\n                ty: 0\n            };\n        }\n    }\n}\n","/*\n * Copyright 2018-present Open Networking Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {Inject, Injectable} from '@angular/core';\nimport { FnService } from './fn.service';\nimport { LogService } from '../log.service';\nimport { WebSocketService } from '../remote/websocket.service';\n\nconst UPDATE_PREFS: string = 'updatePrefs';\nconst UPDATE_PREFS_REQ: string = 'updatePrefReq';\n\n\n/**\n * ONOS GUI -- Util -- User Preference Service\n */\n@Injectable({\n    providedIn: 'root',\n})\nexport class PrefsService {\n    protected handlers: string[] = [];\n    cache: Object;\n    listeners: ((data) => void)[] = [];\n    constructor(\n        protected fs: FnService,\n        protected log: LogService,\n        protected wss: WebSocketService,\n        @Inject('Window') private window: any\n    ) {\n        this.wss.bindHandlers(new Map<string, (data) => void>([\n            [UPDATE_PREFS, (data) => this.updatePrefs(data)]\n        ]));\n        this.handlers.push(UPDATE_PREFS);\n\n        // When index.html is fetched it is served up by MainIndexResource.java\n        // which fetches userPrefs in to the global scope.\n        // After that updates are done through WebSocket\n        this.cache = Object.assign({}, this.window['userPrefs']);\n\n        this.log.debug('PrefsService constructed');\n    }\n\n    setPrefs(name: string, obj: Object) {\n        // keep a cached copy of the object and send an update to server\n        this.cache[name] = obj;\n        this.wss.sendEvent(UPDATE_PREFS_REQ, { key: name, value: obj });\n    }\n    updatePrefs(data: any) {\n        this.cache = data;\n        this.listeners.forEach((lsnr) => lsnr(data) );\n    }\n\n    asNumbers(obj: any, keys?: any, not?: any) {\n        if (!obj) {\n            return null;\n        }\n\n        const skip = {};\n        if (not) {\n            keys.forEach(k => {\n                skip[k] = 1;\n            }\n            );\n        }\n\n        if (!keys || not) {\n            // do them all\n            Array.from(obj).forEach((v, k) => {\n                if (!not || !skip[k]) {\n                    obj[k] = Number(obj[k]);\n                }\n            });\n        } else {\n            // do the explicitly named keys\n            keys.forEach(k => {\n                obj[k] = Number(obj[k]);\n            });\n        }\n        return obj;\n    }\n\n    getPrefs(name: string, defaults: Object, qparams?: string) {\n        const obj = Object.assign({}, defaults || {}, this.cache[name] || {});\n\n        // if query params are specified, they override...\n        if (this.fs.isO(qparams)) {\n            obj.forEach(k => {\n                if (qparams.hasOwnProperty(k)) {\n                    obj[k] = qparams[k];\n                }\n            });\n        }\n        return obj;\n    }\n\n    // merge preferences:\n    // The assumption here is that obj is a sparse object, and that the\n    //  defined keys should overwrite the corresponding values, but any\n    //  existing keys that are NOT explicitly defined here should be left\n    //  alone (not deleted).\n    mergePrefs(name: string, obj: any): void {\n        const merged = this.cache[name] || {};\n        this.setPrefs(name, Object.assign(merged, obj));\n    }\n\n    /**\n     * Add a listener function\n     * This will get called back when an 'updatePrefs' message is received on WSS\n     * @param listener a function that can accept one param - data\n     */\n    addListener(listener: (data) => void): void {\n        this.listeners.push(listener);\n    }\n\n    removeListener(listener: (data) => void) {\n        this.listeners = this.listeners.filter((obj) => obj !== listener);\n    }\n\n}\n","/*\n * Copyright 2018-present Open Networking Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { FnService } from '../util/fn.service';\nimport { LoadingService } from '../layer/loading.service';\nimport { LogService } from '../log.service';\n\n\n/**\n * Base model of panel view - implemented by Panel components\n */\nexport interface PanelBase {\n    showPanel(cb: any): void;\n    hidePanel(cb: any): void;\n    togglePanel(cb: any): void;\n    panelIsVisible(): boolean;\n}\n\n/**\n * ONOS GUI -- Widget -- Panel Base class\n *\n * Replacing the panel service in the old implementation\n */\nexport abstract class PanelBaseImpl implements PanelBase {\n\n    on: boolean;\n\n    protected constructor(\n        protected fs: FnService,\n        protected ls: LoadingService,\n        protected log: LogService\n    ) {\n//        this.log.debug('Panel base class constructed');\n    }\n\n    showPanel(cb) {\n        this.on = true;\n    }\n\n    hidePanel(cb) {\n        this.on = false;\n    }\n\n    togglePanel(cb): boolean {\n        if (this.on) {\n            this.hidePanel(cb);\n        } else {\n            this.showPanel(cb);\n        }\n        return this.on;\n    }\n\n    panelIsVisible(): boolean {\n        return this.on;\n    }\n\n    /**\n     * A dummy implementation of the lionFn until the response is received and the LION\n     * bundle is received from the WebSocket\n     */\n    dummyLion(key: string): string {\n        return '%' + key + '%';\n    }\n}\n","/*\n * Copyright 2018-present Open Networking Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { FnService } from '../util/fn.service';\nimport { LoadingService } from '../layer/loading.service';\nimport { LogService } from '../log.service';\nimport { WebSocketService } from '../remote/websocket.service';\n\nimport { PanelBaseImpl } from './panel.base';\nimport { Output, EventEmitter, Input } from '@angular/core';\n\n/**\n * A generic model of the data returned from the *DetailsResponse\n */\nexport interface DetailsResponse {\n    details: any;\n}\n\n/**\n * Extends the PanelBase abstract class specifically for showing details\n *\n * This makes another call through WSS to the server for specific\n * details to fill the panel with\n *\n * This replaces the detailspanel service in the old gui\n */\nexport abstract class DetailsPanelBaseImpl extends PanelBaseImpl {\n\n    @Input() id: string;\n    @Output() closeEvent = new EventEmitter<string>();\n\n    private root: string;\n    private req: string;\n    private resp: string;\n    private handlers: string[] = [];\n    public detailsData: any = {};\n    public closed: boolean = false;\n\n    constructor(\n        protected fs: FnService,\n        protected ls: LoadingService,\n        protected log: LogService,\n        protected wss: WebSocketService,\n        protected tag: string,\n    ) {\n        super(fs, ls, log);\n        this.root = tag + 's';\n        this.req = tag + 'DetailsRequest';\n        this.resp = tag + 'DetailsResponse';\n    }\n\n    /**\n     * When the details panel is created set up a listener on\n     * Web Socket for details responses\n     */\n    init() {\n        this.wss.bindHandlers(new Map<string, (data) => void>([\n            [this.resp, (data) => this.detailsPanelResponseCb(data)]\n        ]));\n        this.handlers.push(this.resp);\n    }\n\n    /**\n     * When the details panel is destroyed this should be called to\n     * de-register from the WebSocket\n     */\n    destroy() {\n        this.wss.unbindHandlers(this.handlers);\n    }\n\n    /**\n     * A callback that executes when the details data that was requested\n     * on WebSocketService arrives.\n     */\n    detailsPanelResponseCb(data: DetailsResponse) {\n        this.detailsData = data['details'];\n    }\n\n    /**\n     * Details Panel Data Request - should be called whenever row id changes\n     */\n    requestDetailsPanelData(query: any) {\n        this.closed = false;\n        // Do not send if the Web Socket hasn't opened\n        if (this.wss.isConnected()) {\n            if (this.fs.debugOn('panel')) {\n                this.log.debug('Details panel data REQUEST:', this.req, query);\n            }\n            this.wss.sendEvent(this.req, query);\n        }\n    }\n\n    /**\n     * this should be called when the details panel close button is clicked\n     */\n    close(): void {\n        this.closed = true;\n        this.id = null;\n        this.closeEvent.emit(this.id);\n    }\n\n}\n","/*\n * Copyright 2018-present Open Networking Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { FnService } from '../util/fn.service';\nimport { LoadingService } from '../layer/loading.service';\nimport { LogService } from '../log.service';\nimport { WebSocketService } from '../remote/websocket.service';\nimport { Observable, of } from 'rxjs';\n\nconst REFRESH_INTERVAL = 2000;\nconst SEARCH_REGEX = '\\\\W';\n\n/**\n * Model of table annotations within this table base class\n */\nexport interface TableAnnots {\n    noRowsMsg: string;\n}\n\n/**\n * A model of data returned from Web Socket in a TableResponse\n *\n * There is an interface extending from this one in the parent component\n */\nexport interface TableResponse {\n    annots: any;\n    // There will be other parts to the response depending on table type\n    // Expect one called tag+'s' e.g. devices or apps\n}\n\n/**\n * A criteria for filtering the tableData\n */\nexport interface TableFilter {\n    queryStr: string;\n    queryBy: string;\n    sortBy: string;\n}\n\n/**\n * Enumerated values for the sort dir\n */\nexport enum SortDir {\n    asc = 'asc', desc = 'desc'\n}\n\n/**\n * A structure to format sort params for table\n * This is sent to WebSocket as part of table request\n */\nexport interface SortParams {\n    firstCol: string;\n    firstDir: SortDir;\n    secondCol: string;\n    secondDir: SortDir;\n}\n\nexport interface PayloadParams {\n    devId: string;\n}\n\n\n/**\n * ONOS GUI -- Widget -- Table Base class\n */\nexport abstract class TableBaseImpl {\n    // attributes from the interface\n    public annots: TableAnnots;\n    protected changedData: string[] = [];\n    protected payloadParams: PayloadParams;\n    protected sortParams: SortParams;\n    public selectCallback; // Function\n    protected parentSelCb = null;\n    protected responseCallback; // Function\n    selId: string = undefined;\n    tableData: any[] = [];\n    tableDataFilter: TableFilter;\n    toggleRefresh; // Function\n    autoRefresh: boolean = true;\n    autoRefreshTip: string = 'Toggle auto refresh'; // TODO: get LION string\n\n    readonly root: string;\n    readonly req: string;\n    readonly resp: string;\n    private refreshPromise: any = null;\n    private handlers: string[] = [];\n\n    protected constructor(\n        protected fs: FnService,\n        protected ls: LoadingService,\n        protected log: LogService,\n        protected wss: WebSocketService,\n        protected tag: string,\n        protected idKey: string = 'id',\n        protected selCb = () => ({}) // Function\n    ) {\n        this.root = tag + 's';\n        this.req = tag + 'DataRequest';\n        this.resp = tag + 'DataResponse';\n\n        this.selectCallback = this.rowSelectionCb;\n        this.toggleRefresh = () => {\n            this.autoRefresh = !this.autoRefresh;\n            this.autoRefresh ? this.startRefresh() : this.stopRefresh();\n        };\n\n        // Mapped to the search and searchBy inputs in template\n        // Changes are handled through TableFilterPipe\n        this.tableDataFilter = <TableFilter>{\n            queryStr: '',\n            queryBy: '$',\n        };\n    }\n\n    init() {\n        this.wss.bindHandlers(new Map<string, (data) => void>([\n            [this.resp, (data) => this.tableDataResponseCb(data)]\n        ]));\n        this.handlers.push(this.resp);\n\n        this.annots = <TableAnnots>{\n            noRowsMsg: ''\n        };\n\n        // Now send the WebSocket request and make it repeat every 2 seconds\n        this.requestTableData();\n        this.startRefresh();\n        this.log.debug('TableBase initialized. Calling ', this.req,\n            'every', REFRESH_INTERVAL, 'ms');\n    }\n\n    destroy() {\n        this.wss.unbindHandlers(this.handlers);\n        this.stopRefresh();\n        this.ls.stop();\n    }\n\n    /**\n     * A callback that executes when the table data that was requested\n     * on WebSocketService arrives.\n     *\n     * Happens every 2 seconds\n     */\n    tableDataResponseCb(data: TableResponse) {\n        this.ls.stop();\n\n        const newTableData: any[] = Array.from(data[this.root]);\n        this.annots.noRowsMsg = data.annots.no_rows_msg;\n\n        // If the parents onResp() function is set then call it\n        if (this.responseCallback) {\n            this.responseCallback(data);\n        }\n        this.changedData = [];\n\n        // checks if data changed for row flashing\n        if (JSON.stringify(newTableData) !== JSON.stringify(this.tableData)) {\n            this.log.debug('table data has changed');\n            const oldTableData: any[] = this.tableData;\n            this.tableData = [...newTableData]; // ES6 spread syntax\n            // only flash the row if the data already exists\n            if (oldTableData.length > 0) {\n                for (const idx in newTableData) {\n                    if (!this.fs.containsObj(oldTableData, newTableData[idx])) {\n                        this.changedData.push(newTableData[idx][this.idKey]);\n                    }\n                }\n            }\n        }\n    }\n\n    /**\n     * Table Data Request\n     * Pass in sort parameters and the set will be returned sorted\n     * In the old GUI there was also a query parameter, but this was not\n     * implemented on the server end\n     */\n    requestTableData() {\n        const p = Object.assign({}, this.sortParams, this.payloadParams);\n\n        // Allow it to sit in pending events\n        if (this.wss.isConnected()) {\n            if (this.fs.debugOn('table')) {\n                this.log.debug('Table data REQUEST:', this.req, p);\n            }\n            this.wss.sendEvent(this.req, p);\n            this.ls.start();\n        }\n    }\n\n    /**\n     * Row Selected\n     */\n    rowSelectionCb(event: any, selRow: any): void {\n        const selId: string = selRow[this.idKey];\n        this.selId = (this.selId === selId) ? undefined : selId;\n        this.log.debug('Row', selId, 'selected');\n        if (this.parentSelCb) {\n            this.parentSelCb(event, selRow);\n        }\n    }\n\n    /**\n     * autoRefresh functions\n     */\n    startRefresh() {\n        this.refreshPromise =\n            setInterval(() => {\n                if (!this.ls.waiting()) {\n                    if (this.fs.debugOn('table')) {\n                        this.log.debug('Refreshing ' + this.root + ' page');\n                    }\n                    this.requestTableData();\n                }\n            }, REFRESH_INTERVAL);\n    }\n\n    stopRefresh() {\n        if (this.refreshPromise) {\n            clearInterval(this.refreshPromise);\n            this.refreshPromise = null;\n        }\n    }\n\n    isChanged(id: string): boolean {\n        return (this.fs.inArray(id, this.changedData) === -1) ? false : true;\n    }\n\n    /**\n     * A dummy implementation of the lionFn until the response is received and the LION\n     * bundle is received from the WebSocket\n     */\n    dummyLion(key: string): string {\n        return '%' + key + '%';\n    }\n\n    /**\n     * Change the sort order of the data returned\n     *\n     * sortParams are passed to the server by WebSocket and the data is\n     * returned sorted\n     *\n     * This is usually assigned to the (click) event on a column, and the column\n     * name passed in e.g. (click)=\"onSort('origin')\n     * If the column that is passed in is already the firstCol, then reverse its direction\n     * If a new column is passed in, then make the existing col the 2nd sort order\n     */\n    onSort(colName: string) {\n        if (this.sortParams.firstCol === colName) {\n            if (this.sortParams.firstDir === SortDir.desc) {\n                this.sortParams.firstDir = SortDir.asc;\n                return;\n            } else {\n                this.sortParams.firstDir = SortDir.desc;\n                return;\n            }\n        } else {\n            this.sortParams.secondCol = this.sortParams.firstCol;\n            this.sortParams.secondDir = this.sortParams.firstDir;\n            this.sortParams.firstCol = colName;\n            this.sortParams.firstDir = SortDir.desc;\n        }\n        this.log.debug('Sort params', this.sortParams);\n        this.requestTableData();\n    }\n\n    sortIcon(column: string): string {\n        if (this.sortParams.firstCol === column) {\n            if (this.sortParams.firstDir === SortDir.asc) {\n                return 'upArrow';\n            } else {\n                return 'downArrow';\n            }\n        } else {\n            return '';\n        }\n    }\n\n    /**\n     * De-selects the row\n     */\n    deselectRow(event) {\n        this.log.debug('Details panel close event');\n        this.selId = event;\n    }\n}\n"]}